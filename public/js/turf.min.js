(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.turf = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function geometry(e){var r,t=0;switch(e.type){case"Polygon":return polygonArea(e.coordinates);case"MultiPolygon":for(r=0;r<e.coordinates.length;r++)t+=polygonArea(e.coordinates[r]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<e.geometries.length;r++)t+=geometry(e.geometries[r]);return t}}function polygonArea(e){var r=0;if(e&&e.length>0){r+=Math.abs(ringArea(e[0]));for(var t=1;t<e.length;t++)r-=Math.abs(ringArea(e[t]))}return r}function ringArea(e){var r,t,n,o,a,i,g,s=0,l=e.length;if(l>2){for(g=0;g<l;g++)g===l-2?(o=l-2,a=l-1,i=0):g===l-1?(o=l-1,a=0,i=1):(o=g,a=g+1,i=g+2),r=e[o],t=e[a],n=e[i],s+=(rad(n[0])-rad(r[0]))*Math.sin(rad(t[1]));s=s*wgs84.RADIUS*wgs84.RADIUS/2}return s}function rad(e){return e*Math.PI/180}var wgs84=require("wgs84");module.exports.geometry=geometry,module.exports.ring=ringArea;

},{"wgs84":186}],2:[function(require,module,exports){
var measureDistance=require("@turf/distance"),point=require("@turf/helpers").point,bearing=require("@turf/bearing"),destination=require("@turf/destination");module.exports=function(e,r,t){var i;if("Feature"===e.type)i=e.geometry.coordinates;else{if("LineString"!==e.type)throw new Error("input must be a LineString Feature or Geometry");i=e.coordinates}for(var n=0,a=0;a<i.length&&!(r>=n&&a===i.length-1);a++){if(n>=r){var o=r-n;if(o){var u=bearing(i[a],i[a-1])-180;return destination(i[a],o,u,t)}return point(i[a])}n+=measureDistance(i[a],i[a+1],t)}return point(i[i.length-1])};
},{"@turf/bearing":7,"@turf/destination":36,"@turf/distance":39,"@turf/helpers":46}],3:[function(require,module,exports){
var area=require("@mapbox/geojson-area").geometry,geomReduce=require("@turf/meta").geomReduce;module.exports=function(e){return geomReduce(e,function(e,r){return e+area(r)},0)};

},{"@mapbox/geojson-area":1,"@turf/meta":77}],4:[function(require,module,exports){
function clipPolygon(e,n){for(var r=[],t=0;t<e.length;t++){var i=lineclip.polygon(e[t],n);i.length>0&&(i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]||i.push(i[0]),i.length>=4&&r.push(i))}return r}function getGeom(e){return e.geometry?e.geometry.type:e.type}var helpers=require("@turf/helpers"),lineclip=require("lineclip"),getCoords=require("@turf/invariant").getCoords,lineString=helpers.lineString,multiLineString=helpers.multiLineString,polygon=helpers.polygon,multiPolygon=helpers.multiPolygon;module.exports=function(e,n){var r=getGeom(e),t=getCoords(e),i=e.properties;switch(r){case"LineString":case"MultiLineString":var o=[];return"LineString"===r&&(t=[t]),t.forEach(function(e){lineclip(e,n,o)}),1===o.length?lineString(o[0],i):multiLineString(o,i);case"Polygon":return polygon(clipPolygon(t,n),i);case"MultiPolygon":return multiPolygon(t.map(function(e){return clipPolygon(e,n)}),i);default:throw new Error("geometry "+r+" not supported")}};

},{"@turf/helpers":46,"@turf/invariant":52,"lineclip":153}],5:[function(require,module,exports){
var polygon=require("@turf/helpers").polygon;module.exports=function(o){var r=[o[0],o[1]],e=[o[0],o[3]],n=[o[2],o[3]],l=[o[2],o[1]];return polygon([[r,l,n,e,r]])};

},{"@turf/helpers":46}],6:[function(require,module,exports){
var coordEach=require("@turf/meta").coordEach;module.exports=function(r){var o=[1/0,1/0,-1/0,-1/0];return coordEach(r,function(r){o[0]>r[0]&&(o[0]=r[0]),o[1]>r[1]&&(o[1]=r[1]),o[2]<r[0]&&(o[2]=r[0]),o[3]<r[1]&&(o[3]=r[1])}),o};

},{"@turf/meta":77}],7:[function(require,module,exports){
function bearing(a,t,r){if(!0===r)return calculateFinalBearing(a,t);var n=Math.PI/180,e=180/Math.PI,i=getCoord(a),o=getCoord(t),c=n*i[0],h=n*o[0],u=n*i[1],M=n*o[1],g=Math.sin(h-c)*Math.cos(M),s=Math.cos(u)*Math.sin(M)-Math.sin(u)*Math.cos(M)*Math.cos(h-c);return e*Math.atan2(g,s)}function calculateFinalBearing(a,t){var r=bearing(t,a);return r=(r+180)%360}var getCoord=require("@turf/invariant").getCoord;module.exports=bearing;

},{"@turf/invariant":52}],8:[function(require,module,exports){
var linestring=require("@turf/helpers").lineString,Spline=require("./spline.js");module.exports=function(r,e,n){for(var i=[],t=new Spline({points:r.geometry.coordinates.map(function(r){return{x:r[0],y:r[1]}}),duration:e,sharpness:n}),o=0;o<t.duration;o+=10){var s=t.pos(o);Math.floor(o/100)%2==0&&i.push([s.x,s.y])}return linestring(i,r.properties)};

},{"./spline.js":9,"@turf/helpers":46}],9:[function(require,module,exports){
var Spline=function(s){this.points=s.points||[],this.duration=s.duration||1e4,this.sharpness=s.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=s.stepLength||60,this.length=this.points.length,this.delay=0;for(var t=0;t<this.length;t++)this.points[t].z=this.points[t].z||0;for(var t=0;t<this.length-1;t++){var i=this.points[t],h=this.points[t+1];this.centers.push({x:(i.x+h.x)/2,y:(i.y+h.y)/2,z:(i.z+h.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(var t=0;t<this.centers.length-1;t++){var i=this.centers[t],h=this.centers[t+1],n=this.points[t+1].x-(this.centers[t].x+this.centers[t+1].x)/2,e=this.points[t+1].y-(this.centers[t].y+this.centers[t+1].y)/2,r=this.points[t+1].z-(this.centers[t].y+this.centers[t+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t].x+n),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t].y+e),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t].z+r)},{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t+1].x+n),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t+1].y+e),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t+1].z+r)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};Spline.prototype.cacheSteps=function(s){var t=[],i=this.pos(0);t.push(0);for(var h=0;h<this.duration;h+=10){var n=this.pos(h);Math.sqrt((n.x-i.x)*(n.x-i.x)+(n.y-i.y)*(n.y-i.y)+(n.z-i.z)*(n.z-i.z))>s&&(t.push(h),i=n)}return t},Spline.prototype.vector=function(s){var t=this.pos(s+10),i=this.pos(s-10);return{angle:180*Math.atan2(t.y-i.y,t.x-i.x)/3.14,speed:Math.sqrt((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y)+(i.z-t.z)*(i.z-t.z))}},Spline.prototype.pos=function(s){var t=s-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);var i=t/this.duration;if(i>=1)return this.points[this.length-1];var h=Math.floor((this.points.length-1)*i),n=(this.length-1)*i-h;return function(s,t,i,h,n){var e=function(s){var t=s*s;return[t*s,3*t*(1-s),3*s*(1-s)*(1-s),(1-s)*(1-s)*(1-s)]}(s);return{x:n.x*e[0]+h.x*e[1]+i.x*e[2]+t.x*e[3],y:n.y*e[0]+h.y*e[1]+i.y*e[2]+t.y*e[3],z:n.z*e[0]+h.z*e[1]+i.z*e[2]+t.z*e[3]}}(n,this.points[h],this.controls[h][1],this.controls[h+1][0],this.points[h+1])},module.exports=Spline;
},{}],10:[function(require,module,exports){
var invariant=require("@turf/invariant"),getCoords=invariant.getCoords;module.exports=function(r){if(!r)throw new Error("line is required");var e=r.geometry?r.geometry.type:r.type;if(!Array.isArray(r)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var t,i,n=getCoords(r),o=0,a=1;a<n.length;)t=i||n[0],i=n[a],o+=(i[0]-t[0])*(i[1]+t[1]),a++;return o>0};

},{"@turf/invariant":52}],11:[function(require,module,exports){
function isPointInMultiPoint(n,e){var t,o=!1;for(t=0;t<n.coordinates.length;t++)if(compareCoords(n.coordinates[t],e.coordinates)){o=!0;break}return o}function isMultiPointInMultiPoint(n,e){for(var t=0;t<e.coordinates.length;t++){for(var o=!1,r=0;r<n.coordinates.length;r++)if(compareCoords(e.coordinates[t],n.coordinates[r])){o=!0;break}if(!o)return!1}return!0}function isMultiPointOnLine(n,e){for(var t=!1,o=0;o<e.coordinates.length;o++)if(isPointOnLine(e.coordinates[o],n,!0)&&(t=!0),!isPointOnLine(e.coordinates[o],n))return!1;return!!t}function isMultiPointInPoly(n,e){for(var t=0;t<e.coordinates.length;t++)if(!inside(e.coordinates[t],n,!0))return!1;return!0}function isLineOnLine(n,e){for(var t=!1,o=0;o<e.coordinates.length;o++)if(isPointOnLine({type:"Point",coordinates:e.coordinates[o]},n,!0)&&(t=!0),!isPointOnLine({type:"Point",coordinates:e.coordinates[o]},n,!1))return!1;return t}function isLineInPoly(n,e){var t=!1,o=0;if(!doBBoxOverlap(calcBbox(n),calcBbox(e)))return!1;for(o;o<e.coordinates.length-1;o++){var r=getMidpoint(e.coordinates[o],e.coordinates[o+1]);if(inside({type:"Point",coordinates:r},n,!0)){t=!0;break}}return t}function isPolyInPoly(n,e){if(!doBBoxOverlap(calcBbox(n),calcBbox(e)))return!1;for(var t=0;t<e.coordinates[0].length;t++)if(!inside(e.coordinates[0][t],n))return!1;return!0}function doBBoxOverlap(n,e){return!(n[0]>e[0])&&(!(n[2]<e[2])&&(!(n[1]>e[1])&&!(n[3]<e[3])))}function compareCoords(n,e){return n[0]===e[0]&&n[1]===e[1]}function getMidpoint(n,e){return[(n[0]+e[0])/2,(n[1]+e[1])/2]}var inside=require("@turf/inside"),calcBbox=require("@turf/bbox"),isPointOnLine=require("@turf/boolean-point-on-line"),invariant=require("@turf/invariant"),getGeom=invariant.getGeom,getCoords=invariant.getCoords,getGeomType=invariant.getGeomType;module.exports=function(n,e){var t=getGeomType(n),o=getGeomType(e),r=getGeom(n),i=getGeom(e),a=getCoords(n),s=getCoords(e);switch(t){case"Point":switch(o){case"Point":return compareCoords(a,s);default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"Point":return isPointInMultiPoint(r,i);case"MultiPoint":return isMultiPointInMultiPoint(r,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"Point":return isPointOnLine(i,r,!0);case"LineString":return isLineOnLine(r,i);case"MultiPoint":return isMultiPointOnLine(r,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Point":return inside(i,r,!0);case"LineString":return isLineInPoly(r,i);case"Polygon":return isPolyInPoly(r,i);case"MultiPoint":return isMultiPointInPoly(r,i);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+t+" geometry not supported")}};

},{"@turf/bbox":6,"@turf/boolean-point-on-line":16,"@turf/inside":49,"@turf/invariant":52}],12:[function(require,module,exports){
function doMultiPointAndLineStringCross(e,n){for(var t=!1,r=!1,o=e.coordinates.length,i=0;i<o&&!t&&!r;){for(var s=0;s<n.coordinates.length-1;s++){var a=!0;0!==s&&s!==n.coordinates.length-2||(a=!1),isPointOnLineSegment(n.coordinates[s],n.coordinates[s+1],e.coordinates[i],a)?t=!0:r=!0}i++}return t&&r}function doLineStringsCross(e,n){if(lineIntersect(e,n).features.length>0)for(var t=0;t<e.coordinates.length-1;t++)for(var r=0;r<n.coordinates.length-1;r++){var o=!0;if(0!==r&&r!==n.coordinates.length-2||(o=!1),isPointOnLineSegment(e.coordinates[t],e.coordinates[t+1],n.coordinates[r],o))return!0}return!1}function doLineStringAndPolygonCross(e,n){return lineIntersect(e,polyToLinestring(n)).features.length>0}function isPointInPoly(e,n){return inside(n,e)}function doesMultiPointCrossPoly(e,n){for(var t=!1,r=!1,o=e.coordinates[0].length,i=0;i<o&&t&&r;)isPointInPoly(n,helpers.point(e.coordinates[0][i]),!0)?t=!0:r=!0,i++;return r&&r}function isPointOnLineSegment(e,n,t,r){var o=t[0]-e[0],i=t[1]-e[1],s=n[0]-e[0],a=n[1]-e[1];return 0==o*a-i*s&&(r?Math.abs(s)>=Math.abs(a)?s>0?e[0]<=t[0]&&t[0]<=n[0]:n[0]<=t[0]&&t[0]<=e[0]:a>0?e[1]<=t[1]&&t[1]<=n[1]:n[1]<=t[1]&&t[1]<=e[1]:Math.abs(s)>=Math.abs(a)?s>0?e[0]<t[0]&&t[0]<n[0]:n[0]<t[0]&&t[0]<e[0]:a>0?e[1]<t[1]&&t[1]<n[1]:n[1]<t[1]&&t[1]<e[1])}var helpers=require("@turf/helpers"),inside=require("@turf/inside"),lineIntersect=require("@turf/line-intersect"),polyToLinestring=require("@turf/polygon-to-linestring"),invariant=require("@turf/invariant"),getGeom=invariant.getGeom,getGeomType=invariant.getGeomType;module.exports=function(e,n){var t=getGeomType(e),r=getGeomType(n),o=getGeom(e),i=getGeom(n);switch(t){case"MultiPoint":switch(r){case"LineString":return doMultiPointAndLineStringCross(o,i);case"Polygon":return doesMultiPointCrossPoly(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"MultiPoint":return doMultiPointAndLineStringCross(i,o);case"LineString":return doLineStringsCross(o,i);case"Polygon":return doLineStringAndPolygonCross(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"MultiPoint":return doesMultiPointCrossPoly(i,o);case"LineString":return doLineStringAndPolygonCross(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+t+" geometry not supported")}};

},{"@turf/helpers":46,"@turf/inside":49,"@turf/invariant":52,"@turf/line-intersect":67,"@turf/polygon-to-linestring":86}],13:[function(require,module,exports){
function disjoint(n,e){switch(n.type){case"Point":switch(e.type){case"Point":return!compareCoords(n.coordinates,e.coordinates);case"LineString":return!isPointOnLine(e,n);case"Polygon":return!inside(n,e)}break;case"LineString":switch(e.type){case"Point":return!isPointOnLine(n,e);case"LineString":return!isLineOnLine(n,e);case"Polygon":return!isLineInPoly(e,n)}break;case"Polygon":switch(e.type){case"Point":return!inside(e,n);case"LineString":return!isLineInPoly(n,e);case"Polygon":return!isPolyInPoly(e,n)}}}function isPointOnLine(n,e){for(var t=0;t<n.coordinates.length-1;t++)if(isPointOnLineSegment(n.coordinates[t],n.coordinates[t+1],e.coordinates))return!0;return!1}function isLineOnLine(n,e){return lineIntersect(n,e).features.length>0}function isLineInPoly(n,e){return lineIntersect(e,polyToLinestring(n)).features.length>0}function isPolyInPoly(n,e){for(var t=0;t<n.coordinates[0].length;t++)if(inside(n.coordinates[0][t],e))return!0;for(var i=0;i<e.coordinates[0].length;i++)if(inside(e.coordinates[0][i],n))return!0;return!1}function isPointOnLineSegment(n,e,t){var i=t[0]-n[0],r=t[1]-n[1],o=e[0]-n[0],s=e[1]-n[1];return 0==i*s-r*o&&(Math.abs(o)>=Math.abs(s)?o>0?n[0]<=t[0]&&t[0]<=e[0]:e[0]<=t[0]&&t[0]<=n[0]:s>0?n[1]<=t[1]&&t[1]<=e[1]:e[1]<=t[1]&&t[1]<=n[1])}function compareCoords(n,e){return n[0]===e[0]&&n[1]===e[1]}var inside=require("@turf/inside"),flattenEach=require("@turf/meta").flattenEach,lineIntersect=require("@turf/line-intersect"),polyToLinestring=require("@turf/polygon-to-linestring");module.exports=function(n,e){var t;return flattenEach(n,function(n){flattenEach(e,function(e){if(!1===t)return!1;t=disjoint(n.geometry,e.geometry)})}),t};

},{"@turf/inside":49,"@turf/line-intersect":67,"@turf/meta":77,"@turf/polygon-to-linestring":86}],14:[function(require,module,exports){
var GeojsonEquality=require("geojson-equality"),cleanCoords=require("@turf/clean-coords"),invariant=require("@turf/invariant"),getGeomType=invariant.getGeomType;module.exports=function(e,r){if(!e)throw new Error("feature1 is required");if(!r)throw new Error("feature2 is required");return getGeomType(e)===getGeomType(r)&&new GeojsonEquality({precision:6}).compare(cleanCoords(e),cleanCoords(r))};

},{"@turf/clean-coords":27,"@turf/invariant":52,"geojson-equality":141}],15:[function(require,module,exports){
var meta=require("@turf/meta"),invariant=require("@turf/invariant"),lineOverlap=require("@turf/line-overlap"),lineIntersect=require("@turf/line-intersect"),GeojsonEquality=require("geojson-equality"),coordAll=meta.coordAll,segmentEach=meta.segmentEach,getGeomType=invariant.getGeomType;module.exports=function(e,r){if(!e)throw new Error("feature1 is required");if(!r)throw new Error("feature2 is required");var t=getGeomType(e);if(t!==getGeomType(r))throw new Error("features must be of the same type");if("Point"===t)throw new Error("Point geometry not supported");if(new GeojsonEquality({precision:6}).compare(e,r))return!1;var n=0;switch(t){case"MultiPoint":var o=coordAll(e),i=coordAll(r);o.forEach(function(e){i.forEach(function(r){e[0]===r[0]&&e[1]===r[1]&&n++})});break;case"LineString":case"MultiLineString":segmentEach(e,function(e){segmentEach(r,function(r){lineOverlap(e,r).features.length&&n++})});break;case"Polygon":case"MultiPolygon":segmentEach(e,function(e){segmentEach(r,function(r){lineIntersect(e,r).features.length&&n++})})}return n>0};

},{"@turf/invariant":52,"@turf/line-intersect":67,"@turf/line-overlap":70,"@turf/meta":77,"geojson-equality":141}],16:[function(require,module,exports){
function isPointOnLineSegment(t,a,e,n){var r=e[0]-t[0],o=e[1]-t[1],s=a[0]-t[0],h=a[1]-t[1];return 0==r*h-o*s&&(n?"start"===n?Math.abs(s)>=Math.abs(h)?s>0?t[0]<e[0]&&e[0]<=a[0]:a[0]<=e[0]&&e[0]<t[0]:h>0?t[1]<e[1]&&e[1]<=a[1]:a[1]<=e[1]&&e[1]<t[1]:"end"===n?Math.abs(s)>=Math.abs(h)?s>0?t[0]<=e[0]&&e[0]<a[0]:a[0]<e[0]&&e[0]<=t[0]:h>0?t[1]<=e[1]&&e[1]<a[1]:a[1]<e[1]&&e[1]<=t[1]:"both"===n?Math.abs(s)>=Math.abs(h)?s>0?t[0]<e[0]&&e[0]<a[0]:a[0]<e[0]&&e[0]<t[0]:h>0?t[1]<e[1]&&e[1]<a[1]:a[1]<e[1]&&e[1]<t[1]:void 0:Math.abs(s)>=Math.abs(h)?s>0?t[0]<=e[0]&&e[0]<=a[0]:a[0]<=e[0]&&e[0]<=t[0]:h>0?t[1]<=e[1]&&e[1]<=a[1]:a[1]<=e[1]&&e[1]<=t[1])}var getCoords=require("@turf/invariant").getCoords;module.exports=function(t,a,e){for(var n=getCoords(t),r=getCoords(a),o=0;o<r.length-1;o++){var s=!1;if(e&&(0===o&&(s="start"),o===r.length-2&&(s="end"),0===o&&o+1===r.length-1&&(s="both")),isPointOnLineSegment(r[o],r[o+1],n,s))return!0}return!1};

},{"@turf/invariant":52}],17:[function(require,module,exports){
function isPointInMultiPoint(n,e){var o,r=!1;for(o=0;o<e.coordinates.length;o++)if(compareCoords(e.coordinates[o],n.coordinates)){r=!0;break}return r}function isMultiPointInMultiPoint(n,e){for(var o=0;o<n.coordinates.length;o++){for(var r=!1,t=0;t<e.coordinates.length;t++)compareCoords(n.coordinates[o],e.coordinates[t])&&(r=!0);if(!r)return!1}return!0}function isMultiPointOnLine(n,e){for(var o=!1,r=0;r<n.coordinates.length;r++){if(!isPointOnLine(n.coordinates[r],e))return!1;o||(o=isPointOnLine(n.coordinates[r],e,!0))}return o}function isMultiPointInPoly(n,e){for(var o=!0,r=0;r<n.coordinates.length;r++){var t=inside(n.coordinates[1],e);if(!t){o=!1;break}t=inside(n.coordinates[1],e,!0)}return o&&t}function isLineOnLine(n,e){for(var o=0;o<n.coordinates.length;o++)if(!isPointOnLine(n.coordinates[o],e))return!1;return!0}function isLineInPoly(n,e){if(!doBBoxOverlap(calcBbox(e),calcBbox(n)))return!1;for(var o=!1,r=0;r<n.coordinates.length-1;r++){if(!inside(n.coordinates[r],e))return!1;if(o||(o=inside(n.coordinates[r],e,!0)),!o){var t=getMidpoint(n.coordinates[r],n.coordinates[r+1]);o=inside(t,e,!0)}}return o}function isPolyInPoly(n,e){var o=calcBbox(n);if(!doBBoxOverlap(calcBbox(e),o))return!1;for(var r=0;r<n.coordinates[0].length;r++)if(!inside(n.coordinates[0][r],e))return!1;return!0}function doBBoxOverlap(n,e){return!(n[0]>e[0])&&(!(n[2]<e[2])&&(!(n[1]>e[1])&&!(n[3]<e[3])))}function compareCoords(n,e){return n[0]===e[0]&&n[1]===e[1]}function getMidpoint(n,e){return[(n[0]+e[0])/2,(n[1]+e[1])/2]}var inside=require("@turf/inside"),calcBbox=require("@turf/bbox"),invariant=require("@turf/invariant"),isPointOnLine=require("@turf/boolean-point-on-line"),getGeom=invariant.getGeom,getGeomType=invariant.getGeomType;module.exports=function(n,e){var o=getGeomType(n),r=getGeomType(e),t=getGeom(n),i=getGeom(e);switch(o){case"Point":switch(r){case"MultiPoint":return isPointInMultiPoint(t,i);case"LineString":return isPointOnLine(t,i,!0);case"Polygon":return inside(t,i,!0);default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"MultiPoint":return isMultiPointInMultiPoint(t,i);case"LineString":return isMultiPointOnLine(t,i);case"Polygon":return isMultiPointInPoly(t,i);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"LineString":return isLineOnLine(t,i);case"Polygon":return isLineInPoly(t,i);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Polygon":return isPolyInPoly(t,i);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}};

},{"@turf/bbox":6,"@turf/boolean-point-on-line":16,"@turf/inside":49,"@turf/invariant":52}],18:[function(require,module,exports){
function buffer(e,r,t,o){var n=e.properties||{},a="Feature"===e.type?e.geometry:e;if("GeometryCollection"===a.type){var i=[];return geomEach(e,function(e){var n=buffer(e,r,t,o);n&&i.push(n)}),featureCollection(i)}var s,c=turfBbox(e),u=c[1]>50&&c[3]>50;if(u){var f=defineProjection(a);s={type:a.type,coordinates:projectCoords(a.coordinates,f)}}else s=toMercator(a);var d=new jsts.io.GeoJSONReader,p=d.read(s),l=radiansToDistance(distanceToRadians(r,t),"meters"),h=p.buffer(l);if(h=(new jsts.io.GeoJSONWriter).write(h),!coordsIsNaN(h.coordinates)){var m;return m=u?{type:h.type,coordinates:unprojectCoords(h.coordinates,f)}:toWgs84(h),m.geometry?m:feature(m,n)}}function coordsIsNaN(e){return Array.isArray(e[0])?coordsIsNaN(e[0]):isNaN(e[0])}function projectCoords(e,r){return"object"!=typeof e[0]?r(e):e.map(function(e){return projectCoords(e,r)})}function unprojectCoords(e,r){return"object"!=typeof e[0]?r.invert(e):e.map(function(e){return unprojectCoords(e,r)})}function defineProjection(e){var r=center(e).geometry.coordinates.reverse(),t=r.map(function(e){return-e});return d3.geoTransverseMercator().center(r).rotate(t).scale(6373e3)}var d3=require("d3-geo"),jsts=require("jsts"),meta=require("@turf/meta"),center=require("@turf/center"),helpers=require("@turf/helpers"),turfBbox=require("@turf/bbox"),projection=require("@turf/projection"),toWgs84=projection.toWgs84,feature=helpers.feature,geomEach=meta.geomEach,toMercator=projection.toMercator,featureEach=meta.featureEach,featureCollection=helpers.featureCollection,radiansToDistance=helpers.radiansToDistance,distanceToRadians=helpers.distanceToRadians;module.exports=function(e,r,t,o){if(!e)throw new Error("geojson is required");if(void 0===r)throw new Error("radius is required");if(o<=0)throw new Error("steps must be greater than 0");o=o||64,t=t||"kilometers";var n=[];switch(e.type){case"GeometryCollection":return geomEach(e,function(e){var a=buffer(e,r,t,o);a&&n.push(a)}),featureCollection(n);case"FeatureCollection":return featureEach(e,function(e){var a=buffer(e,r,t,o);a&&featureEach(a,function(e){e&&n.push(e)})}),featureCollection(n)}return buffer(e,r,t,o)};

},{"@turf/bbox":6,"@turf/center":19,"@turf/helpers":21,"@turf/meta":22,"@turf/projection":88,"d3-geo":117,"jsts":152}],19:[function(require,module,exports){
var bbox=require("@turf/bbox"),point=require("@turf/helpers").point;module.exports=function(r,e){var o=bbox(r),t=(o[0]+o[2])/2,u=(o[1]+o[3])/2;return point([t,u],e)};

},{"@turf/bbox":20,"@turf/helpers":21}],20:[function(require,module,exports){
arguments[4][6][0].apply(exports,arguments)
},{"@turf/meta":22,"dup":6}],21:[function(require,module,exports){
function feature(r,e,t,o){if(void 0===r)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");if(t&&4!==t.length)throw new Error("bbox must be an Array of 4 numbers");if(o&&-1===["string","number"].indexOf(typeof o))throw new Error("id must be a number or a string");var n={type:"Feature"};return o&&(n.id=o),t&&(n.bbox=t),n.properties=e||{},n.geometry=r,n}function geometry(r,e,t){if(!r)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(t&&4!==t.length)throw new Error("bbox must be an Array of 4 numbers");var o;switch(r){case"Point":o=point(e).geometry;break;case"LineString":o=lineString(e).geometry;break;case"Polygon":o=polygon(e).geometry;break;case"MultiPoint":o=multiPoint(e).geometry;break;case"MultiLineString":o=multiLineString(e).geometry;break;case"MultiPolygon":o=multiPolygon(e).geometry;break;default:throw new Error(r+" is invalid")}return t&&(o.bbox=t),o}function point(r,e,t,o){if(!r)throw new Error("No coordinates passed");if(void 0===r.length)throw new Error("Coordinates must be an array");if(r.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!isNumber(r[0])||!isNumber(r[1]))throw new Error("Coordinates must contain numbers");return feature({type:"Point",coordinates:r},e,t,o)}function polygon(r,e,t,o){if(!r)throw new Error("No coordinates passed");for(var n=0;n<r.length;n++){var i=r[n];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<i[i.length-1].length;a++){if(0===n&&0===a&&!isNumber(i[0][0])||!isNumber(i[0][1]))throw new Error("Coordinates must contain numbers");if(i[i.length-1][a]!==i[0][a])throw new Error("First and last Position are not equivalent.")}}return feature({type:"Polygon",coordinates:r},e,t,o)}function lineString(r,e,t,o){if(!r)throw new Error("No coordinates passed");if(r.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!isNumber(r[0][1])||!isNumber(r[0][1]))throw new Error("Coordinates must contain numbers");return feature({type:"LineString",coordinates:r},e,t,o)}function featureCollection(r,e,t){if(!r)throw new Error("No features passed");if(!Array.isArray(r))throw new Error("features must be an Array");if(e&&4!==e.length)throw new Error("bbox must be an Array of 4 numbers");if(t&&-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string");var o={type:"FeatureCollection"};return t&&(o.id=t),e&&(o.bbox=e),o.features=r,o}function multiLineString(r,e,t,o){if(!r)throw new Error("No coordinates passed");return feature({type:"MultiLineString",coordinates:r},e,t,o)}function multiPoint(r,e,t,o){if(!r)throw new Error("No coordinates passed");return feature({type:"MultiPoint",coordinates:r},e,t,o)}function multiPolygon(r,e,t,o){if(!r)throw new Error("No coordinates passed");return feature({type:"MultiPolygon",coordinates:r},e,t,o)}function geometryCollection(r,e,t,o){if(!r)throw new Error("geometries is required");if(!Array.isArray(r))throw new Error("geometries must be an Array");return feature({type:"GeometryCollection",geometries:r},e,t,o)}function round(r,e){if(void 0===r||null===r||isNaN(r))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var t=Math.pow(10,e||0);return Math.round(r*t)/t}function radiansToDistance(r,e){if(void 0===r||null===r)throw new Error("radians is required");var t=factors[e||"kilometers"];if(!t)throw new Error("units is invalid");return r*t}function distanceToRadians(r,e){if(void 0===r||null===r)throw new Error("distance is required");var t=factors[e||"kilometers"];if(!t)throw new Error("units is invalid");return r/t}function distanceToDegrees(r,e){return radians2degrees(distanceToRadians(r,e))}function bearingToAngle(r){if(null===r||void 0===r)throw new Error("bearing is required");var e=r%360;return e<0&&(e+=360),e}function radians2degrees(r){if(null===r||void 0===r)throw new Error("radians is required");return r%(2*Math.PI)*180/Math.PI}function degrees2radians(r){if(null===r||void 0===r)throw new Error("degrees is required");return r%360*Math.PI/180}function convertDistance(r,e,t){if(null===r||void 0===r)throw new Error("distance is required");if(!(r>=0))throw new Error("distance must be a positive number");return radiansToDistance(distanceToRadians(r,e),t||"kilometers")}function convertArea(r,e,t){if(null===r||void 0===r)throw new Error("area is required");if(!(r>=0))throw new Error("area must be a positive number");var o=areaFactors[e||"meters"];if(!o)throw new Error("invalid original units");var n=areaFactors[t||"kilometers"];if(!n)throw new Error("invalid final units");return r/o*n}function isNumber(r){return!isNaN(r)&&null!==r&&!Array.isArray(r)}var factors={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},areaFactors={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:3.86e-7,yards:1.195990046,feet:10.763910417,inches:1550.003100006};module.exports={feature:feature,geometry:geometry,featureCollection:featureCollection,geometryCollection:geometryCollection,point:point,multiPoint:multiPoint,lineString:lineString,multiLineString:multiLineString,polygon:polygon,multiPolygon:multiPolygon,radiansToDistance:radiansToDistance,distanceToRadians:distanceToRadians,distanceToDegrees:distanceToDegrees,radians2degrees:radians2degrees,degrees2radians:degrees2radians,bearingToAngle:bearingToAngle,convertDistance:convertDistance,convertArea:convertArea,round:round,isNumber:isNumber};

},{}],22:[function(require,module,exports){
function coordEach(e,t,o){if(null!==e){var r,n,i,a,c,u,l,s,f,g,h=0,d=0,p=e.type,y="FeatureCollection"===p,m="Feature"===p,E=y?e.features.length:1;for(r=0;r<E;r++){var v=0;for(f=y?e.features[r].geometry:m?e.geometry:e,g=!!f&&"GeometryCollection"===f.type,l=g?f.geometries.length:1,n=0;n<l;n++)if(null!==(u=g?f.geometries[n]:f)){s=u.coordinates;var w=u.type;switch(h=!o||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":t(s,d,r,v),d++,v++;break;case"LineString":case"MultiPoint":for(i=0;i<s.length;i++)t(s[i],d,r,v),d++,v++;break;case"Polygon":case"MultiLineString":for(i=0;i<s.length;i++)for(a=0;a<s[i].length-h;a++)t(s[i][a],d,r,v),d++,v++;break;case"MultiPolygon":for(i=0;i<s.length;i++)for(a=0;a<s[i].length;a++)for(c=0;c<s[i][a].length-h;c++)t(s[i][a][c],d,r,v),d++,v++;break;case"GeometryCollection":for(i=0;i<u.geometries.length;i++)coordEach(u.geometries[i],t,o);break;default:throw new Error("Unknown Geometry Type")}}}}}function coordReduce(e,t,o,r){var n=o;return coordEach(e,function(e,r,i,a){n=0===r&&void 0===o?e:t(n,e,r,i,a)},r),n}function propEach(e,t){var o;switch(e.type){case"FeatureCollection":for(o=0;o<e.features.length;o++)t(e.features[o].properties,o);break;case"Feature":t(e.properties,0)}}function propReduce(e,t,o){var r=o;return propEach(e,function(e,n){r=0===n&&void 0===o?e:t(r,e,n)}),r}function featureEach(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var o=0;o<e.features.length;o++)t(e.features[o],o)}function featureReduce(e,t,o){var r=o;return featureEach(e,function(e,n){r=0===n&&void 0===o?e:t(r,e,n)}),r}function coordAll(e){var t=[];return coordEach(e,function(e){t.push(e)}),t}function geomEach(e,t){var o,r,n,i,a,c,u,l,s=0,f="FeatureCollection"===e.type,g="Feature"===e.type,h=f?e.features.length:1;for(o=0;o<h;o++)for(c=f?e.features[o].geometry:g?e.geometry:e,l=f?e.features[o].properties:g?e.properties:{},u=!!c&&"GeometryCollection"===c.type,a=u?c.geometries.length:1,n=0;n<a;n++)if(null!==(i=u?c.geometries[n]:c))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":t(i,s,l),s++;break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)t(i.geometries[r],s,l),s++;break;default:throw new Error("Unknown Geometry Type")}else t(null,s,l),s++}function geomReduce(e,t,o){var r=o;return geomEach(e,function(e,n,i){r=0===n&&void 0===o?e:t(r,e,n,i)}),r}function flattenEach(e,t){geomEach(e,function(e,o,r){var n=null===e?null:e.type;switch(n){case null:case"Point":case"LineString":case"Polygon":return void t(feature(e,r),o,0)}var i;switch(n){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon"}e.coordinates.forEach(function(e,n){t(feature({type:i,coordinates:e},r),o,n)})})}function flattenReduce(e,t,o){var r=o;return flattenEach(e,function(e,n,i){r=0===n&&0===i&&void 0===o?e:t(r,e,n,i)}),r}function segmentEach(e,t){flattenEach(e,function(e,o){var r=0;if(e.geometry){var n=e.geometry.type;"Point"!==n&&"MultiPoint"!==n&&coordReduce(e,function(n,i){var a=lineString([n,i],e.properties);return t(a,o,r),r++,i})}})}function segmentReduce(e,t,o){var r=o;return segmentEach(e,function(e,n,i){r=0===n&&void 0===o?e:t(r,e,n,i)}),r}function feature(e,t){if(void 0===e)throw new Error("No geometry passed");return{type:"Feature",properties:t||{},geometry:e}}function lineString(e,t){if(!e)throw new Error("No coordinates passed");if(e.length<2)throw new Error("Coordinates must be an array of two or more positions");return{type:"Feature",properties:t||{},geometry:{type:"LineString",coordinates:e}}}function lineEach(e,t){if(!e)throw new Error("geojson is required");var o=e.geometry?e.geometry.type:e.type;if(!o)throw new Error("invalid geojson");if("FeatureCollection"===o)throw new Error("FeatureCollection is not supported");if("GeometryCollection"===o)throw new Error("GeometryCollection is not supported");var r=e.geometry?e.geometry.coordinates:e.coordinates;if(!r)throw new Error("geojson must contain coordinates");switch(o){case"LineString":return void t(r,0,0);case"Polygon":case"MultiLineString":for(var n=0,i=0;i<r.length;i++)"MultiLineString"===o&&(n=i),t(r[i],i,n);return;case"MultiPolygon":for(var a=0;a<r.length;a++)for(var c=0;c<r[a].length;c++)t(r[a][c],c,a);return;default:throw new Error(o+" geometry not supported")}}function lineReduce(e,t,o){var r=o;return lineEach(e,function(e,n,i){r=0===n&&void 0===o?e:t(r,e,n,i)}),r}module.exports={coordEach:coordEach,coordReduce:coordReduce,propEach:propEach,propReduce:propReduce,featureEach:featureEach,featureReduce:featureReduce,coordAll:coordAll,geomEach:geomEach,geomReduce:geomReduce,flattenEach:flattenEach,flattenReduce:flattenReduce,segmentEach:segmentEach,segmentReduce:segmentReduce,lineEach:lineEach,lineReduce:lineReduce};

},{}],23:[function(require,module,exports){
function centerOfMass(e,r){switch(e.geometry?e.geometry.type:e.type){case"Point":return point(getCoord(e),r);case"Polygon":var t=[];coordEach(e,function(e){t.push(e)});var o,n,c,i,u,a,d,f,p=centroid(e,r),s=p.geometry.coordinates,v=0,g=0,l=0,h=t.map(function(e){return[e[0]-s[0],e[1]-s[1]]});for(o=0;o<t.length-1;o++)n=h[o],i=n[0],a=n[1],c=h[o+1],u=c[0],d=c[1],f=i*d-u*a,l+=f,v+=(i+u)*f,g+=(a+d)*f;if(0===l)return p;var x=.5*l,m=1/(6*x);return point([s[0]+m*v,s[1]+m*g],r);default:var q=convex(explode(e));return q?centerOfMass(q,r):centroid(e,r)}}var point=require("@turf/helpers").point,convex=require("@turf/convex"),explode=require("@turf/explode"),centroid=require("@turf/centroid"),getCoord=require("@turf/invariant").getCoord,coordEach=require("@turf/meta").coordEach;module.exports=centerOfMass;

},{"@turf/centroid":25,"@turf/convex":35,"@turf/explode":41,"@turf/helpers":46,"@turf/invariant":52,"@turf/meta":77}],24:[function(require,module,exports){
arguments[4][19][0].apply(exports,arguments)
},{"@turf/bbox":6,"@turf/helpers":46,"dup":19}],25:[function(require,module,exports){
var coordEach=require("@turf/meta").coordEach,point=require("@turf/helpers").point;module.exports=function(r,o){var e=0,t=0,c=0;return coordEach(r,function(r){e+=r[0],t+=r[1],c++},!0),point([e/c,t/c],o)};

},{"@turf/helpers":46,"@turf/meta":77}],26:[function(require,module,exports){
var destination=require("@turf/destination"),polygon=require("@turf/helpers").polygon;module.exports=function(r,e,o,i,t){if(!r)throw new Error("center is required");if(!e)throw new Error("radius is required");o=o||64,t=t||r.properties||{};for(var n=[],s=0;s<o;s++)n.push(destination(r,e,360*s/o,i).geometry.coordinates);return n.push(n[0]),polygon([n],t)};

},{"@turf/destination":36,"@turf/helpers":46}],27:[function(require,module,exports){
function geometry(e,r,o){var t={type:r,coordinates:o};return e.bbox&&(t.bbox=e.bbox),t}function feature(e,r,o){var t=helpers.feature(geometry(e.geometry,r,o),e.properties);return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t}function cleanCoords(e){var r=getCoords(e);if(2===r.length&&!equals(r[0],r[1]))return r;var o,t,n,a=[],i=r.length-1;a.push(r[0]);for(var s=1;s<i;s++)o=r[s-1],t=r[s],n=r[s+1],isPointOnLineSegment(o,n,t)||a.push(t);return a.push(n),a}function equals(e,r){return e[0]===r[0]&&e[1]===r[1]}function isPointOnLineSegment(e,r,o){var t=o[0],n=o[1],a=e[0],i=e[1],s=r[0],u=r[1],c=t-a,g=n-i,f=s-a,h=u-i;return 0==c*h-g*f&&(Math.abs(f)>=Math.abs(h)?f>0?a<=t&&t<=s:s<=t&&t<=a:h>0?i<=n&&n<=u:u<=n&&n<=i)}var helpers=require("@turf/helpers"),invariant=require("@turf/invariant"),getCoords=invariant.getCoords,getGeomType=invariant.getGeomType;module.exports=function(e,r){if(!e)throw new Error("geojson is required");var o=getGeomType(e),t=[];switch(o){case"LineString":t=cleanCoords(e);break;case"MultiLineString":case"Polygon":getCoords(e).forEach(function(e){t.push(cleanCoords(e))});break;case"MultiPolygon":getCoords(e).forEach(function(e){var r=[];e.forEach(function(e){r.push(cleanCoords(e))}),t.push(r)});break;case"Point":return e;case"MultiPoint":var n={};getCoords(e).forEach(function(e){var r=e.join("-");n.hasOwnProperty(r)||(t.push(e),n[r]=!0)});break;default:throw new Error(o+" geometry not supported")}return e.coordinates?!0===r?(e.coordinates=t,e):geometry(e,o,t):!0===r?(e.geometry.coordinates=t,e):feature(e,o,t)};

},{"@turf/helpers":46,"@turf/invariant":52}],28:[function(require,module,exports){
function cloneFeature(e){var t={type:"Feature"};return Object.keys(e).forEach(function(r){switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}}),t.properties=cloneProperties(e.properties),t.geometry=cloneGeometry(e.geometry),t}function cloneProperties(e){var t={};return e?(Object.keys(e).forEach(function(r){var o=e[r];"object"==typeof o?(o.length&&(t[r]=o.map(function(e){return e})),t[r]=cloneProperties(o)):t[r]=o}),t):t}function cloneFeatureCollection(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach(function(r){switch(r){case"type":case"features":return;default:t[r]=e[r]}}),t.features=e.features.map(function(e){return cloneFeature(e)}),t}function cloneGeometry(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map(function(e){return cloneGeometry(e)}),t):(t.coordinates=deepSlice(e.coordinates),t)}function deepSlice(e){return"object"!=typeof e[0]?e.slice():e.map(function(e){return deepSlice(e)})}module.exports=function(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return cloneFeature(e);case"FeatureCollection":return cloneFeatureCollection(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return cloneGeometry(e);default:throw new Error("unknown GeoJSON type")}};

},{}],29:[function(require,module,exports){
var meta=require("@turf/meta"),clone=require("@turf/clone"),helpers=require("@turf/helpers"),invariant=require("@turf/invariant"),clustering=require("density-clustering"),turfDistance=require("@turf/distance"),coordAll=meta.coordAll,collectionOf=invariant.collectionOf,convertDistance=helpers.convertDistance;module.exports=function(r,e,t,n){if(collectionOf(r,"Point","Input must contain Points"),null===e||void 0===e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(void 0===n||null===n||Math.sign(n)>0))throw new Error("Invalid minPoints");r=clone(r,!0),n=n||3;var i=new clustering.DBSCAN,o=i.run(coordAll(r),convertDistance(e,t),n,turfDistance),c=-1;return o.forEach(function(e){c++,e.forEach(function(e){var t=r.features[e];t.properties||(t.properties={}),t.properties.cluster=c,t.properties.dbscan="core"})}),i.noise.forEach(function(e){var t=r.features[e];t.properties||(t.properties={}),t.properties.cluster?t.properties.dbscan="edge":t.properties.dbscan="noise"}),r};

},{"@turf/clone":28,"@turf/distance":39,"@turf/helpers":46,"@turf/invariant":52,"@turf/meta":77,"density-clustering":127}],30:[function(require,module,exports){
var meta=require("@turf/meta"),clone=require("@turf/clone"),skmeans=require("skmeans"),invariant=require("@turf/invariant"),coordAll=meta.coordAll,featureEach=meta.featureEach,collectionOf=invariant.collectionOf;module.exports=function(e,r,t){collectionOf(e,"Point","Input must contain Points");var n=e.features.length;r=r||Math.round(Math.sqrt(n/2)),r>n&&(r=n),!1!==t&&void 0!==t||(e=clone(e,!0));var o=coordAll(e),a=o.slice(0,r),i=skmeans(o,r,a),c={};return i.centroids.forEach(function(e,r){c[r]=e}),featureEach(e,function(e,r){var t=i.idxs[r];e.properties.cluster=t,e.properties.centroid=c[t]}),e};

},{"@turf/clone":28,"@turf/invariant":52,"@turf/meta":77,"skmeans":180}],31:[function(require,module,exports){
function getCluster(r,e){if(!r)throw new Error("geojson is required");if("FeatureCollection"!==r.type)throw new Error("geojson must be a FeatureCollection");if(void 0===e||null===e)throw new Error("filter is required");var t=[];return featureEach(r,function(r){applyFilter(r.properties,e)&&t.push(r)}),featureCollection(t)}function clusterEach(r,e,t){if(!r)throw new Error("geojson is required");if("FeatureCollection"!==r.type)throw new Error("geojson must be a FeatureCollection");if(void 0===e||null===e)throw new Error("property is required");for(var i=createBins(r,e),n=Object.keys(i),o=0;o<n.length;o++){for(var u=n[o],a=i[u],l=[],s=0;s<a.length;s++)l.push(r.features[a[s]]);t(featureCollection(l),u,o)}}function clusterReduce(r,e,t,i){var n=i;return clusterEach(r,e,function(r,e,o){n=0===o&&void 0===i?r:t(n,r,e,o)}),n}function createBins(r,e){var t={};return featureEach(r,function(r,i){var n=r.properties||{};if(n.hasOwnProperty(e)){var o=n[e];t.hasOwnProperty(o)?t[o].push(i):t[o]=[i]}}),t}function applyFilter(r,e){if(void 0===r)return!1;var t=typeof e;if("number"===t||"string"===t)return r.hasOwnProperty(e);if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(!applyFilter(r,e[i]))return!1;return!0}return propertiesContainsFilter(r,e)}function propertiesContainsFilter(r,e){for(var t=Object.keys(e),i=0;i<t.length;i++){var n=t[i];if(r[n]!==e[n])return!1}return!0}function filterProperties(r,e){if(!e)return{};if(!e.length)return{};for(var t={},i=0;i<e.length;i++){var n=e[i];r.hasOwnProperty(n)&&(t[n]=r[n])}return t}var featureEach=require("@turf/meta").featureEach,featureCollection=require("@turf/helpers").featureCollection;module.exports={getCluster:getCluster,clusterEach:clusterEach,clusterReduce:clusterReduce,createBins:createBins,applyFilter:applyFilter,propertiesContainsFilter:propertiesContainsFilter,filterProperties:filterProperties};

},{"@turf/helpers":46,"@turf/meta":77}],32:[function(require,module,exports){
var turfbbox=require("@turf/bbox"),inside=require("@turf/inside"),rbush=require("rbush");module.exports=function(r,e,o,t){var i=rbush(6),n=e.features.map(function(r){return{minX:r.geometry.coordinates[0],minY:r.geometry.coordinates[1],maxX:r.geometry.coordinates[0],maxY:r.geometry.coordinates[1],property:r.properties[o]}});return i.load(n),r.features.forEach(function(r){r.properties||(r.properties={});var e=turfbbox(r),o=i.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}),n=[];o.forEach(function(e){inside({type:"Point",coordinates:[e.minX,e.minY]},r)&&n.push(e.property)}),r.properties[t]=n}),r};

},{"@turf/bbox":6,"@turf/inside":49,"rbush":167}],33:[function(require,module,exports){
var meta=require("@turf/meta");module.exports=function(e){function t(e,t,o){o?r[t].coordinates=r[t].coordinates.concat(e.geometry.coordinates):r[t].coordinates.push(e.geometry.coordinates),r[t].properties.push(e.properties)}var r={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},o=Object.keys(r).reduce(function(e,t){return e[t.replace("Multi","")]=t,e},{});return meta.featureEach(e,function(e){e.geometry&&(r[e.geometry.type]?t(e,e.geometry.type,!0):o[e.geometry.type]&&t(e,o[e.geometry.type],!1))}),{type:"FeatureCollection",features:Object.keys(r).filter(function(e){return r[e].coordinates.length}).sort().map(function(e){return{type:"Feature",properties:{collectedProperties:r[e].properties},geometry:{type:e,coordinates:r[e].coordinates}}})}};

},{"@turf/meta":77}],34:[function(require,module,exports){
function removeDuplicates(e){var r=[],t={};return featureEach(e,function(e){if(e.geometry){var o=e.geometry.coordinates.join("-");t.hasOwnProperty(o)||(r.push(e),t[o]=!0)}}),featureCollection(r)}var tin=require("@turf/tin"),helpers=require("@turf/helpers"),distance=require("@turf/distance"),dissolve=require("geojson-dissolve"),featureEach=require("@turf/meta").featureEach,feature=helpers.feature,featureCollection=helpers.featureCollection;module.exports=function(e,r,t){if(!e)throw new Error("points is required");if(void 0===r||null===r)throw new Error("maxEdge is required");if("number"!=typeof r)throw new Error("invalid maxEdge");var o=removeDuplicates(e),i=tin(o);if(i.features=i.features.filter(function(e){var o=e.geometry.coordinates[0][0],i=e.geometry.coordinates[0][1],n=e.geometry.coordinates[0][2],a=distance(o,i,t),u=distance(i,n,t),s=distance(o,n,t);return a<=r&&u<=r&&s<=r}),i.features.length<1)throw new Error("too few polygons found to compute concave hull");var n=dissolve(i.features);return 1===n.coordinates.length&&(n.coordinates=n.coordinates[0],n.type="Polygon"),feature(n)};

},{"@turf/distance":39,"@turf/helpers":46,"@turf/meta":77,"@turf/tin":101,"geojson-dissolve":139}],35:[function(require,module,exports){
var each=require("@turf/meta").coordEach,convexHull=require("convex-hull"),polygon=require("@turf/helpers").polygon;module.exports=function(e){var r=[];each(e,function(e){r.push([e[0],e[1]])});var o=convexHull(r);if(o.length>=3){for(var u=[],l=0;l<o.length;l++)u.push(r[o[l][0]]);return u.push(r[o[o.length-1][1]]),polygon([u])}};

},{"@turf/helpers":46,"@turf/meta":77,"convex-hull":112}],36:[function(require,module,exports){
var getCoord=require("@turf/invariant").getCoord,helpers=require("@turf/helpers"),point=helpers.point,distanceToRadians=helpers.distanceToRadians;module.exports=function(a,t,s,n){var e=Math.PI/180,i=180/Math.PI,o=getCoord(a),h=e*o[0],r=e*o[1],M=e*s,d=distanceToRadians(t,n),c=Math.asin(Math.sin(r)*Math.cos(d)+Math.cos(r)*Math.sin(d)*Math.cos(M)),p=h+Math.atan2(Math.sin(M)*Math.sin(d)*Math.cos(r),Math.cos(d)-Math.sin(r)*Math.sin(c));return point([i*p,i*c])};

},{"@turf/helpers":46,"@turf/invariant":52}],37:[function(require,module,exports){
function removeEmptyPolygon(e){switch(e.type){case"Polygon":return area(e)>1?e:null;case"MultiPolygon":var r=[];if(flattenEach(e,function(e){area(e)>1&&r.push(e.geometry.coordinates)}),r.length)return{type:"MultiPolygon",coordinates:r}}}var jsts=require("jsts"),area=require("@turf/area"),feature=require("@turf/helpers").feature,getGeom=require("@turf/invariant").getGeom,flattenEach=require("@turf/meta").flattenEach;module.exports=function(e,r){var t=getGeom(e),o=getGeom(r),a=e.properties||{};if(t=removeEmptyPolygon(t),o=removeEmptyPolygon(o),!t)return null;if(!o)return feature(t,a);var n=new jsts.io.GeoJSONReader,u=n.read(t),i=n.read(o),f=u.difference(i);if(f.isEmpty())return null;var l=new jsts.io.GeoJSONWriter,s=l.write(f);return feature(s,a)};

},{"@turf/area":3,"@turf/helpers":46,"@turf/invariant":52,"@turf/meta":77,"jsts":152}],38:[function(require,module,exports){
function toLinestring(e){if(null===e||void 0===e)throw new Error("No polygon was passed");e.geometry.type="LineString";var r=[].concat.apply([],e.geometry.coordinates);return e.geometry.coordinates=r,e}var turfUnion=require("@turf/union"),booleanOverlap=require("@turf/boolean-overlap"),turfbbox=require("@turf/bbox"),Rbush=require("rbush"),gju=require("geojson-utils"),getClosest=require("get-closest");module.exports=function(e,r){for(var o=[],t=[],i=new Rbush,n=0;n<e.features.length;n++){var s=turfbbox(e.features[n]),a={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],origIndexPosition:n};t.push(a)}i.load(t);for(var u=0;u<e.features.length;u++){for(var f=e.features[u],g=turfbbox(f),l={minX:g[0],minY:g[1],maxX:g[2],maxY:g[3]},m=i.search(l),p=!1,v=0;v<m.length;v++){f=e.features[u];var x=m[v].origIndexPosition;if(o.length>0&&0!==x)if(x>o[o.length-1])x-=o.length;else{var b=getClosest.greaterNumber(x,o);0!==b&&(x-=b)}if(x!==u){var d=e.features[x];if(void 0===typeof r||d.properties[r]===f.properties[r]){var h=booleanOverlap(f,d);if(!h){var c=JSON.stringify(f),y=JSON.stringify(d),I=toLinestring(JSON.parse(c)),P=toLinestring(JSON.parse(y));h=gju.lineStringsIntersect(I.geometry,P.geometry)}h&&(e.features[u]=turfUnion(f,d),o.push(m[v].origIndexPosition),o.sort(function(e,r){return e-r}),i.remove(m[v]),e.features.splice(x,1),l.origIndexPosition=u,i.remove(l,function(e,r){return e.origIndexPosition===r.origIndexPosition}),p=!0)}}}if(p){var q=turfbbox(f);i.insert({minX:q[0],minY:q[1],maxX:q[2],maxY:q[3],origIndexPosition:u}),u--}}return e};

},{"@turf/bbox":6,"@turf/boolean-overlap":15,"@turf/union":107,"geojson-utils":147,"get-closest":148,"rbush":167}],39:[function(require,module,exports){
var getCoord=require("@turf/invariant").getCoord,radiansToDistance=require("@turf/helpers").radiansToDistance;module.exports=function(t,a,r){var o=Math.PI/180,e=getCoord(t),n=getCoord(a),s=o*(n[1]-e[1]),i=o*(n[0]-e[0]),h=o*e[1],M=o*n[1],d=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(i/2),2)*Math.cos(h)*Math.cos(M);return radiansToDistance(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),r)};

},{"@turf/helpers":46,"@turf/invariant":52}],40:[function(require,module,exports){
var bbox=require("@turf/bbox"),bboxPolygon=require("@turf/bbox-polygon");module.exports=function(o){return bboxPolygon(bbox(o))};

},{"@turf/bbox":6,"@turf/bbox-polygon":5}],41:[function(require,module,exports){
var meta=require("@turf/meta"),helpers=require("@turf/helpers"),point=helpers.point,coordEach=meta.coordEach,featureEach=meta.featureEach,featureCollection=helpers.featureCollection;module.exports=function(e){var r=[];return"FeatureCollection"===e.type?featureEach(e,function(e){coordEach(e,function(t){r.push(point(t,e.properties))})}):coordEach(e,function(t){r.push(point(t,e.properties))}),featureCollection(r)};

},{"@turf/helpers":46,"@turf/meta":77}],42:[function(require,module,exports){
var flattenEach=require("@turf/meta").flattenEach,featureCollection=require("@turf/helpers").featureCollection;module.exports=function(e){if(!e)throw new Error("geojson is required");var r=[];return flattenEach(e,function(e){r.push(e)}),featureCollection(r)};

},{"@turf/helpers":46,"@turf/meta":77}],43:[function(require,module,exports){
var coordEach=require("@turf/meta").coordEach;module.exports=function(r,o){if(!r)throw new Error("geojson is required");return!1!==o&&void 0!==o||(r=JSON.parse(JSON.stringify(r))),coordEach(r,function(r){var o=r[0],e=r[1];r[0]=e,r[1]=o}),r};

},{"@turf/meta":77}],44:[function(require,module,exports){
"use strict";var D2R=Math.PI/180,R2D=180/Math.PI,Coord=function(t,e){this.lon=t,this.lat=e,this.x=D2R*t,this.y=D2R*e};Coord.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Coord.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new Coord(e,t)};var LineString=function(){this.coords=[],this.length=0};LineString.prototype.move_to=function(t){this.length++,this.coords.push(t)};var Arc=function(t){this.properties=t||{},this.geometries=[]};Arc.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},Arc.prototype.wkt=function(){for(var t="",e="LINESTRING(",r=function(t){e+=t[0]+" "+t[1]+","},s=0;s<this.geometries.length;s++){if(0===this.geometries[s].coords.length)return"LINESTRING(empty)";this.geometries[s].coords.forEach(r),t+=e.substring(0,e.length-1)+")"}return t};var GreatCircle=function(t,e,r){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Coord(t.x,t.y),this.end=new Coord(e.x,e.y),this.properties=r||{};var s=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(s/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};GreatCircle.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),r=Math.sin(t*this.g)/Math.sin(this.g),s=e*Math.cos(this.start.y)*Math.cos(this.start.x)+r*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+r*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+r*Math.sin(this.end.y),h=R2D*Math.atan2(o,Math.sqrt(Math.pow(s,2)+Math.pow(i,2)));return[R2D*Math.atan2(i,s),h]},GreatCircle.prototype.Arc=function(t,e){var r=[];if(!t||t<=2)r.push([this.start.lon,this.start.lat]),r.push([this.end.lon,this.end.lat]);else for(var s=1/(t-1),i=0;i<t;++i){var o=s*i,h=this.interpolate(o);r.push(h)}for(var n=!1,a=0,p=e&&e.offset?e.offset:10,c=180-p,l=-180+p,u=360-p,g=1;g<r.length;++g){var d=r[g-1][0],f=r[g][0],v=Math.abs(f-d);v>u&&(f>c&&d<l||d>c&&f<l)?n=!0:v>a&&(a=v)}var y=[];if(n&&a<p){var M=[];y.push(M);for(var w=0;w<r.length;++w){var m=parseFloat(r[w][0]);if(w>0&&Math.abs(m-r[w-1][0])>u){var x=parseFloat(r[w-1][0]),C=parseFloat(r[w-1][1]),S=parseFloat(r[w][0]),G=parseFloat(r[w][1]);if(x>-180&&x<l&&180===S&&w+1<r.length&&r[w-1][0]>-180&&r[w-1][0]<l){M.push([-180,r[w][1]]),w++,M.push([r[w][0],r[w][1]]);continue}if(x>c&&x<180&&-180===S&&w+1<r.length&&r[w-1][0]>c&&r[w-1][0]<180){M.push([180,r[w][1]]),w++,M.push([r[w][0],r[w][1]]);continue}if(x<l&&S>c){var F=x;x=S,S=F;var L=C;C=G,G=L}if(x>c&&S<l&&(S+=360),x<=180&&S>=180&&x<S){var R=(180-x)/(S-x),b=R*G+(1-R)*C;M.push([r[w-1][0]>c?180:-180,b]),M=[],M.push([r[w-1][0]>c?-180:180,b]),y.push(M)}else M=[],y.push(M);M.push([m,r[w][1]])}else M.push([r[w][0],r[w][1]])}}else{var A=[];y.push(A);for(var E=0;E<r.length;++E)A.push([r[E][0],r[E][1]])}for(var I=new Arc(this.properties),D=0;D<y.length;++D){var N=new LineString;I.geometries.push(N);for(var j=y[D],P=0;P<j.length;++P)N.move_to(j[P])}return I},module.exports={Coord:Coord,Arc:Arc,GreatCircle:GreatCircle};

},{}],45:[function(require,module,exports){
var arc=require("./arc"),getCoord=require("@turf/invariant").getCoord;module.exports=function(r,e,o,t,a){return r=getCoord(r),e=getCoord(e),o=o||{},t=t||100,a=a||10,new arc.GreatCircle({x:r[0],y:r[1]},{x:e[0],y:e[1]},o).Arc(t,{offset:a}).json()};

},{"./arc":44,"@turf/invariant":52}],46:[function(require,module,exports){
arguments[4][21][0].apply(exports,arguments)
},{"dup":21}],47:[function(require,module,exports){
function hexagon(e,s,n){for(var r=[],i=0;i<6;i++){var o=e[0]+s*cosines[i],a=e[1]+n*sines[i];r.push([o,a])}return r.push(r[0].slice()),polygon([r])}function hexTriangles(e,s,n){for(var r=[],i=0;i<6;i++){var o=[];o.push(e),o.push([e[0]+s*cosines[i],e[1]+n*sines[i]]),o.push([e[0]+s*cosines[(i+1)%6],e[1]+n*sines[(i+1)%6]]),o.push(e),r.push(polygon([o]))}return r}for(var distance=require("@turf/distance"),helpers=require("@turf/helpers"),point=helpers.point,polygon=helpers.polygon,featureCollection=helpers.featureCollection,cosines=[],sines=[],i=0;i<6;i++){var angle=2*Math.PI/6*i;cosines.push(Math.cos(angle)),sines.push(Math.sin(angle))}module.exports=function(e,s,n,r){var i=e[0],o=e[1],a=e[2],t=e[3],p=(o+t)/2,u=(i+a)/2,h=s/distance(point([i,p]),point([a,p]),n),l=h*(a-i),c=s/distance(point([u,o]),point([u,t]),n),f=c*(t-o),v=l/2,g=2*v,M=Math.sqrt(3)/2*f,d=a-i,x=t-o,y=.75*g,q=M,C=d/(g-v/2),T=Math.ceil(C);Math.round(C)===T&&T++;var m=(T*y-v/2-d)/2-v/2,I=Math.ceil(x/M),P=(x-I*M)/2,b=I*M-x>M/2;b&&(P-=M/4);for(var j=featureCollection([]),k=0;k<T;k++)for(var w=0;w<=I;w++){var z=k%2==1;if((0!==w||!z)&&(0!==w||!b)){var A=k*y+i-m,B=w*q+o+P;z&&(B-=M/2),r?j.features.push.apply(j.features,hexTriangles([A,B],l/2,f/2)):j.features.push(hexagon([A,B],l/2,f/2))}}return j};

},{"@turf/distance":39,"@turf/helpers":46}],48:[function(require,module,exports){
var bbox=require("@turf/bbox"),distance=require("@turf/distance"),centroid=require("@turf/centroid"),squareGrid=require("@turf/square-grid");module.exports=function(r,e,i,t,u){if(!e)throw new Error("valueField is required");if(void 0===i||null===i)throw new Error("weight is required");if(void 0===t||null===t)throw new Error("cellWidth is required");if(0===r.features.filter(function(r){return r.properties&&r.properties.hasOwnProperty(e)}).length)throw new Error("Specified Data Field is Missing");for(var o=squareGrid(bbox(r),t,u),s=o.features.length,a=0;a<s;a++){for(var n=0,f=0,d=0;d<r.features.length;d++){var l=distance(centroid(o.features[a]),r.features[d],u);0===l&&(n=r.features[d].properties[e]);var p=1/Math.pow(l,i);f+=p,n+=p*r.features[d].properties[e]}o.features[a].properties[e]=n/f}return o};

},{"@turf/bbox":6,"@turf/centroid":25,"@turf/distance":39,"@turf/square-grid":97}],49:[function(require,module,exports){
function inRing(r,n,e){var o=!1;n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]&&(n=n.slice(0,n.length-1));for(var t=0,i=n.length-1;t<n.length;i=t++){var g=n[t][0],a=n[t][1],u=n[i][0],f=n[i][1];if(r[1]*(g-u)+a*(u-r[0])+f*(r[0]-g)==0&&(g-r[0])*(u-r[0])<=0&&(a-r[1])*(f-r[1])<=0)return!e;a>r[1]!=f>r[1]&&r[0]<(u-g)*(r[1]-a)/(f-a)+g&&(o=!o)}return o}function inBBox(r,n){return n[0]<=r[0]&&n[1]<=r[1]&&n[2]>=r[0]&&n[3]>=r[1]}var invariant=require("@turf/invariant"),getCoord=invariant.getCoord,getCoords=invariant.getCoords;module.exports=function(r,n,e){if(!r)throw new Error("point is required");if(!n)throw new Error("polygon is required");var o=getCoord(r),t=getCoords(n),i=n.geometry?n.geometry.type:n.type,g=n.bbox;if(g&&!1===inBBox(o,g))return!1;"Polygon"===i&&(t=[t]);for(var a=0,u=!1;a<t.length&&!u;a++)if(inRing(o,t[a][0],e)){for(var f=!1,l=1;l<t[a].length&&!f;)inRing(o,t[a][l],!e)&&(f=!0),l++;f||(u=!0)}return u};

},{"@turf/invariant":52}],50:[function(require,module,exports){
var meta=require("@turf/meta"),bbox=require("@turf/bbox"),hexGrid=require("@turf/hex-grid"),poinGrid=require("@turf/point-grid"),distance=require("@turf/distance"),centroid=require("@turf/centroid"),invariant=require("@turf/invariant"),squareGrid=require("@turf/square-grid"),triangleGrid=require("@turf/triangle-grid"),featureEach=meta.featureEach,collectionOf=invariant.collectionOf;module.exports=function(r,e,i,t,a,n){if(!r)throw new Error("points is required");if(collectionOf(r,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==n&&"number"!=typeof n)throw new Error("weight must be a number");t=t||"elevation",i=i||"square",n=n||1;var o,u=bbox(r);switch(i){case"point":case"points":o=poinGrid(u,e,a,!0);break;case"square":case"squares":o=squareGrid(u,e,a);break;case"hex":case"hexes":o=hexGrid(u,e,a);break;case"triangle":case"triangles":o=triangleGrid(u,e,a);break;default:throw new Error("invalid gridType")}return featureEach(o,function(e){var o=0,u=0;featureEach(r,function(r){var s,c="point"===i?e:centroid(e),d=distance(c,r,a);if(void 0!==t&&(s=r.properties[t]),void 0===s&&(s=r.geometry.coordinates[2]),void 0===s)throw new Error("zValue is missing");0===d&&(o=s);var f=1/Math.pow(d,n);u+=f,o+=f*s}),e.properties[t]=o/u}),o};

},{"@turf/bbox":6,"@turf/centroid":25,"@turf/distance":39,"@turf/hex-grid":47,"@turf/invariant":52,"@turf/meta":77,"@turf/point-grid":81,"@turf/square-grid":97,"@turf/triangle-grid":105}],51:[function(require,module,exports){
var jsts=require("jsts"),truncate=require("@turf/truncate"),feature=require("@turf/helpers").feature;module.exports=function(e,r){var t="Feature"===e.type?e.geometry:e,u="Feature"===r.type?r.geometry:r,a=new jsts.io.GeoJSONReader,n=a.read(truncate(t)),i=a.read(truncate(u)),s=n.intersection(i);if(s.isEmpty())return null;var o=new jsts.io.GeoJSONWriter,f=o.write(s);return feature(f)};

},{"@turf/helpers":46,"@turf/truncate":106,"jsts":152}],52:[function(require,module,exports){
function getCoord(e){if(!e)throw new Error("obj is required");var r=getCoords(e);if(r.length>1&&"number"==typeof r[0]&&"number"==typeof r[1])return r;throw new Error("Coordinate is not a valid Point")}function getCoords(e){if(!e)throw new Error("obj is required");var r;if(e.length?r=e:e.coordinates?r=e.coordinates:e.geometry&&e.geometry.coordinates&&(r=e.geometry.coordinates),r)return containsNumber(r),r;throw new Error("No valid coordinates")}function containsNumber(e){if(e.length>1&&"number"==typeof e[0]&&"number"==typeof e[1])return!0;if(Array.isArray(e[0])&&e[0].length)return containsNumber(e[0]);throw new Error("coordinates must only contain numbers")}function geojsonType(e,r,o){if(!r||!o)throw new Error("type and name required");if(!e||e.type!==r)throw new Error("Invalid input to "+o+": must be a "+r+", given "+e.type)}function featureOf(e,r,o){if(!e)throw new Error("No feature passed");if(!o)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+o+", Feature with geometry required");if(!e.geometry||e.geometry.type!==r)throw new Error("Invalid input to "+o+": must be a "+r+", given "+e.geometry.type)}function collectionOf(e,r,o){if(!e)throw new Error("No featureCollection passed");if(!o)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+o+", FeatureCollection required");for(var t=0;t<e.features.length;t++){var n=e.features[t];if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+o+", Feature with geometry required");if(!n.geometry||n.geometry.type!==r)throw new Error("Invalid input to "+o+": must be a "+r+", given "+n.geometry.type)}}function getGeom(e){if(!e)throw new Error("geojson is required");if(void 0!==e.geometry)return e.geometry;if(e.coordinates||e.geometries)return e;throw new Error("geojson must be a valid Feature or Geometry Object")}function getGeomType(e){if(!e)throw new Error("geojson is required");var r=getGeom(e);if(r)return r.type}module.exports={geojsonType:geojsonType,collectionOf:collectionOf,featureOf:featureOf,getCoord:getCoord,getCoords:getCoords,containsNumber:containsNumber,getGeom:getGeom,getGeomType:getGeomType};

},{}],53:[function(require,module,exports){
function createContourLines(r,e,o){for(var n=[],t=1;t<e.length;t++){var i=+e[t-1],a=+e[t],u=marchingsquares.isoBands(r,i,a-i),s=orderByArea(u),f=groupNestedRings(s),l={};l.groupedRings=f,l[o]=i+"-"+a,n.push(l)}return n}function rescaleContours(r,e,o){var n=bbox(o),t=n[2]-n[0],i=n[3]-n[1],a=n[0],u=n[1],s=e[0].length-1,f=e.length-1,l=t/s,c=i/f,p=function(r){r[0]=r[0]*l+a,r[1]=r[1]*c+u};return r.forEach(function(r){r.groupedRings.forEach(function(r){r.forEach(function(r){r.forEach(p)})})}),r}function orderByArea(r){var e=[],o=[];r.forEach(function(r){var n=area(polygon([r]));o.push(n),e.push({ring:r,area:n})}),o.sort(function(r,e){return e-r});var n=[];return o.forEach(function(r){for(var o=0;o<e.length;o++)if(e[o].area===r){n.push(e[o].ring),e.splice(o,1);break}}),n}function groupNestedRings(r){for(var e=r.map(function(r){return{lrCoordinates:r,grouped:!1}}),o=[];!allGrouped(e);)for(var n=0;n<e.length;n++)if(!e[n].grouped){var t=[];t.push(e[n].lrCoordinates),e[n].grouped=!0;for(var i=polygon([e[n].lrCoordinates]),a=n+1;a<e.length;a++)if(!e[a].grouped){var u=polygon([e[a].lrCoordinates]);isInside(u,i)&&(t.push(e[a].lrCoordinates),e[a].grouped=!0)}o.push(t)}return o}function isInside(r,e){for(var o=explode(r),n=0;n<o.features.length;n++)if(!inside(o.features[n],e))return!1;return!0}function allGrouped(r){for(var e=0;e<r.length;e++)if(!1===r[e].grouped)return!1;return!0}var bbox=require("@turf/bbox"),area=require("@turf/area"),inside=require("@turf/inside"),helpers=require("@turf/helpers"),explode=require("@turf/explode"),invariant=require("@turf/invariant"),gridToMatrix=require("grid-to-matrix"),marchingsquares=require("marchingsquares"),polygon=helpers.polygon,multiPolygon=helpers.multiPolygon,collectionOf=invariant.collectionOf,featureCollection=helpers.featureCollection;module.exports=function(r,e,o,n){var t=function(r){return!!r&&r.constructor===Object};if(collectionOf(r,"Point","Input must contain Points"),!e||!Array.isArray(e))throw new Error("breaks is required");if(n=n||{},n.commonProperties&&!t(n.commonProperties))throw new Error("commonProperties is not an Object");if(n.isobandProperties&&!Array.isArray(n.isobandProperties))throw new Error("isobandProperties is not an Array");if(o&&"string"!=typeof o)throw new Error("zProperty is not a string");o=o||"elevation";var i=n.commonProperties||{},a=n.isobandProperties||[],u=gridToMatrix(r,o,!0),s=createContourLines(u,e,o);s=rescaleContours(s,u,r);var f=s.map(function(r,e){if(a[e]&&!t(a[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},i,a[e]);return n[o]=r[o],multiPolygon(r.groupedRings,n)});return featureCollection(f)};

},{"@turf/area":54,"@turf/bbox":55,"@turf/explode":56,"@turf/helpers":57,"@turf/inside":58,"@turf/invariant":59,"grid-to-matrix":149,"marchingsquares":156}],54:[function(require,module,exports){
var area=require("@mapbox/geojson-area").geometry,geomReduce=require("@turf/meta").geomReduce;module.exports=function(e){return geomReduce(e,function(e,r){return e+area(r)},0)};

},{"@mapbox/geojson-area":1,"@turf/meta":60}],55:[function(require,module,exports){
var each=require("@turf/meta").coordEach;module.exports=function(r){var e=[1/0,1/0,-1/0,-1/0];return each(r,function(r){e[0]>r[0]&&(e[0]=r[0]),e[1]>r[1]&&(e[1]=r[1]),e[2]<r[0]&&(e[2]=r[0]),e[3]<r[1]&&(e[3]=r[1])}),e};

},{"@turf/meta":60}],56:[function(require,module,exports){
var featureCollection=require("@turf/helpers").featureCollection,featureEach=require("@turf/meta").featureEach,coordEach=require("@turf/meta").coordEach,point=require("@turf/helpers").point;module.exports=function(e){var r=[];return"FeatureCollection"===e.type?featureEach(e,function(e){coordEach(e,function(t){r.push(point(t,e.properties))})}):coordEach(e,function(t){r.push(point(t,e.properties))}),featureCollection(r)};

},{"@turf/helpers":57,"@turf/meta":60}],57:[function(require,module,exports){
function feature(e,r){if(!e)throw new Error("No geometry passed");return{type:"Feature",properties:r||{},geometry:e}}module.exports.feature=feature,module.exports.point=function(e,r){if(!e)throw new Error("No coordinates passed");if(void 0===e.length)throw new Error("Coordinates must be an array");if(e.length<2)throw new Error("Coordinates must be at least 2 numbers long");if("number"!=typeof e[0]||"number"!=typeof e[1])throw new Error("Coordinates must numbers");return feature({type:"Point",coordinates:e},r)},module.exports.polygon=function(e,r){if(!e)throw new Error("No coordinates passed");for(var o=0;o<e.length;o++){var t=e[o];if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var n=0;n<t[t.length-1].length;n++)if(t[t.length-1][n]!==t[0][n])throw new Error("First and last Position are not equivalent.")}return feature({type:"Polygon",coordinates:e},r)},module.exports.lineString=function(e,r){if(!e)throw new Error("No coordinates passed");return feature({type:"LineString",coordinates:e},r)},module.exports.featureCollection=function(e){if(!e)throw new Error("No features passed");return{type:"FeatureCollection",features:e}},module.exports.multiLineString=function(e,r){if(!e)throw new Error("No coordinates passed");return feature({type:"MultiLineString",coordinates:e},r)},module.exports.multiPoint=function(e,r){if(!e)throw new Error("No coordinates passed");return feature({type:"MultiPoint",coordinates:e},r)},module.exports.multiPolygon=function(e,r){if(!e)throw new Error("No coordinates passed");return feature({type:"MultiPolygon",coordinates:e},r)},module.exports.geometryCollection=function(e,r){if(!e)throw new Error("No geometries passed");return feature({type:"GeometryCollection",geometries:e},r)};var factors={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373,feet:20908792.65};module.exports.radiansToDistance=function(e,r){var o=factors[r||"kilometers"];if(void 0===o)throw new Error("Invalid unit");return e*o},module.exports.distanceToRadians=function(e,r){var o=factors[r||"kilometers"];if(void 0===o)throw new Error("Invalid unit");return e/o},module.exports.distanceToDegrees=function(e,r){var o=factors[r||"kilometers"];if(void 0===o)throw new Error("Invalid unit");return e/o*57.2958};

},{}],58:[function(require,module,exports){
function inRing(n,r,e){var t=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var i=0,o=r.length-1;i<r.length;o=i++){var a=r[i][0],g=r[i][1],l=r[o][0],v=r[o][1];if(n[1]*(a-l)+g*(l-n[0])+v*(n[0]-a)==0&&(a-n[0])*(l-n[0])<=0&&(g-n[1])*(v-n[1])<=0)return!e;g>n[1]!=v>n[1]&&n[0]<(l-a)*(n[1]-g)/(v-g)+a&&(t=!t)}return t}var invariant=require("@turf/invariant");module.exports=function(n,r){var e=invariant.getCoord(n),t=r.geometry.coordinates;"Polygon"===r.geometry.type&&(t=[t]);for(var i=0,o=!1;i<t.length&&!o;i++)if(inRing(e,t[i][0])){for(var a=!1,g=1;g<t[i].length&&!a;)inRing(e,t[i][g],!0)&&(a=!0),g++;a||(o=!0)}return o};

},{"@turf/invariant":59}],59:[function(require,module,exports){
function getCoord(e){if(!e)throw new Error("No obj passed");var r=getCoords(e);if(r.length>1&&"number"==typeof r[0]&&"number"==typeof r[1])return r;throw new Error("Coordinate is not a valid Point")}function getCoords(e){if(!e)throw new Error("No obj passed");var r;if(e.length?r=e:e.coordinates?r=e.coordinates:e.geometry&&e.geometry.coordinates&&(r=e.geometry.coordinates),r)return containsNumber(r),r;throw new Error("No valid coordinates")}function containsNumber(e){if(e.length>1&&"number"==typeof e[0]&&"number"==typeof e[1])return!0;if(e[0].length)return containsNumber(e[0]);throw new Error("coordinates must only contain numbers")}function geojsonType(e,r,o){if(!r||!o)throw new Error("type and name required");if(!e||e.type!==r)throw new Error("Invalid input to "+o+": must be a "+r+", given "+e.type)}function featureOf(e,r,o){if(!e)throw new Error("No feature passed");if(!o)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+o+", Feature with geometry required");if(!e.geometry||e.geometry.type!==r)throw new Error("Invalid input to "+o+": must be a "+r+", given "+e.geometry.type)}function collectionOf(e,r,o){if(!e)throw new Error("No featureCollection passed");if(!o)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+o+", FeatureCollection required");for(var t=0;t<e.features.length;t++){var n=e.features[t];if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+o+", Feature with geometry required");if(!n.geometry||n.geometry.type!==r)throw new Error("Invalid input to "+o+": must be a "+r+", given "+n.geometry.type)}}module.exports.geojsonType=geojsonType,module.exports.collectionOf=collectionOf,module.exports.featureOf=featureOf,module.exports.getCoord=getCoord,module.exports.getCoords=getCoords;

},{}],60:[function(require,module,exports){
function coordEach(e,o,t){var r,n,u,c,i,l,p,a,f,g,y=0,d=0,s="FeatureCollection"===e.type,h="Feature"===e.type,m=s?e.features.length:1;for(r=0;r<m;r++)for(f=s?e.features[r].geometry:h?e.geometry:e,g="GeometryCollection"===f.type,p=g?f.geometries.length:1,c=0;c<p;c++)if(l=g?f.geometries[c]:f,a=l.coordinates,y=!t||"Polygon"!==l.type&&"MultiPolygon"!==l.type?0:1,"Point"===l.type)o(a,d),d++;else if("LineString"===l.type||"MultiPoint"===l.type)for(n=0;n<a.length;n++)o(a[n],d),d++;else if("Polygon"===l.type||"MultiLineString"===l.type)for(n=0;n<a.length;n++)for(u=0;u<a[n].length-y;u++)o(a[n][u],d),d++;else if("MultiPolygon"===l.type)for(n=0;n<a.length;n++)for(u=0;u<a[n].length;u++)for(i=0;i<a[n][u].length-y;i++)o(a[n][u][i],d),d++;else{if("GeometryCollection"!==l.type)throw new Error("Unknown Geometry Type");for(n=0;n<l.geometries.length;n++)coordEach(l.geometries[n],o,t)}}function coordReduce(e,o,t,r){var n=t;return coordEach(e,function(e,r){n=0===r&&void 0===t?e:o(n,e,r)},r),n}function propEach(e,o){var t;switch(e.type){case"FeatureCollection":for(t=0;t<e.features.length;t++)o(e.features[t].properties,t);break;case"Feature":o(e.properties,0)}}function propReduce(e,o,t){var r=t;return propEach(e,function(e,n){r=0===n&&void 0===t?e:o(r,e,n)}),r}function featureEach(e,o){if("Feature"===e.type)o(e,0);else if("FeatureCollection"===e.type)for(var t=0;t<e.features.length;t++)o(e.features[t],t)}function featureReduce(e,o,t){var r=t;return featureEach(e,function(e,n){r=0===n&&void 0===t?e:o(r,e,n)}),r}function coordAll(e){var o=[];return coordEach(e,function(e){o.push(e)}),o}function geomEach(e,o){var t,r,n,u,c,i,l,p=0,a="FeatureCollection"===e.type,f="Feature"===e.type,g=a?e.features.length:1;for(t=0;t<g;t++)for(i=a?e.features[t].geometry:f?e.geometry:e,l="GeometryCollection"===i.type,c=l?i.geometries.length:1,n=0;n<c;n++)if(u=l?i.geometries[n]:i,"Point"===u.type||"LineString"===u.type||"MultiPoint"===u.type||"Polygon"===u.type||"MultiLineString"===u.type||"MultiPolygon"===u.type)o(u,p),p++;else{if("GeometryCollection"!==u.type)throw new Error("Unknown Geometry Type");for(r=0;r<u.geometries.length;r++)o(u.geometries[r],p),p++}}function geomReduce(e,o,t){var r=t;return geomEach(e,function(e,n){r=0===n&&void 0===t?e:o(r,e,n)}),r}module.exports.coordEach=coordEach,module.exports.coordReduce=coordReduce,module.exports.propEach=propEach,module.exports.propReduce=propReduce,module.exports.featureEach=featureEach,module.exports.featureReduce=featureReduce,module.exports.coordAll=coordAll,module.exports.geomEach=geomEach,module.exports.geomReduce=geomReduce;
},{}],61:[function(require,module,exports){
function createIsoLines(r,e,t,i,n){for(var o=[],a=1;a<e.length;a++){var s=+e[a],u=Object.assign({},i,n[a]);u[t]=s;var c=multiLineString(marchingsquares.isoContours(r,s),u);o.push(c)}return o}function rescaleIsolines(r,e,t){var i=bbox(t),n=i[2]-i[0],o=i[3]-i[1],a=i[0],s=i[1],u=e[0].length-1,c=e.length-1,l=n/u,f=o/c,h=function(r){r[0]=r[0]*l+a,r[1]=r[1]*f+s};return r.forEach(function(r){coordEach(r,h)}),r}function isObject(r){return!!r&&r.constructor===Object}var bbox=require("@turf/bbox"),meta=require("@turf/meta"),helpers=require("@turf/helpers"),invariant=require("@turf/invariant"),gridToMatrix=require("grid-to-matrix"),marchingsquares=require("marchingsquares"),multiLineString=helpers.multiLineString,coordEach=meta.coordEach,collectionOf=invariant.collectionOf,featureCollection=helpers.featureCollection;module.exports=function(r,e,t,i,n){if(t=t||"elevation",i=i||{},n=n||[],collectionOf(r,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!isObject(i))throw new Error("propertiesToAllIsolines must be an Object");if(!Array.isArray(n))throw new Error("propertiesPerIsoline must be an Array");if("string"!=typeof t)throw new Error("zProperty must be a string");var o=gridToMatrix(r,t,!0),a=createIsoLines(o,e,t,i,n),s=rescaleIsolines(a,o,r);return featureCollection(s)};

},{"@turf/bbox":6,"@turf/helpers":46,"@turf/invariant":52,"@turf/meta":77,"grid-to-matrix":62,"marchingsquares":156}],62:[function(require,module,exports){
function sortPointsByLatLng(t,r){var o={};return featureEach(t,function(t){var r=getCoords(t)[1];o[r]||(o[r]=[]),o[r].push(t)}),Object.keys(o).map(function(t){return o[t].sort(function(t,r){return getCoords(t)[0]-getCoords(r)[0]})}).sort(function(t,o){return r?getCoords(t[0])[1]-getCoords(o[0])[1]:getCoords(o[0])[1]-getCoords(t[0])[1]})}var invariant=require("@turf/invariant"),getCoords=invariant.getCoords,featureEach=require("@turf/meta").featureEach;module.exports=function(t,r,o){invariant.collectionOf(t,"Point","input must contain Points"),r=r||"elevation";for(var e=sortPointsByLatLng(t,o),n=[],a=0;a<e.length;a++){for(var i=e[a],s=[],u=0;u<i.length;u++){var f=i[u];f.properties[r]?s.push(f.properties[r]):s.push(0)}n.push(s)}return n};
},{"@turf/invariant":52,"@turf/meta":77}],63:[function(require,module,exports){
function lineIntersects(e,n,t,o,i,r,l,u){var a,f,s,c,y,p={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(a=(u-r)*(t-e)-(l-i)*(o-n))?null!==p.x&&null!==p.y&&p:(f=n-r,s=e-i,c=(l-i)*f-(u-r)*s,y=(t-e)*f-(o-n)*s,f=c/a,s=y/a,p.x=e+f*(t-e),p.y=n+f*(o-n),f>=0&&f<=1&&(p.onLine1=!0),s>=0&&s<=1&&(p.onLine2=!0),!(!p.onLine1||!p.onLine2)&&[p.x,p.y])}var point=require("@turf/helpers").point;module.exports=function(e){var n,t,o={type:"FeatureCollection",features:[]};if(t="Feature"===e.type?e.geometry:e,"LineString"===t.type)n=[t.coordinates];else if("MultiLineString"===t.type)n=t.coordinates;else if("MultiPolygon"===t.type)n=[].concat.apply([],t.coordinates);else{if("Polygon"!==t.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");n=t.coordinates}return n.forEach(function(e){n.forEach(function(n){for(var t=0;t<e.length-1;t++)for(var i=t;i<n.length-1;i++){if(e===n){if(1===Math.abs(t-i))continue;if(0===t&&i===e.length-2&&e[t][0]===e[e.length-1][0]&&e[t][1]===e[e.length-1][1])continue}var r=lineIntersects(e[t][0],e[t][1],e[t+1][0],e[t+1][1],n[i][0],n[i][1],n[i+1][0],n[i+1][1]);r&&o.features.push(point([r[0],r[1]]))}})}),o};

},{"@turf/helpers":46}],64:[function(require,module,exports){
function convertAngleTo360(r){var e=r%360;return e<0&&(e+=360),e}var destination=require("@turf/destination"),circle=require("@turf/circle"),lineString=require("@turf/helpers").lineString;module.exports=function(r,e,i,n,t,o){if(!r)throw new Error("center is required");if(void 0===i||null===i)throw new Error("bearing1 is required");if(void 0===n||null===n)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");t=t||64;var u=convertAngleTo360(i),s=convertAngleTo360(n),l=r.properties;if(u===s)return lineString(circle(r,e,t,o).geometry.coordinates[0],l);for(var c=u,d=u<s?s:s+360,a=c,g=[],f=0;a<d;)g.push(destination(r,e,a,o).geometry.coordinates),f++,a=c+360*f/t;return a>d&&g.push(destination(r,e,d,o).geometry.coordinates),lineString(g,l)};

},{"@turf/circle":26,"@turf/destination":36,"@turf/helpers":46}],65:[function(require,module,exports){
function sliceLineSegments(e,r,t,n){var i=lineDistance(e,t);if(i<=r)return n(e);for(var o=Math.floor(i/r)+1,l=0;l<o;l++){n(lineSliceAlong(e,r*l,r*(l+1),t),l)}}var lineSliceAlong=require("@turf/line-slice-along"),lineDistance=require("@turf/line-distance"),featureCollection=require("@turf/helpers").featureCollection,flattenEach=require("@turf/meta").flattenEach;module.exports=function(e,r,t,n){if(!e)throw new Error("geojson is required");if(r<=0)throw new Error("segmentLength must be greater than 0");var i=[];return flattenEach(e,function(e){n&&(e.geometry.coordinates=e.geometry.coordinates.reverse()),sliceLineSegments(e,r,t,function(e){i.push(e)})}),featureCollection(i)};

},{"@turf/helpers":46,"@turf/line-distance":66,"@turf/line-slice-along":72,"@turf/meta":77}],66:[function(require,module,exports){
var distance=require("@turf/distance"),segmentReduce=require("@turf/meta").segmentReduce;module.exports=function(e,r){if(!e)throw new Error("geojson is required");return segmentReduce(e,function(e,t){var n=t.geometry.coordinates;return e+distance(n[0],n[1],r)},0)};

},{"@turf/distance":39,"@turf/meta":77}],67:[function(require,module,exports){
function intersects(e,r){var t=getCoords(e),n=getCoords(r);if(2!==t.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==n.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=t[0][0],i=t[0][1],u=t[1][0],a=t[1][1],s=n[0][0],l=n[0][1],c=n[1][0],f=n[1][1],g=(f-l)*(u-o)-(c-s)*(a-i),h=(c-s)*(i-l)-(f-l)*(o-s),p=(u-o)*(i-l)-(a-i)*(o-s);if(0===g)return null;var m=h/g,y=p/g;if(m>=0&&m<=1&&y>=0&&y<=1){return point([o+m*(u-o),i+m*(a-i)])}return null}var meta=require("@turf/meta"),rbush=require("geojson-rbush"),helpers=require("@turf/helpers"),getCoords=require("@turf/invariant").getCoords,lineSegment=require("@turf/line-segment"),point=helpers.point,featureEach=meta.featureEach,featureCollection=helpers.featureCollection;module.exports=function(e,r){var t={},n=[];if("LineString"===e.type&&(e=helpers.feature(e)),"LineString"===r.type&&(r=helpers.feature(r)),"Feature"===e.type&&"Feature"===r.type&&"LineString"===e.geometry.type&&"LineString"===r.geometry.type&&2===e.geometry.coordinates.length&&2===r.geometry.coordinates.length){var o=intersects(e,r);return o&&n.push(o),featureCollection(n)}var i=rbush();return i.load(lineSegment(r)),featureEach(lineSegment(e),function(e){featureEach(i.search(e),function(r){var o=intersects(e,r);if(o){var i=getCoords(o).join(",");t[i]||(t[i]=!0,n.push(o))}})}),featureCollection(n)};

},{"@turf/helpers":46,"@turf/invariant":52,"@turf/line-segment":71,"@turf/meta":77,"geojson-rbush":146}],68:[function(require,module,exports){
function lineOffset(e,r,t){var n=[],i=distanceToDegrees(r,t),s=getCoords(e),o=[];return s.forEach(function(e,r){if(r!==s.length-1){var t=processSegment(e,s[r+1],i);if(n.push(t),r>0){var u=n[r-1],a=intersection(t,u);!1!==a&&(u[1]=a,t[0]=a),o.push(u[0]),r===s.length-2&&(o.push(t[0]),o.push(t[1]))}2===s.length&&(o.push(t[0]),o.push(t[1]))}}),lineString(o,e.properties)}function processSegment(e,r,t){var n=Math.sqrt((e[0]-r[0])*(e[0]-r[0])+(e[1]-r[1])*(e[1]-r[1])),i=e[0]+t*(r[1]-e[1])/n,s=r[0]+t*(r[1]-e[1])/n;return[[i,e[1]+t*(e[0]-r[0])/n],[s,r[1]+t*(e[0]-r[0])/n]]}var meta=require("@turf/meta"),helpers=require("@turf/helpers"),getCoords=require("@turf/invariant").getCoords,intersection=require("./intersection"),flattenEach=meta.flattenEach,lineString=helpers.lineString,multiLineString=helpers.multiLineString,distanceToDegrees=helpers.distanceToDegrees;module.exports=function(e,r,t){if(!e)throw new Error("geojson is required");if(void 0===r||null===r||isNaN(r))throw new Error("distance is required");var n="Feature"===e.type?e.geometry.type:e.type,i=e.properties;switch(n){case"LineString":return lineOffset(e,r,t);case"MultiLineString":var s=[];return flattenEach(e,function(e){s.push(lineOffset(e,r,t).geometry.coordinates)}),multiLineString(s,i);default:throw new Error("geometry "+n+" is not supported")}};

},{"./intersection":69,"@turf/helpers":46,"@turf/invariant":52,"@turf/meta":77}],69:[function(require,module,exports){
function ab(r){var t=r[0],n=r[1];return[n[0]-t[0],n[1]-t[1]]}function crossProduct(r,t){return r[0]*t[1]-t[0]*r[1]}function add(r,t){return[r[0]+t[0],r[1]+t[1]]}function sub(r,t){return[r[0]-t[0],r[1]-t[1]]}function scalarMult(r,t){return[r*t[0],r*t[1]]}function intersectSegments(r,t){var n=r[0],u=ab(r),e=t[0],c=ab(t),s=crossProduct(u,c);return add(n,scalarMult(crossProduct(sub(e,n),c)/s,u))}function isParallel(r,t){return 0===crossProduct(ab(r),ab(t))}function intersection(r,t){return!isParallel(r,t)&&intersectSegments(r,t)}module.exports=intersection;

},{}],70:[function(require,module,exports){
function concatSegment(e,n){var t=getCoords(n),o=getCoords(e),r=o[0],i=o[o.length-1],a=e.geometry.coordinates;return equal(t[0],r)?a.unshift(t[1]):equal(t[0],i)?a.push(t[1]):equal(t[1],r)?a.unshift(t[0]):equal(t[1],i)&&a.push(t[0]),e}var meta=require("@turf/meta"),equal=require("deep-equal"),rbush=require("geojson-rbush"),invariant=require("@turf/invariant"),lineSegment=require("@turf/line-segment"),pointOnLine=require("@turf/point-on-line"),booleanPointOnLine=require("@turf/boolean-point-on-line"),featureCollection=require("@turf/helpers").featureCollection,getCoords=invariant.getCoords,featureEach=meta.featureEach,segmentEach=meta.segmentEach;module.exports=function(e,n,t){var o=[];t=t||0;var r=rbush();r.load(lineSegment(e));var i;return segmentEach(n,function(e){var n=!1;featureEach(r.search(e),function(o){if(!1===n){var r=getCoords(e).sort(),a=getCoords(o).sort();equal(r,a)?(n=!0,i=i?concatSegment(i,e):e):(0===t?booleanPointOnLine(r[0],o)&&booleanPointOnLine(r[1],o):pointOnLine(o,r[0]).properties.dist<=t&&pointOnLine(o,r[1]).properties.dist<=t)?(n=!0,i=i?concatSegment(i,e):e):(0===t?booleanPointOnLine(a[0],e)&&booleanPointOnLine(a[1],e):pointOnLine(e,a[0]).properties.dist<=t&&pointOnLine(e,a[1]).properties.dist<=t)&&(i=i?concatSegment(i,o):o)}}),!1===n&&i&&(o.push(i),i=void 0)}),i&&o.push(i),featureCollection(o)};

},{"@turf/boolean-point-on-line":16,"@turf/helpers":46,"@turf/invariant":52,"@turf/line-segment":71,"@turf/meta":77,"@turf/point-on-line":82,"deep-equal":120,"geojson-rbush":146}],71:[function(require,module,exports){
function lineSegment(e,r){var t=[],n=e.geometry;switch(n.type){case"Polygon":t=getCoords(n);break;case"LineString":t=[getCoords(n)]}t.forEach(function(t){createSegments(t,e.properties).forEach(function(e){e.id=r.length,r.push(e)})})}function createSegments(e,r){var t=[];return e.reduce(function(e,n){var o=lineString([e,n],r);return o.bbox=bbox(e,n),t.push(o),n}),t}function bbox(e,r){var t=e[0],n=e[1],o=r[0],i=r[1];return[t<o?t:o,n<i?n:i,t>o?t:o,n>i?n:i]}var helpers=require("@turf/helpers"),getCoords=require("@turf/invariant").getCoords,flattenEach=require("@turf/meta").flattenEach,lineString=helpers.lineString,featureCollection=helpers.featureCollection;module.exports=function(e){if(!e)throw new Error("geojson is required");var r=[];return flattenEach(e,function(e){lineSegment(e,r)}),featureCollection(r)};

},{"@turf/helpers":46,"@turf/invariant":52,"@turf/meta":77}],72:[function(require,module,exports){
var bearing=require("@turf/bearing"),distance=require("@turf/distance"),destination=require("@turf/destination"),lineString=require("@turf/helpers").lineString;module.exports=function(e,r,n,t){var i,o=[];if("Feature"===e.type)i=e.geometry.coordinates;else{if("LineString"!==e.type)throw new Error("input must be a LineString Feature or Geometry");i=e.coordinates}for(var u,a,g,s=0,l=0;l<i.length&&!(r>=s&&l===i.length-1);l++){if(s>r&&0===o.length){if(!(u=r-s))return o.push(i[l]),lineString(o);a=bearing(i[l],i[l-1])-180,g=destination(i[l],u,a,t),o.push(g.geometry.coordinates)}if(s>=n)return(u=n-s)?(a=bearing(i[l],i[l-1])-180,g=destination(i[l],u,a,t),o.push(g.geometry.coordinates),lineString(o)):(o.push(i[l]),lineString(o));if(s>=r&&o.push(i[l]),l===i.length-1)return lineString(o);s+=distance(i[l],i[l+1],t)}return lineString(i[i.length-1])};

},{"@turf/bearing":7,"@turf/destination":36,"@turf/distance":39,"@turf/helpers":46}],73:[function(require,module,exports){
var linestring=require("@turf/helpers").lineString,pointOnLine=require("@turf/point-on-line");module.exports=function(e,r,i){var n;if("Feature"===i.type)n=i.geometry.coordinates;else{if("LineString"!==i.type)throw new Error("input must be a LineString Feature or Geometry");n=i.coordinates}var t,o=pointOnLine(i,e),p=pointOnLine(i,r);t=o.properties.index<=p.properties.index?[o,p]:[p,o];for(var s=[t[0].geometry.coordinates],u=t[0].properties.index+1;u<t[1].properties.index+1;u++)s.push(n[u]);return s.push(t[1].geometry.coordinates),linestring(s,i.properties)};

},{"@turf/helpers":46,"@turf/point-on-line":82}],74:[function(require,module,exports){
function splitLineWithPoints(e,t){var r=[],n=rbush();return featureEach(t,function(t){if(r.forEach(function(e,t){e.id=t}),r.length){var i=n.search(t),o=findClosestFeature(t,i);r=r.filter(function(e){return e.id!==o.id}),n.remove(o),featureEach(splitLineWithPoint(o,t),function(e){r.push(e),n.insert(e)})}else r=splitLineWithPoint(e,t).features,n.load(featureCollection(r))}),featureCollection(r)}function splitLineWithPoint(e,t){var r=[],n=getCoords(e)[0],i=getCoords(e)[e.geometry.coordinates.length-1];if(pointsEquals(n,getCoords(t))||pointsEquals(i,getCoords(t)))return featureCollection([e]);var o=rbush(),u=lineSegment(e);o.load(u);var a=o.search(t);if(!a.features.length)return featureCollection([e]);var s=findClosestFeature(t,a),l=[n],f=featureReduce(u,function(e,n,i){var o=getCoords(n)[1],u=getCoords(t);return i===s.id?(e.push(u),r.push(lineString(e)),pointsEquals(u,o)?[u]:[u,o]):(e.push(o),e)},l);return f.length>1&&r.push(lineString(f)),featureCollection(r)}function findClosestFeature(e,t){if(!t.features)throw new Error("<lines> must contain features");if(1===t.features.length)return t.features[0];var r,n=1/0;return featureEach(t,function(t){var i=pointOnLine(t,e),o=i.properties.dist;o<n&&(r=t,n=o)}),r}function pointsEquals(e,t){return e[0]===t[0]&&e[1]===t[1]}var meta=require("@turf/meta"),rbush=require("geojson-rbush"),helpers=require("@turf/helpers"),flatten=require("@turf/flatten"),truncate=require("@turf/truncate"),invariant=require("@turf/invariant"),lineSegment=require("@turf/line-segment"),pointOnLine=require("@turf/point-on-line"),lineIntersect=require("@turf/line-intersect"),getCoords=invariant.getCoords,lineString=helpers.lineString,getGeomType=invariant.getGeomType,featureEach=meta.featureEach,featureReduce=meta.featureReduce,featureCollection=helpers.featureCollection;module.exports=function(e,t){if(!e)throw new Error("line is required");if(!t)throw new Error("splitter is required");var r=getGeomType(e),n=getGeomType(t);if("LineString"!==r)throw new Error("line must be LineString");if("FeatureCollection"===n)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===n)throw new Error("splitter cannot be a GeometryCollection");var i=truncate(t,7);switch(n){case"Point":return splitLineWithPoint(e,i);case"MultiPoint":return splitLineWithPoints(e,flatten(i));case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return splitLineWithPoints(e,lineIntersect(e,i))}};

},{"@turf/flatten":42,"@turf/helpers":46,"@turf/invariant":52,"@turf/line-intersect":67,"@turf/line-segment":71,"@turf/meta":77,"@turf/point-on-line":82,"@turf/truncate":106,"geojson-rbush":146}],75:[function(require,module,exports){
function lineStringToPolygon(e,o,r,t){o=o||e.properties||{};var n=getCoords(e),i=geomType(e);if(!n.length)throw new Error("line must contain coordinates");switch(i){case"LineString":return r&&(n=autoCompleteCoords(n)),polygon([n],o);case"MultiLineString":var l=[],u=0;return n.forEach(function(e){if(r&&(e=autoCompleteCoords(e)),t){var o=calculateArea(bbox(lineString(e)));o>u?(l.unshift(e),u=o):l.push(e)}else l.push(e)}),polygon(l,o);default:throw new Error("geometry type "+i+" is not supported")}}function geomType(e){return e.geometry?e.geometry.type:e.type}function autoCompleteCoords(e){var o=e[0],r=o[0],t=o[1],n=e[e.length-1],i=n[0],l=n[1];return r===i&&t===l||e.push(o),e}function calculateArea(e){var o=e[0],r=e[1],t=e[2],n=e[3];return Math.abs(o-t)*Math.abs(r-n)}var bbox=require("@turf/bbox"),getCoords=require("@turf/invariant").getCoords,helpers=require("@turf/helpers"),polygon=helpers.polygon,multiPolygon=helpers.multiPolygon,lineString=helpers.lineString;module.exports=function(e,o,r,t){if(!e)throw new Error("lines is required");switch(r=void 0===r||r,t=void 0===t||t,geomType(e)){case"FeatureCollection":case"GeometryCollection":var n=[];return(e.features?e.features:e.geometries).forEach(function(e){n.push(getCoords(lineStringToPolygon(e,{},r,t)))}),multiPolygon(n,o)}return lineStringToPolygon(e,o,r,t)};

},{"@turf/bbox":6,"@turf/helpers":46,"@turf/invariant":52}],76:[function(require,module,exports){
function buildMask(e,n,r){var t=[];return t.push(e.geometry.coordinates[0]),flattenEach(n,function(e){t.push(e.geometry.coordinates[0])}),flattenEach(r,function(e){t.push(e.geometry.coordinates[0])}),helpers.polygon(t)}function separatePolygons(e){var n=[],r=[];return flattenEach(e,function(e){var t=e.geometry.coordinates,o=t[0],u=t.slice(1);n.push(helpers.polygon([o])),u.forEach(function(e){r.push(helpers.polygon([e]))})}),[helpers.featureCollection(n),helpers.featureCollection(r)]}function createMask(e){var n=[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]],r=e&&e.geometry.coordinates||n;return helpers.polygon(r)}function unionPolygons(e){if(e.features.length<=1)return e;var n=createIndex(e),r=[],t={};return flattenEach(e,function(e,o){if(t[o])return!0;for(n.remove({index:o},filterByIndex),t[o]=!0;;){var u=turfBBox(e),a=n.search({minX:u[0],minY:u[1],maxX:u[2],maxY:u[3]});if(a.length>0){var i=a.map(function(e){return t[e.index]=!0,n.remove({index:e.index},filterByIndex),e.geojson});i.push(e),e=union.apply(this,i)}if(0===a.length)break}r.push(e)}),helpers.featureCollection(r)}function filterByIndex(e,n){return e.index===n.index}function createIndex(e){var n=rbush(),r=[];return flattenEach(e,function(e,n){var t=turfBBox(e);r.push({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],geojson:e,index:n})}),n.load(r),n}var rbush=require("rbush"),union=require("@turf/union"),helpers=require("@turf/helpers"),turfBBox=require("@turf/bbox"),flattenEach=require("@turf/meta").flattenEach;module.exports=function(e,n){var r=createMask(n),t=separatePolygons(e),o=t[0],u=t[1];return o=unionPolygons(o),u=unionPolygons(u),buildMask(r,o,u)};

},{"@turf/bbox":6,"@turf/helpers":46,"@turf/meta":77,"@turf/union":107,"rbush":167}],77:[function(require,module,exports){
"use strict";function coordEach(e,t,r){if(null!==e){var o,n,i,a,c,u,l,s,f,g,p=0,h=0,d=e.type,y="FeatureCollection"===d,m="Feature"===d,E=y?e.features.length:1;for(o=0;o<E;o++)for(f=y?e.features[o].geometry:m?e.geometry:e,g=!!f&&"GeometryCollection"===f.type,l=g?f.geometries.length:1,n=0;n<l;n++){var v=0;if(null!==(u=g?f.geometries[n]:f)){s=u.coordinates;var w=u.type;switch(p=!r||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":t(s,h,o,v),h++,v++;break;case"LineString":case"MultiPoint":for(i=0;i<s.length;i++)t(s[i],h,o,v),h++,"MultiPoint"===w&&v++;"LineString"===w&&v++;break;case"Polygon":case"MultiLineString":for(i=0;i<s.length;i++){for(a=0;a<s[i].length-p;a++)t(s[i][a],h,o,v),h++;"MultiLineString"===w&&v++}"Polygon"===w&&v++;break;case"MultiPolygon":for(i=0;i<s.length;i++){for(a=0;a<s[i].length;a++)for(c=0;c<s[i][a].length-p;c++)t(s[i][a][c],h,o,v),h++;v++}break;case"GeometryCollection":for(i=0;i<u.geometries.length;i++)coordEach(u.geometries[i],t,r);break;default:throw new Error("Unknown Geometry Type")}}}}}function coordReduce(e,t,r,o){var n=r;return coordEach(e,function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)},o),n}function propEach(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length;r++)t(e.features[r].properties,r);break;case"Feature":t(e.properties,0)}}function propReduce(e,t,r){var o=r;return propEach(e,function(e,n){o=0===n&&void 0===r?e:t(o,e,n)}),o}function featureEach(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)t(e.features[r],r)}function featureReduce(e,t,r){var o=r;return featureEach(e,function(e,n){o=0===n&&void 0===r?e:t(o,e,n)}),o}function coordAll(e){var t=[];return coordEach(e,function(e){t.push(e)}),t}function geomEach(e,t){var r,o,n,i,a,c,u,l,s=0,f="FeatureCollection"===e.type,g="Feature"===e.type,p=f?e.features.length:1;for(r=0;r<p;r++){for(c=f?e.features[r].geometry:g?e.geometry:e,l=f?e.features[r].properties:g?e.properties:{},u=!!c&&"GeometryCollection"===c.type,a=u?c.geometries.length:1,n=0;n<a;n++)if(null!==(i=u?c.geometries[n]:c))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":t(i,s,l);break;case"GeometryCollection":for(o=0;o<i.geometries.length;o++)t(i.geometries[o],s,l);break;default:throw new Error("Unknown Geometry Type")}else t(null,s,l);s++}}function geomReduce(e,t,r){var o=r;return geomEach(e,function(e,n,i){o=0===n&&void 0===r?e:t(o,e,n,i)}),o}function flattenEach(e,t){geomEach(e,function(e,r,o){var n=null===e?null:e.type;switch(n){case null:case"Point":case"LineString":case"Polygon":return void t(feature(e,o),r,0)}var i;switch(n){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon"}e.coordinates.forEach(function(e,n){t(feature({type:i,coordinates:e},o),r,n)})})}function flattenReduce(e,t,r){var o=r;return flattenEach(e,function(e,n,i){o=0===n&&0===i&&void 0===r?e:t(o,e,n,i)}),o}function segmentEach(e,t){flattenEach(e,function(e,r,o){var n=0;if(e.geometry){var i=e.geometry.type;"Point"!==i&&"MultiPoint"!==i&&coordReduce(e,function(i,a){var c=lineString([i,a],e.properties);return t(c,r,o,n),n++,a})}})}function segmentReduce(e,t,r){var o=r,n=!1;return segmentEach(e,function(e,i,a,c){o=!1===n&&void 0===r?e:t(o,e,i,a,c),n=!0}),o}function feature(e,t){if(void 0===e)throw new Error("No geometry passed");return{type:"Feature",properties:t||{},geometry:e}}function lineString(e,t){if(!e)throw new Error("No coordinates passed");if(e.length<2)throw new Error("Coordinates must be an array of two or more positions");return{type:"Feature",properties:t||{},geometry:{type:"LineString",coordinates:e}}}function lineEach(e,t){if(!e)throw new Error("geojson is required");var r=e.geometry?e.geometry.type:e.type;if(!r)throw new Error("invalid geojson");if("FeatureCollection"===r)throw new Error("FeatureCollection is not supported");if("GeometryCollection"===r)throw new Error("GeometryCollection is not supported");var o=e.geometry?e.geometry.coordinates:e.coordinates;if(!o)throw new Error("geojson must contain coordinates");switch(r){case"LineString":return void t(o,0,0);case"Polygon":case"MultiLineString":for(var n=0,i=0;i<o.length;i++)"MultiLineString"===r&&(n=i),t(o[i],i,n);return;case"MultiPolygon":for(var a=0;a<o.length;a++)for(var c=0;c<o[a].length;c++)t(o[a][c],c,a);return;default:throw new Error(r+" geometry not supported")}}function lineReduce(e,t,r){var o=r;return lineEach(e,function(e,n,i){o=0===n&&void 0===r?e:t(o,e,n,i)}),o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.coordEach=coordEach,exports.coordReduce=coordReduce,exports.propEach=propEach,exports.propReduce=propReduce,exports.featureEach=featureEach,exports.featureReduce=featureReduce,exports.coordAll=coordAll,exports.geomEach=geomEach,exports.geomReduce=geomReduce,exports.flattenEach=flattenEach,exports.flattenReduce=flattenReduce,exports.segmentEach=segmentEach,exports.segmentReduce=segmentReduce,exports.feature=feature,exports.lineString=lineString,exports.lineEach=lineEach,exports.lineReduce=lineReduce;

},{}],78:[function(require,module,exports){
var bearing=require("@turf/bearing"),destination=require("@turf/destination"),distance=require("@turf/distance");module.exports=function(e,i){var r=distance(e,i,"miles"),n=bearing(e,i);return destination(e,r/2,n,"miles")};

},{"@turf/bearing":7,"@turf/destination":36,"@turf/distance":39}],79:[function(require,module,exports){
var distance=require("@turf/distance");module.exports=function(e,r){for(var t,a=1/0,s=0;s<r.features.length;s++){var u=distance(e,r.features[s],"miles");u<a&&(t=r.features[s],a=u)}return t};

},{"@turf/distance":39}],80:[function(require,module,exports){
var invariant=require("@turf/invariant"),getCoord=invariant.getCoord,getGeom=invariant.getGeom;module.exports=function(o,r){var e=getCoord(o),t=getGeom(r),i=t.coordinates,n=i[0];if(n.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var a=r.properties||{},v=a.a,g=a.b,d=a.c,u=e[0],m=e[1],s=n[0][0],f=n[0][1],c=void 0!==v?v:n[0][2],h=n[1][0],l=n[1][1],p=void 0!==g?g:n[1][2],C=n[2][0],G=n[2][1],w=void 0!==d?d:n[2][2];return(w*(u-s)*(m-l)+c*(u-h)*(m-G)+p*(u-C)*(m-f)-p*(u-s)*(m-G)-w*(u-h)*(m-f)-c*(u-C)*(m-l))/((u-s)*(m-l)+(u-h)*(m-G)+(u-C)*(m-f)-(u-s)*(m-G)-(u-h)*(m-f)-(u-C)*(m-l))};

},{"@turf/invariant":52}],81:[function(require,module,exports){
var distance=require("@turf/distance"),turfBBox=require("@turf/bbox"),helpers=require("@turf/helpers"),inside=require("@turf/inside"),invariant=require("@turf/invariant"),getGeomType=invariant.getGeomType,point=helpers.point,featureCollection=helpers.featureCollection;module.exports=function(r,e,t,i,o){var n=[],a=r;if(!r)throw new Error("bbox is required");if(Array.isArray(r)||(r=turfBBox(r)),4!==r.length)throw new Error("bbox must contain 4 numbers");var u=r[0],s=r[1],f=r[2],p=r[3],l=e/distance(point([u,s]),point([f,s]),t),h=l*(f-u),v=e/distance(point([u,s]),point([u,p]),t),y=v*(p-s);if(!1!==i)var c=f-u,d=p-s,b=Math.floor(c/h),g=Math.floor(d/y),m=(c-b*h)/2,q=(d-g*y)/2;var x=!Array.isArray(a)&&("Polygon"===getGeomType(a)||"MultiPolygon"===getGeomType(a)),w=u;for(!1!==i&&(w+=m);w<=f;){var A=s;for(!1!==i&&(A+=q);A<=p;){var B=point([w,A]);!0===o&&x?inside(B,a)&&n.push(B):n.push(B),A+=y}w+=h}return featureCollection(n)};

},{"@turf/bbox":6,"@turf/distance":39,"@turf/helpers":46,"@turf/inside":49,"@turf/invariant":52}],82:[function(require,module,exports){
var meta=require("@turf/meta"),helpers=require("@turf/helpers"),bearing=require("@turf/bearing"),distance=require("@turf/distance"),invariant=require("@turf/invariant"),destination=require("@turf/destination"),lineIntersects=require("@turf/line-intersect"),point=helpers.point,getCoords=invariant.getCoords,lineString=helpers.lineString,flattenEach=meta.flattenEach;module.exports=function(e,t,r){var i=e.geometry?e.geometry.type:e.type;if("LineString"!==i&&"MultiLineString"!==i)throw new Error("lines must be LineString or MultiLineString");var n=point([1/0,1/0],{dist:1/0}),s=0;return flattenEach(e,function(e){for(var i=getCoords(e),o=0;o<i.length-1;o++){var a=point(i[o]);a.properties.dist=distance(t,a,r);var p=point(i[o+1]);p.properties.dist=distance(t,p,r);var d=distance(a,p,r),l=Math.max(a.properties.dist,p.properties.dist),u=bearing(a,p),c=destination(t,l,u+90,r),g=destination(t,l,u-90,r),f=lineIntersects(lineString([c.geometry.coordinates,g.geometry.coordinates]),lineString([a.geometry.coordinates,p.geometry.coordinates])),m=null;f.features.length>0&&(m=f.features[0],m.properties.dist=distance(t,m,r),m.properties.location=s+distance(a,m,r)),a.properties.dist<n.properties.dist&&(n=a,n.properties.index=o,n.properties.location=s),p.properties.dist<n.properties.dist&&(n=p,n.properties.index=o+1,n.properties.location=s+d),m&&m.properties.dist<n.properties.dist&&(n=m,n.properties.index=o),s+=d}}),n};

},{"@turf/bearing":7,"@turf/destination":36,"@turf/distance":39,"@turf/helpers":46,"@turf/invariant":52,"@turf/line-intersect":67,"@turf/meta":77}],83:[function(require,module,exports){
function pointOnSurface(e){"FeatureCollection"!==e.type&&("Feature"!==e.type&&(e={type:"Feature",geometry:e,properties:{}}),e=featureCollection([e]));for(var t=centroid(e),r=!1,o=0;!r&&o<e.features.length;){var n,i,a,s,u,c,f,d=e.features[o].geometry,l=!1;if("Point"===d.type)t.geometry.coordinates[0]===d.coordinates[0]&&t.geometry.coordinates[1]===d.coordinates[1]&&(r=!0);else if("MultiPoint"===d.type){var g=!1;for(f=0;!g&&f<d.coordinates.length;)t.geometry.coordinates[0]===d.coordinates[f][0]&&t.geometry.coordinates[1]===d.coordinates[f][1]&&(r=!0,g=!0),f++}else if("LineString"===d.type)for(f=0;!l&&f<d.coordinates.length-1;)n=t.geometry.coordinates[0],i=t.geometry.coordinates[1],a=d.coordinates[f][0],s=d.coordinates[f][1],u=d.coordinates[f+1][0],c=d.coordinates[f+1][1],pointOnSegment(n,i,a,s,u,c)&&(l=!0,r=!0),f++;else if("MultiLineString"===d.type)for(var p=0;p<d.coordinates.length;){l=!1,f=0;for(var y=d.coordinates[p];!l&&f<y.length-1;)n=t.geometry.coordinates[0],i=t.geometry.coordinates[1],a=y[f][0],s=y[f][1],u=y[f+1][0],c=y[f+1][1],pointOnSegment(n,i,a,s,u,c)&&(l=!0,r=!0),f++;p++}else if("Polygon"===d.type||"MultiPolygon"===d.type){var m={type:"Feature",geometry:d,properties:{}};inside(t,m)&&(r=!0)}o++}if(r)return t;var h=featureCollection([]);for(o=0;o<e.features.length;o++)h.features=h.features.concat(explode(e.features[o]).features);var v,q=1/0;for(o=0;o<h.features.length;o++){var S=distance(t,h.features[o],"miles");S<q&&(q=S,v=h.features[o])}return v}function pointOnSegment(e,t,r,o,n,i){if(Math.sqrt((n-r)*(n-r)+(i-o)*(i-o))===Math.sqrt((e-r)*(e-r)+(t-o)*(t-o))+Math.sqrt((n-e)*(n-e)+(i-t)*(i-t)))return!0}var featureCollection=require("@turf/helpers").featureCollection,centroid=require("@turf/center"),distance=require("@turf/distance"),inside=require("@turf/inside"),explode=require("@turf/explode");module.exports=pointOnSurface;

},{"@turf/center":24,"@turf/distance":39,"@turf/explode":41,"@turf/helpers":46,"@turf/inside":49}],84:[function(require,module,exports){
function distanceToSegment(e,r,t,a,n){var i=!0!==n?distance(r,e,a):euclideanDistance(r,e,a),o=bearingToAngle(!0!==n?bearing(r,e):rhumbBearing(r,e)),u=bearingToAngle(!0!==n?bearing(r,t):rhumbBearing(r,t)),s=Math.abs(o-u);if(s>90)return i;var c=(u+180)%360,h=bearingToAngle(!0!==n?bearing(t,e):rhumbBearing(t,e)),g=Math.abs(h-c);return g>180&&(g=Math.abs(g-360)),g>90?!0!==n?distance(e,t,a):euclideanDistance(e,t,a):!0!==n?i*Math.sin(degrees2radians(s)):mercatorPH(r,t,e,a)}function mercatorPH(e,r,t,a){var n=0;(Math.abs(e[0])>=180||Math.abs(r[0])>=180||Math.abs(t[0])>=180)&&(n=e[0]>0||r[0]>0||t[0]>0?-180:180);var i=turfPoint(t),o=toMercator([e[0]+n,e[1]]),u=toMercator([r[0]+n,r[1]]),s=toMercator([t[0]+n,t[1]]),c=toWGS84(euclideanIntersection(o,u,s));return 0!==n&&(c[0]-=n),rhumbDistance(i,c,a)}function euclideanIntersection(e,r,t){var a=e[0],n=e[1],i=r[0],o=r[1],u=t[0],s=t[1],c=i-a,h=o-n,g=c*c+h*h,f=((u-a)*c+(s-n)*h)/g;return[a+f*c,n+f*h]}function euclideanDistance(e,r,t){var a=0;Math.abs(e[0])>=180&&(a=e[0]>0?-180:180),Math.abs(r[0])>=180&&(a=r[0]>0?-180:180);var n=toMercator([e[0]+a,e[1]]),i=toMercator([r[0]+a,r[1]]),o=function(e){return e*e},u=o(n[0]-i[0])+o(n[1]-i[1]),s=Math.sqrt(u);return convertDistance(s,"meters",t)}function toMercator(e){var r=Math.PI/180,t=6378137,a=20037508.342789244,n=[t*e[0]*r,t*Math.log(Math.tan(.25*Math.PI+.5*e[1]*r))];return n[0]>a&&(n[0]=a),n[0]<-a&&(n[0]=-a),n[1]>a&&(n[1]=a),n[1]<-a&&(n[1]=-a),n}function toWGS84(e){var r=180/Math.PI,t=6378137;return[e[0]*r/t,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/t)))*r]}var meta=require("@turf/meta"),bearing=require("@turf/bearing"),helpers=require("@turf/helpers"),distance=require("@turf/distance"),invariant=require("@turf/invariant"),rhumbBearing=require("@turf/rhumb-bearing"),rhumbDistance=require("@turf/rhumb-distance"),turfLine=helpers.lineString,featureOf=invariant.featureOf,turfPoint=helpers.point,segmentEach=meta.segmentEach,bearingToAngle=helpers.bearingToAngle,convertDistance=helpers.convertDistance,degrees2radians=helpers.degrees2radians;module.exports=function(e,r,t,a){if(!e)throw new Error("point is required");if(Array.isArray(e)?e=turfPoint(e):featureOf(e,"Point","point"),!r)throw new Error("line is required");Array.isArray(r)?r=turfLine(r):featureOf(r,"LineString","line");var n=1/0,i=e.geometry.coordinates;return segmentEach(r,function(e){var r=e.geometry.coordinates[0],o=e.geometry.coordinates[1],u=distanceToSegment(i,r,o,t,a);n>u&&(n=u)}),n};

},{"@turf/bearing":7,"@turf/distance":39,"@turf/helpers":46,"@turf/invariant":52,"@turf/meta":77,"@turf/rhumb-bearing":91,"@turf/rhumb-distance":93}],85:[function(require,module,exports){
function processPolygon(e,o,r,t,n,i){for(var s=0;s<e.length;s++){var l=e[s],u=e[s+1];s===e.length-1&&(u=e[0]),t=isLeft(l,u,o),r<=0&&t>0&&(isBelow(o,l,n)||(n=l)),r>0&&t<=0&&(isAbove(o,l,i)||(i=l)),r=t}return[n,i]}function isAbove(e,o,r){return isLeft(e,o,r)>=0}function isBelow(e,o,r){return isLeft(e,o,r)<=0}function isLeft(e,o,r){return(o[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(o[1]-e[1])}function getGeomType(e){return e.geometry?e.geometry.type:e.type}var getCoords=require("@turf/invariant").getCoords,helpers=require("@turf/helpers"),featureCollection=helpers.featureCollection;module.exports=function(e,o){var r,t,n,i=getCoords(e),s=getCoords(o);switch(getGeomType(o)){case"Polygon":t=0,n=0,r=isLeft(s[0][0],s[0][1],i);var l=processPolygon(s[0],i,r,void 0,t,n);t=l[0],n=l[1];break;case"MultiPolygon":t=0,n=0,r=isLeft(s[0][0][0],s[0][0][1],i),s.forEach(function(e){var o=processPolygon(e[0],i,r,void 0,t,n);t=o[0],n=o[1]})}return featureCollection([helpers.point(t),helpers.point(n)])};

},{"@turf/helpers":46,"@turf/invariant":52}],86:[function(require,module,exports){
function coordsToLine(e,r){return e.length>1?multiLineString(e,r):lineString(e[0],r)}function getGeomType(e){return e.geometry?e.geometry.type:e.type}var getCoords=require("@turf/invariant").getCoords,helpers=require("@turf/helpers"),lineString=helpers.lineString,multiLineString=helpers.multiLineString,featureCollection=helpers.featureCollection;module.exports=function(e,r){var o=getGeomType(e),t=getCoords(e);if(r=r||e.properties||{},!t.length)throw new Error("polygon must contain coordinates");switch(o){case"Polygon":return coordsToLine(t,r);case"MultiPolygon":var n=[];return t.forEach(function(e){n.push(coordsToLine(e,r))}),featureCollection(n);default:throw new Error("geom "+o+" not supported")}};

},{"@turf/helpers":46,"@turf/invariant":52}],87:[function(require,module,exports){
var polygonize=require("polygonize");module.exports=function(o){return polygonize(o)};

},{"polygonize":163}],88:[function(require,module,exports){
function toMercator(r,t){return convert(r,t,"mercator")}function toWgs84(r,t){return convert(r,t,"wgs84")}function convert(r,t,o){if(!r)throw new Error("geojson is required");return!0!==t&&(r=clone(r)),coordEach(r,function(r){var t="mercator"===o?convertToMercator(r):convertToWgs84(r);r[0]=t[0],r[1]=t[1]}),r}function convertToMercator(r){var t=Math.PI/180,o=6378137,n=20037508.342789244,e=Math.abs(r[0])<=180?r[0]:r[0]-360*sign(r[0]),c=[o*e*t,o*Math.log(Math.tan(.25*Math.PI+.5*r[1]*t))];return c[0]>n&&(c[0]=n),c[0]<-n&&(c[0]=-n),c[1]>n&&(c[1]=n),c[1]<-n&&(c[1]=-n),c}function convertToWgs84(r){var t=180/Math.PI,o=6378137;return[r[0]*t/o,(.5*Math.PI-2*Math.atan(Math.exp(-r[1]/o)))*t]}function sign(r){return r<0?-1:r>0?1:0}var coordEach=require("@turf/meta").coordEach,clone=require("@turf/clone");module.exports={toMercator:toMercator,toWgs84:toWgs84};

},{"@turf/clone":28,"@turf/meta":77}],89:[function(require,module,exports){
var random=require("geojson-random");module.exports=function(o,n,e){switch(e=e||{},n=n||1,o){case"point":case"points":case void 0:return random.point(n,e.bbox);case"polygon":case"polygons":return random.polygon(n,e.num_vertices,e.max_radial_length,e.bbox);default:throw new Error("Unknown type given: valid options are points and polygons")}};

},{"geojson-random":145}],90:[function(require,module,exports){
function rewind(e,r){switch("Feature"===e.type?e.geometry.type:e.type){case"GeometryCollection":return geomEach(e,function(e){rewind(e,r)}),e;case"LineString":return rewindLineString(getCoords(e),r),e;case"Polygon":return rewindPolygon(getCoords(e),r),e;case"MultiLineString":return getCoords(e).forEach(function(e){rewindLineString(e,r)}),e;case"MultiPolygon":return getCoords(e).forEach(function(e){rewindPolygon(e,r)}),e;case"Point":case"MultiPoint":return e}}function rewindLineString(e,r){booleanClockwise(e)===r&&e.reverse()}function rewindPolygon(e,r){booleanClockwise(e[0])!==r&&e[0].reverse();for(var o=1;o<e.length;o++)booleanClockwise(e[o])===r&&e[o].reverse()}var meta=require("@turf/meta"),getCoords=require("@turf/invariant").getCoords,booleanClockwise=require("@turf/boolean-clockwise"),featureCollection=require("@turf/helpers").featureCollection,geomEach=meta.geomEach,featureEach=meta.featureEach;module.exports=function(e,r,o){if(r=void 0!==r&&r,o=void 0!==o&&o,!e)throw new Error("<geojson> is required");if("boolean"!=typeof r)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof o)throw new Error("<mutate> must be a boolean");!1!==o&&void 0!==o||(e=JSON.parse(JSON.stringify(e)));var n=[];switch(e.type){case"GeometryCollection":return geomEach(e,function(e){rewind(e,r)}),e;case"FeatureCollection":return featureEach(e,function(e){featureEach(rewind(e,r),function(e){n.push(e)})}),featureCollection(n)}return rewind(e,r)};

},{"@turf/boolean-clockwise":10,"@turf/helpers":46,"@turf/invariant":52,"@turf/meta":77}],91:[function(require,module,exports){
var getCoord=require("@turf/invariant").getCoord,GeodesyLatLon=require("geodesy").LatLonSpherical;module.exports=function(r,e,o){if(!r)throw new Error("start point is required");if(!e)throw new Error("end point is required");var t,n=getCoord(r),i=getCoord(e),a=new GeodesyLatLon(n[1],n[0]),d=new GeodesyLatLon(i[1],i[0]);return t=o?d.rhumbBearingTo(a):a.rhumbBearingTo(d),t>180?-(360-t):t};

},{"@turf/invariant":52,"geodesy":135}],92:[function(require,module,exports){
var helpers=require("@turf/helpers"),getCoord=require("@turf/invariant").getCoord,GeodesyLatLon=require("geodesy").LatLonSpherical,point=helpers.point,radiansToDistance=helpers.radiansToDistance,distanceToRadians=helpers.distanceToRadians;module.exports=function(e,r,i,n){if(!e)throw new Error("origin is required");if(void 0===r||null===r)throw new Error("distance is required");if(void 0===i||null===i)throw new Error("bearing is required");if(!(r>=0))throw new Error("distance must be greater than 0");n=n||"kilometers";var o=radiansToDistance(distanceToRadians(r,n),"meters"),t=getCoord(e),a=new GeodesyLatLon(t[1],t[0]),s=a.rhumbDestinationPoint(o,i);return s.lon+=s.lon-t[0]>180?-360:t[0]-s.lon>180?360:0,point([s.lon,s.lat])};

},{"@turf/helpers":46,"@turf/invariant":52,"geodesy":135}],93:[function(require,module,exports){
var helpers=require("@turf/helpers"),getCoord=require("@turf/invariant").getCoord,GeodesyLatLon=require("geodesy").LatLonSpherical,radiansToDistance=helpers.radiansToDistance,distanceToRadians=helpers.distanceToRadians;module.exports=function(e,r,o){if(!e)throw new Error("from point is required");if(!r)throw new Error("to point is required");o=o||"kilometers";var a=getCoord(e),i=getCoord(r),n=new GeodesyLatLon(a[1],a[0]),t=new GeodesyLatLon(i[1],i[0]);t[0]+=t[0]-n[0]>180?-360:n[0]-t[0]>180?360:0;var s=n.rhumbDistanceTo(t);return radiansToDistance(distanceToRadians(s,"meters"),o)};

},{"@turf/helpers":46,"@turf/invariant":52,"geodesy":135}],94:[function(require,module,exports){
function getRandomSubarray(e,r){for(var t,o,a=e.slice(0),n=e.length,u=n-r;n-- >u;)o=Math.floor((n+1)*Math.random()),t=a[o],a[o]=a[n],a[n]=t;return a.slice(u)}var featureCollection=require("@turf/helpers").featureCollection;module.exports=function(e,r){return featureCollection(getRandomSubarray(e.features,r))};

},{"@turf/helpers":46}],95:[function(require,module,exports){
function convertAngleTo360(r){var e=r%360;return e<0&&(e+=360),e}var circle=require("@turf/circle"),coordEach=require("@turf/meta").coordEach,helpers=require("@turf/helpers"),getCoords=require("@turf/invariant").getCoords,polygon=helpers.polygon,lineArc=require("@turf/line-arc");module.exports=function(r,e,o,i,n,u){if(!r)throw new Error("center is required");if(void 0===o||null===o)throw new Error("bearing1 is required");if(void 0===i||null===i)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if(n=n||64,convertAngleTo360(o)===convertAngleTo360(i))return circle(r,e,n,u);var t=getCoords(r),c=lineArc(r,e,o,i,n,u),l=[[t]];return coordEach(c,function(r){l[0].push(r)}),l[0].push(t),polygon(l)};

},{"@turf/circle":26,"@turf/helpers":46,"@turf/invariant":52,"@turf/line-arc":64,"@turf/meta":77}],96:[function(require,module,exports){
function simplify(n,i,r){var e=n.type;if("Point"===e||"MultiPoint"===e)return n;cleanCoords(n,!0);var o=n.coordinates;switch(e){case"LineString":n.coordinates=simplifyLine(o,i,r);break;case"MultiLineString":n.coordinates=o.map(function(n){return simplifyLine(n,i,r)});break;case"Polygon":n.coordinates=simplifyPolygon(o,i,r);break;case"MultiPolygon":n.coordinates=o.map(function(n){return simplifyPolygon(n,i,r)})}return n}function simplifyLine(n,i,r){return simplifyJS(n.map(function(n){return{x:n[0],y:n[1],z:n[2]}}),i,r).map(function(n){return n.z?[n.x,n.y,n.z]:[n.x,n.y]})}function simplifyPolygon(n,i,r){return n.map(function(n){var e=n.map(function(n){return{x:n[0],y:n[1]}});if(e.length<4)throw new Error("invalid polygon");for(var o=simplifyJS(e,i,r).map(function(n){return[n.x,n.y]});!checkValidity(o);)i-=.01*i,o=simplifyJS(e,i,r).map(function(n){return[n.x,n.y]});return o[o.length-1][0]===o[0][0]&&o[o.length-1][1]===o[0][1]||o.push(o[0]),o})}function checkValidity(n){return!(n.length<3)&&!(3===n.length&&n[2][0]===n[0][0]&&n[2][1]===n[0][1])}var simplifyJS=require("simplify-js"),cleanCoords=require("@turf/clean-coords"),geomEach=require("@turf/meta").geomEach,clone=require("@turf/clone");module.exports=function(n,i,r,e){if(!n)throw new Error("geojson is required");if(i&&i<0)throw new Error("invalid tolerance");return!0!==e&&(n=clone(n)),geomEach(n,function(n){simplify(n,i,r)}),n};

},{"@turf/clean-coords":27,"@turf/clone":28,"@turf/meta":77,"simplify-js":177}],97:[function(require,module,exports){
var distance=require("@turf/distance"),turfBBox=require("@turf/bbox"),helpers=require("@turf/helpers"),point=helpers.point,polygon=helpers.polygon,featureCollection=helpers.featureCollection;module.exports=function(r,e,o,t){var i=[];if(!r)throw new Error("bbox is required");if(Array.isArray(r)||(r=turfBBox(r)),4!==r.length)throw new Error("bbox must contain 4 numbers");var n=r[0],a=r[1],l=r[2],u=r[3],p=distance(point([n,a]),point([l,a]),o),s=distance(point([n,a]),point([n,u]),o),f=Math.ceil(p/e),c=Math.ceil(s/e),h=e/p,b=h*(l-n);!0===t&&(b*=p/e/f);var v=e/s,d=v*(u-a);!0===t&&(d*=s/e/c);for(var x=n,y=0;y<f;y++){for(var g=a,q=0;q<c;q++){var w=polygon([[[x,g],[x,g+d],[x+b,g+d],[x+b,g],[x,g]]]);i.push(w),g+=d}x+=b}return featureCollection(i)};

},{"@turf/bbox":6,"@turf/distance":39,"@turf/helpers":46}],98:[function(require,module,exports){
var distance=require("@turf/distance");module.exports=function(e){var r=e[0],i=e[1],t=e[2],a=e[3];if(distance(e.slice(0,2),[t,i])>=distance(e.slice(0,2),[r,a])){var n=(i+a)/2;return[r,n-(t-r)/2,t,n+(t-r)/2]}var c=(r+t)/2;return[c-(a-i)/2,i,c+(a-i)/2,a]};

},{"@turf/distance":39}],99:[function(require,module,exports){
var inside=require("@turf/inside");module.exports=function(r,e,i,s){return r=JSON.parse(JSON.stringify(r)),e=JSON.parse(JSON.stringify(e)),r.features.forEach(function(r){r.properties||(r.properties={}),e.features.forEach(function(e){if(void 0===r.properties[s]){inside(r,e)&&(r.properties[s]=e.properties[i])}})}),r};

},{"@turf/inside":49}],100:[function(require,module,exports){
function processPolygon(e){var o=flattenCoords(e),r=earcut(o.vertices,o.holes,2),t=[],n=[];r.forEach(function(e,t){var s=r[t];n.push([o.vertices[2*s],o.vertices[2*s+1]])});for(var s=0;s<n.length;s+=3){var u=n.slice(s,s+3);u.push(n[s]),t.push(polygon([u]))}return t}function flattenCoords(e){for(var o=e[0][0].length,r={vertices:[],holes:[],dimensions:o},t=0,n=0;n<e.length;n++){for(var s=0;s<e[n].length;s++)for(var u=0;u<o;u++)r.vertices.push(e[n][s][u]);n>0&&(t+=e[n-1].length,r.holes.push(t))}return r}var polygon=require("@turf/helpers").polygon,earcut=require("earcut");module.exports=function(e){if(!e.geometry||"Polygon"!==e.geometry.type&&"MultiPolygon"!==e.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var o={type:"FeatureCollection",features:[]};return"Polygon"===e.geometry.type?o.features=processPolygon(e.geometry.coordinates):e.geometry.coordinates.forEach(function(e){o.features=o.features.concat(processPolygon(e))}),o};

},{"@turf/helpers":46,"earcut":128}],101:[function(require,module,exports){
function Triangle(e,t,r){this.a=e,this.b=t,this.c=r;var n,o,i=t.x-e.x,l=t.y-e.y,y=r.x-e.x,a=r.y-e.y,s=i*(e.x+t.x)+l*(e.y+t.y),u=y*(e.x+r.x)+a*(e.y+r.y),c=2*(i*(r.y-t.y)-l*(r.x-t.x));this.x=(a*s-l*u)/c,this.y=(i*u-y*s)/c,n=this.x-e.x,o=this.y-e.y,this.r=n*n+o*o}function byX(e,t){return t.x-e.x}function dedup(e){var t,r,n,o,i,l=e.length;e:for(;l;)for(r=e[--l],t=e[--l],n=l;n;)if(i=e[--n],o=e[--n],t===o&&r===i||t===i&&r===o){e.splice(l,2),e.splice(n,2),l-=2;continue e}}function triangulate(e){if(e.length<3)return[];e.sort(byX);for(var t,r,n,o,i,l,y=e.length-1,a=e[y].x,s=e[0].x,u=e[y].y,c=u;y--;)e[y].y<u&&(u=e[y].y),e[y].y>c&&(c=e[y].y);var p,x=s-a,h=c-u,f=x>h?x:h,g=.5*(s+a),b=.5*(c+u),_=[new Triangle({x:g-20*f,y:b-f,__sentinel:!0},{x:g,y:b+20*f,__sentinel:!0},{x:g+20*f,y:b-f,__sentinel:!0})],d=[],m=[];for(y=e.length;y--;){for(m.length=0,p=_.length;p--;)x=e[y].x-_[p].x,x>0&&x*x>_[p].r?(d.push(_[p]),_.splice(p,1)):(h=e[y].y-_[p].y,x*x+h*h>_[p].r||(m.push(_[p].a,_[p].b,_[p].b,_[p].c,_[p].c,_[p].a),_.splice(p,1)));for(dedup(m),p=m.length;p;)r=m[--p],t=m[--p],n=e[y],o=r.x-t.x,i=r.y-t.y,l=2*(o*(n.y-r.y)-i*(n.x-r.x)),Math.abs(l)>1e-12&&_.push(new Triangle(t,r,n))}for(Array.prototype.push.apply(d,_),y=d.length;y--;)(d[y].a.__sentinel||d[y].b.__sentinel||d[y].c.__sentinel)&&d.splice(y,1);return d}var helpers=require("@turf/helpers"),polygon=helpers.polygon,featurecollection=helpers.featureCollection;module.exports=function(e,t){if("FeatureCollection"!==e.type)throw new Error("points must be a FeatureCollection");var r=!1;return featurecollection(triangulate(e.features.map(function(e){var n={x:e.geometry.coordinates[0],y:e.geometry.coordinates[1]};return t?n.z=e.properties[t]:3===e.geometry.coordinates.length&&(r=!0,n.z=e.geometry.coordinates[2]),n})).map(function(e){var t=[e.a.x,e.a.y],n=[e.b.x,e.b.y],o=[e.c.x,e.c.y],i={};return r?(t.push(e.a.z),n.push(e.b.z),o.push(e.c.z)):i={a:e.a.z,b:e.b.z,c:e.c.z},polygon([[t,n,o,t]],i)}))};

},{"@turf/helpers":46}],102:[function(require,module,exports){
var meta=require("@turf/meta"),centroid=require("@turf/centroid"),invariant=require("@turf/invariant"),rhumbBearing=require("@turf/rhumb-bearing"),rhumbDistance=require("@turf/rhumb-distance"),rhumbDestination=require("@turf/rhumb-destination"),coordEach=meta.coordEach,getCoords=invariant.getCoords;module.exports=function(r,e,i,t){if(!r)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("angle is required");return 0===e?r:(i||(i=centroid(r)),!1!==t&&void 0!==t||(r=JSON.parse(JSON.stringify(r))),coordEach(r,function(r){var t=rhumbBearing(i,r),n=t+e,o=rhumbDistance(i,r),u=getCoords(rhumbDestination(i,o,n));r[0]=u[0],r[1]=u[1]}),r)};

},{"@turf/centroid":25,"@turf/invariant":52,"@turf/meta":77,"@turf/rhumb-bearing":91,"@turf/rhumb-destination":92,"@turf/rhumb-distance":93}],103:[function(require,module,exports){
function scale(e,r,t){var o="Point"===getGeomType(e);return t=defineOrigin(e,t),1===r||o?e:(coordEach(e,function(e){var o=rhumbDistance(t,e),n=rhumbBearing(t,e),a=o*r,i=getCoords(rhumbDestination(t,a,n));e[0]=i[0],e[1]=i[1],3===e.length&&(e[2]*=r)}),e)}function defineOrigin(e,r){if(void 0!==r&&null!==r||(r="centroid"),Array.isArray(r)||"object"==typeof r)return getCoord(r);var t=e.bbox?e.bbox:turfBBox(e),o=t[0],n=t[1],a=t[2],i=t[3];switch(r){case"sw":case"southwest":case"westsouth":case"bottomleft":return point([o,n]);case"se":case"southeast":case"eastsouth":case"bottomright":return point([a,n]);case"nw":case"northwest":case"westnorth":case"topleft":return point([o,i]);case"ne":case"northeast":case"eastnorth":case"topright":return point([a,i]);case"center":return center(e);case void 0:case null:case"centroid":return centroid(e);default:throw new Error("invalid origin")}}var meta=require("@turf/meta"),clone=require("@turf/clone"),center=require("@turf/center"),helpers=require("@turf/helpers"),centroid=require("@turf/centroid"),turfBBox=require("@turf/bbox"),invariant=require("@turf/invariant"),rhumbBearing=require("@turf/rhumb-bearing"),rhumbDistance=require("@turf/rhumb-distance"),rhumbDestination=require("@turf/rhumb-destination"),point=helpers.point,coordEach=meta.coordEach,featureEach=meta.featureEach,getCoord=invariant.getCoord,getCoords=invariant.getCoords,getGeomType=invariant.getGeomType;module.exports=function(e,r,t,o){if(!e)throw new Error("geojson required");if("number"!=typeof r||0===r)throw new Error("invalid factor");var n=Array.isArray(t)||"object"==typeof t;return!0!==o&&(e=clone(e)),"FeatureCollection"!==e.type||n?scale(e,r,t):(featureEach(e,function(o,n){e.features[n]=scale(o,r,t)}),e)};

},{"@turf/bbox":6,"@turf/center":24,"@turf/centroid":25,"@turf/clone":28,"@turf/helpers":46,"@turf/invariant":52,"@turf/meta":77,"@turf/rhumb-bearing":91,"@turf/rhumb-destination":92,"@turf/rhumb-distance":93}],104:[function(require,module,exports){
var meta=require("@turf/meta"),invariant=require("@turf/invariant"),rhumbDestination=require("@turf/rhumb-destination"),coordEach=meta.coordEach,getCoords=invariant.getCoords;module.exports=function(r,i,e,o,n,t){if(!r)throw new Error("geojson is required");if(void 0===i||null===i||isNaN(i))throw new Error("distance is required");if(n&&"number"!=typeof n&&isNaN(n))throw new Error("zTranslation is not a number");if(n=void 0!==n?n:0,0===i&&0===n)return r;if(void 0===e||null===e||isNaN(e))throw new Error("direction is required");return i<0&&(i=-i,e=-e),!1!==t&&void 0!==t||(r=JSON.parse(JSON.stringify(r))),coordEach(r,function(r){var t=getCoords(rhumbDestination(r,i,e,o));r[0]=t[0],r[1]=t[1],n&&3===r.length&&(r[2]+=n)}),r};

},{"@turf/invariant":52,"@turf/meta":77,"@turf/rhumb-destination":92}],105:[function(require,module,exports){
var distance=require("@turf/distance"),helpers=require("@turf/helpers"),polygon=helpers.polygon,featureCollection=helpers.featureCollection;module.exports=function(e,o,r){for(var l=featureCollection([]),n=o/distance([e[0],e[1]],[e[2],e[1]],r),p=n*(e[2]-e[0]),t=o/distance([e[0],e[1]],[e[0],e[3]],r),u=t*(e[3]-e[1]),s=0,a=e[0];a<=e[2];){for(var f=0,g=e[1];g<=e[3];)s%2==0&&f%2==0?l.features.push(polygon([[[a,g],[a,g+u],[a+p,g],[a,g]]]),polygon([[[a,g+u],[a+p,g+u],[a+p,g],[a,g+u]]])):s%2==0&&f%2==1?l.features.push(polygon([[[a,g],[a+p,g+u],[a+p,g],[a,g]]]),polygon([[[a,g],[a,g+u],[a+p,g+u],[a,g]]])):f%2==0&&s%2==1?l.features.push(polygon([[[a,g],[a,g+u],[a+p,g+u],[a,g]]]),polygon([[[a,g],[a+p,g+u],[a+p,g],[a,g]]])):f%2==1&&s%2==1&&l.features.push(polygon([[[a,g],[a,g+u],[a+p,g],[a,g]]]),polygon([[[a,g+u],[a+p,g+u],[a+p,g],[a,g+u]]])),g+=u,f++;s++,a+=p}return l};

},{"@turf/distance":39,"@turf/helpers":46}],106:[function(require,module,exports){
function truncate(r,e,o){r.length>o&&r.splice(o,r.length);for(var n=0;n<r.length;n++)r[n]=Math.round(r[n]*e)/e;return r}var coordEach=require("@turf/meta").coordEach;module.exports=function(r,e,o,n){if(e=void 0===e||null===e||isNaN(e)?6:e,o=void 0===o||null===o||isNaN(o)?3:o,!r)throw new Error("<geojson> is required");if("number"!=typeof e)throw new Error("<precision> must be a number");if("number"!=typeof o)throw new Error("<coordinates> must be a number");!1!==n&&void 0!==n||(r=JSON.parse(JSON.stringify(r)));var t=Math.pow(10,e);return coordEach(r,function(r){truncate(r,t,o)}),r};

},{"@turf/meta":77}],107:[function(require,module,exports){
var jsts=require("jsts");module.exports=function(){for(var e=new jsts.io.GeoJSONReader,r=e.read(JSON.stringify(arguments[0].geometry)),t=1;t<arguments.length;t++)r=r.union(e.read(JSON.stringify(arguments[t].geometry)));return r=(new jsts.io.GeoJSONWriter).write(r),{type:"Feature",geometry:r,properties:arguments[0].properties}};

},{"jsts":152}],108:[function(require,module,exports){
var meta=require("@turf/meta"),helpers=require("@turf/helpers"),simplepolygon=require("simplepolygon"),flattenEach=meta.flattenEach,featureEach=meta.featureEach,polygon=helpers.polygon,featureCollection=helpers.featureCollection;module.exports=function(e){var t=[];return flattenEach(e,function(e){"Polygon"===e.geometry.type&&featureEach(simplepolygon(e),function(o){t.push(polygon(o.geometry.coordinates,e.properties))})}),featureCollection(t)};

},{"@turf/helpers":46,"@turf/meta":77,"simplepolygon":172}],109:[function(require,module,exports){
var inside=require("@turf/inside"),featureCollection=require("@turf/helpers").featureCollection;module.exports=function(e,r){for(var t=featureCollection([]),u=0;u<r.features.length;u++)for(var f=0;f<e.features.length;f++){var a=inside(e.features[f],r.features[u]);a&&t.features.push(e.features[f])}return t};

},{"@turf/helpers":46,"@turf/inside":49}],110:[function(require,module,exports){
"use strict";function linearlyIndependent(r,e){for(var n=new Array(e+1),t=0;t<r.length;++t)n[t]=r[t];for(var t=0;t<=r.length;++t){for(var i=r.length;i<=e;++i){for(var l=new Array(e),o=0;o<e;++o)l[o]=Math.pow(i+1-t,o);n[i]=l}if(orient.apply(void 0,n))return!0}return!1}function affineHull(r){var e=r.length;if(0===e)return[];if(1===e)return[0];for(var n=r[0].length,t=[r[0]],i=[0],l=1;l<e;++l)if(t.push(r[l]),linearlyIndependent(t,n)){if(i.push(l),i.length===n+1)return i}else t.pop();return i}module.exports=affineHull;var orient=require("robust-orientation");

},{"robust-orientation":168}],111:[function(require,module,exports){
"use strict";"use restrict";function countTrailingZeros(r){var n=32;return r&=-r,r&&n--,65535&r&&(n-=16),16711935&r&&(n-=8),252645135&r&&(n-=4),858993459&r&&(n-=2),1431655765&r&&(n-=1),n}var INT_BITS=32;exports.INT_BITS=INT_BITS,exports.INT_MAX=2147483647,exports.INT_MIN=-1<<INT_BITS-1,exports.sign=function(r){return(r>0)-(r<0)},exports.abs=function(r){var n=r>>INT_BITS-1;return(r^n)-n},exports.min=function(r,n){return n^(r^n)&-(r<n)},exports.max=function(r,n){return r^(r^n)&-(r<n)},exports.isPow2=function(r){return!(r&r-1||!r)},exports.log2=function(r){var n,t;return n=(r>65535)<<4,r>>>=n,t=(r>255)<<3,r>>>=t,n|=t,t=(r>15)<<2,r>>>=t,n|=t,t=(r>3)<<1,r>>>=t,(n|=t)|r>>1},exports.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},exports.popCount=function(r){return r-=r>>>1&1431655765,16843009*((r=(858993459&r)+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},exports.countTrailingZeros=countTrailingZeros,exports.nextPow2=function(r){return r+=0===r,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)+1},exports.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},exports.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var REVERSE_TABLE=new Array(256);!function(r){for(var n=0;n<256;++n){var t=n,e=n,o=7;for(t>>>=1;t;t>>>=1)e<<=1,e|=1&t,--o;r[n]=e<<o&255}}(REVERSE_TABLE),exports.reverse=function(r){return REVERSE_TABLE[255&r]<<24|REVERSE_TABLE[r>>>8&255]<<16|REVERSE_TABLE[r>>>16&255]<<8|REVERSE_TABLE[r>>>24&255]},exports.interleave2=function(r,n){return r&=65535,r=16711935&(r|r<<8),r=252645135&(r|r<<4),r=858993459&(r|r<<2),r=1431655765&(r|r<<1),n&=65535,n=16711935&(n|n<<8),n=252645135&(n|n<<4),n=858993459&(n|n<<2),n=1431655765&(n|n<<1),r|n<<1},exports.deinterleave2=function(r,n){return r=r>>>n&1431655765,r=858993459&(r|r>>>1),r=252645135&(r|r>>>2),r=16711935&(r|r>>>4),(r=65535&(r|r>>>16))<<16>>16},exports.interleave3=function(r,n,t){return r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),r|=n<<1,t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),r|t<<2},exports.deinterleave3=function(r,n){return r=r>>>n&1227133513,r=3272356035&(r|r>>>2),r=251719695&(r|r>>>4),r=4278190335&(r|r>>>8),(r=1023&(r|r>>>16))<<22>>22},exports.nextCombination=function(r){var n=r|r-1;return n+1|(~n&-~n)-1>>>countTrailingZeros(r)+1};

},{}],112:[function(require,module,exports){
"use strict";function convexHull(e){var l=e.length;if(0===l)return[];if(1===l)return[[0]];var n=e[0].length;return 0===n?[]:1===n?convexHull1d(e):2===n?convexHull2d(e):convexHullnd(e,n)}var convexHull1d=require("./lib/ch1d"),convexHull2d=require("./lib/ch2d"),convexHullnd=require("./lib/chnd");module.exports=convexHull;

},{"./lib/ch1d":113,"./lib/ch2d":114,"./lib/chnd":115}],113:[function(require,module,exports){
"use strict";function convexHull1d(e){for(var l=0,n=0,o=1;o<e.length;++o)e[o][0]<e[l][0]&&(l=o),e[o][0]>e[n][0]&&(n=o);return l<n?[[l],[n]]:l>n?[[n],[l]]:[[l]]}module.exports=convexHull1d;

},{}],114:[function(require,module,exports){
"use strict";function convexHull2D(o){var e=monotoneHull(o),n=e.length;if(n<=2)return[];for(var r=new Array(n),l=e[n-1],u=0;u<n;++u){var t=e[u];r[u]=[l,t],l=t}return r}module.exports=convexHull2D;var monotoneHull=require("monotone-convex-hull-2d");

},{"monotone-convex-hull-2d":157}],115:[function(require,module,exports){
"use strict";function permute(r,e){for(var n=r.length,t=new Array(n),u=0;u<e.length;++u)t[u]=r[e[u]];for(var l=e.length,u=0;u<n;++u)e.indexOf(u)<0&&(t[l++]=r[u]);return t}function invPermute(r,e){for(var n=r.length,t=e.length,u=0;u<n;++u)for(var l=r[u],f=0;f<l.length;++f){var i=l[f];if(i<t)l[f]=e[i];else{i-=t;for(var a=0;a<t;++a)i>=e[a]&&(i+=1);l[f]=i}}return r}function convexHullnD(r,e){try{return ich(r,!0)}catch(l){var n=aff(r);if(n.length<=e)return[];var t=permute(r,n),u=ich(t,!0);return invPermute(u,n)}}module.exports=convexHullnD;var ich=require("incremental-convex-hull"),aff=require("affine-hull");

},{"affine-hull":110,"incremental-convex-hull":151}],116:[function(require,module,exports){
!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(n.d3=n.d3||{})}(this,function(n){"use strict";function r(n){return function(r,t){return f(n(r),t)}}function t(n,r){return[n,r]}function e(n,r,t){var e=(r-n)/Math.max(0,t),o=Math.floor(Math.log(e)/Math.LN10),u=e/Math.pow(10,o);return o>=0?(u>=b?10:u>=q?5:u>=L?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(u>=b?10:u>=q?5:u>=L?2:1)}function o(n,r,t){var e=Math.abs(r-n)/Math.max(0,t),o=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),u=e/o;return u>=b?o*=10:u>=q?o*=5:u>=L&&(o*=2),r<n?-o:o}function u(n){return n.length}var f=function(n,r){return n<r?-1:n>r?1:n>=r?0:NaN},l=function(n){return 1===n.length&&(n=r(n)),{left:function(r,t,e,o){for(null==e&&(e=0),null==o&&(o=r.length);e<o;){var u=e+o>>>1;n(r[u],t)<0?e=u+1:o=u}return e},right:function(r,t,e,o){for(null==e&&(e=0),null==o&&(o=r.length);e<o;){var u=e+o>>>1;n(r[u],t)>0?o=u:e=u+1}return e}}},i=l(f),a=i.right,h=i.left,c=function(n,r){null==r&&(r=t);for(var e=0,o=n.length-1,u=n[0],f=new Array(o<0?0:o);e<o;)f[e]=r(u,u=n[++e]);return f},s=function(n,r,e){var o,u,f,l,i=n.length,a=r.length,h=new Array(i*a);for(null==e&&(e=t),o=f=0;o<i;++o)for(l=n[o],u=0;u<a;++u,++f)h[f]=e(l,r[u]);return h},g=function(n,r){return r<n?-1:r>n?1:r>=n?0:NaN},M=function(n){return null===n?NaN:+n},v=function(n,r){var t,e,o=n.length,u=0,f=-1,l=0,i=0;if(null==r)for(;++f<o;)isNaN(t=M(n[f]))||(e=t-l,l+=e/++u,i+=e*(t-l));else for(;++f<o;)isNaN(t=M(r(n[f],f,n)))||(e=t-l,l+=e/++u,i+=e*(t-l));if(u>1)return i/(u-1)},p=function(n,r){var t=v(n,r);return t?Math.sqrt(t):t},d=function(n,r){var t,e,o,u=n.length,f=-1;if(null==r){for(;++f<u;)if(null!=(t=n[f])&&t>=t)for(e=o=t;++f<u;)null!=(t=n[f])&&(e>t&&(e=t),o<t&&(o=t))}else for(;++f<u;)if(null!=(t=r(n[f],f,n))&&t>=t)for(e=o=t;++f<u;)null!=(t=r(n[f],f,n))&&(e>t&&(e=t),o<t&&(o=t));return[e,o]},y=Array.prototype,N=y.slice,m=y.map,w=function(n){return function(){return n}},A=function(n){return n},x=function(n,r,t){n=+n,r=+r,t=(o=arguments.length)<2?(r=n,n=0,1):o<3?1:+t;for(var e=-1,o=0|Math.max(0,Math.ceil((r-n)/t)),u=new Array(o);++e<o;)u[e]=n+e*t;return u},b=Math.sqrt(50),q=Math.sqrt(10),L=Math.sqrt(2),k=function(n,r,t){var o,u,f,l,i=-1;if(r=+r,n=+n,t=+t,n===r&&t>0)return[n];if((o=r<n)&&(u=n,n=r,r=u),0===(l=e(n,r,t))||!isFinite(l))return[];if(l>0)for(n=Math.ceil(n/l),r=Math.floor(r/l),f=new Array(u=Math.ceil(r-n+1));++i<u;)f[i]=(n+i)*l;else for(n=Math.floor(n*l),r=Math.ceil(r*l),f=new Array(u=Math.ceil(n-r+1));++i<u;)f[i]=(n-i)/l;return o&&f.reverse(),f},S=function(n){return Math.ceil(Math.log(n.length)/Math.LN2)+1},j=function(){function n(n){var u,f,l=n.length,i=new Array(l);for(u=0;u<l;++u)i[u]=r(n[u],u,n);var h=t(i),c=h[0],s=h[1],g=e(i,c,s);Array.isArray(g)||(g=o(c,s,g),g=x(Math.ceil(c/g)*g,Math.floor(s/g)*g,g));for(var M=g.length;g[0]<=c;)g.shift(),--M;for(;g[M-1]>s;)g.pop(),--M;var v,p=new Array(M+1);for(u=0;u<=M;++u)v=p[u]=[],v.x0=u>0?g[u-1]:c,v.x1=u<M?g[u]:s;for(u=0;u<l;++u)f=i[u],c<=f&&f<=s&&p[a(g,f,0,M)].push(n[u]);return p}var r=A,t=d,e=S;return n.value=function(t){return arguments.length?(r="function"==typeof t?t:w(t),n):r},n.domain=function(r){return arguments.length?(t="function"==typeof r?r:w([r[0],r[1]]),n):t},n.thresholds=function(r){return arguments.length?(e="function"==typeof r?r:w(Array.isArray(r)?N.call(r):r),n):e},n},F=function(n,r,t){if(null==t&&(t=M),e=n.length){if((r=+r)<=0||e<2)return+t(n[0],0,n);if(r>=1)return+t(n[e-1],e-1,n);var e,o=(e-1)*r,u=Math.floor(o),f=+t(n[u],u,n);return f+(+t(n[u+1],u+1,n)-f)*(o-u)}},_=function(n,r,t){return n=m.call(n,M).sort(f),Math.ceil((t-r)/(2*(F(n,.75)-F(n,.25))*Math.pow(n.length,-1/3)))},z=function(n,r,t){return Math.ceil((t-r)/(3.5*p(n)*Math.pow(n.length,-1/3)))},D=function(n,r){var t,e,o=n.length,u=-1;if(null==r){for(;++u<o;)if(null!=(t=n[u])&&t>=t)for(e=t;++u<o;)null!=(t=n[u])&&t>e&&(e=t)}else for(;++u<o;)if(null!=(t=r(n[u],u,n))&&t>=t)for(e=t;++u<o;)null!=(t=r(n[u],u,n))&&t>e&&(e=t);return e},I=function(n,r){var t,e=n.length,o=e,u=-1,f=0;if(null==r)for(;++u<e;)isNaN(t=M(n[u]))?--o:f+=t;else for(;++u<e;)isNaN(t=M(r(n[u],u,n)))?--o:f+=t;if(o)return f/o},O=function(n,r){var t,e=n.length,o=-1,u=[];if(null==r)for(;++o<e;)isNaN(t=M(n[o]))||u.push(t);else for(;++o<e;)isNaN(t=M(r(n[o],o,n)))||u.push(t);return F(u.sort(f),.5)},P=function(n){for(var r,t,e,o=n.length,u=-1,f=0;++u<o;)f+=n[u].length;for(t=new Array(f);--o>=0;)for(e=n[o],r=e.length;--r>=0;)t[--f]=e[r];return t},R=function(n,r){var t,e,o=n.length,u=-1;if(null==r){for(;++u<o;)if(null!=(t=n[u])&&t>=t)for(e=t;++u<o;)null!=(t=n[u])&&e>t&&(e=t)}else for(;++u<o;)if(null!=(t=r(n[u],u,n))&&t>=t)for(e=t;++u<o;)null!=(t=r(n[u],u,n))&&e>t&&(e=t);return e},B=function(n,r){for(var t=r.length,e=new Array(t);t--;)e[t]=n[r[t]];return e},C=function(n,r){if(t=n.length){var t,e,o=0,u=0,l=n[u];for(null==r&&(r=f);++o<t;)(r(e=n[o],l)<0||0!==r(l,l))&&(l=e,u=o);return 0===r(l,l)?u:void 0}},E=function(n,r,t){for(var e,o,u=(null==t?n.length:t)-(r=null==r?0:+r);u;)o=Math.random()*u--|0,e=n[u+r],n[u+r]=n[o+r],n[o+r]=e;return n},G=function(n,r){var t,e=n.length,o=-1,u=0;if(null==r)for(;++o<e;)(t=+n[o])&&(u+=t);else for(;++o<e;)(t=+r(n[o],o,n))&&(u+=t);return u},H=function(n){if(!(o=n.length))return[];for(var r=-1,t=R(n,u),e=new Array(t);++r<t;)for(var o,f=-1,l=e[r]=new Array(o);++f<o;)l[f]=n[f][r];return e},J=function(){return H(arguments)};n.bisect=a,n.bisectRight=a,n.bisectLeft=h,n.ascending=f,n.bisector=l,n.cross=s,n.descending=g,n.deviation=p,n.extent=d,n.histogram=j,n.thresholdFreedmanDiaconis=_,n.thresholdScott=z,n.thresholdSturges=S,n.max=D,n.mean=I,n.median=O,n.merge=P,n.min=R,n.pairs=c,n.permute=B,n.quantile=F,n.range=x,n.scan=C,n.shuffle=E,n.sum=G,n.ticks=k,n.tickIncrement=e,n.tickStep=o,n.transpose=H,n.variance=v,n.zip=J,Object.defineProperty(n,"__esModule",{value:!0})});
},{}],117:[function(require,module,exports){
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("d3-array")):"function"==typeof define&&define.amd?define(["exports","d3-array"],t):t(n.d3=n.d3||{},n.d3)}(this,function(n,t){"use strict";function r(){this.reset()}function i(n,t,r){var i=n.s=t+r,e=i-t,o=i-e;n.t=t-o+(r-e)}function e(n){return n>1?0:n<-1?Xt:Math.acos(n)}function o(n){return n>1?Yt:n<-1?-Yt:Math.asin(n)}function u(n){return(n=er(n/2))*n}function c(){}function a(n,t){n&&lr.hasOwnProperty(n.type)&&lr[n.type](n,t)}function l(n,t,r){var i,e=-1,o=n.length-r;for(t.lineStart();++e<o;)i=n[e],t.point(i[0],i[1],i[2]);t.lineEnd()}function f(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)l(n[r],t,1);t.polygonEnd()}function p(){hr.point=h}function s(){g(pt,st)}function h(n,t){hr.point=g,pt=n,st=t,n*=Kt,t*=Kt,ht=n,gt=$t(t=t/2+Zt),vt=er(t)}function g(n,t){n*=Kt,t*=Kt,t=t/2+Zt;var r=n-ht,i=r>=0?1:-1,e=i*r,o=$t(t),u=er(t),c=vt*u,a=gt*o+c*$t(e),l=c*i*er(e);pr.add(Wt(l,a)),ht=n,gt=o,vt=u}function v(n){return[Wt(n[1],n[0]),o(n[2])]}function d(n){var t=n[0],r=n[1],i=$t(r);return[i*$t(t),i*er(t),er(r)]}function E(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function y(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function S(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function m(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function M(n){var t=ur(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function x(n,t){Nt.push(wt=[dt=n,yt=n]),t<Et&&(Et=t),t>St&&(St=t)}function _(n,t){var r=d([n*Kt,t*Kt]);if(_t){var i=y(_t,r),e=[i[1],-i[0],0],o=y(e,i);M(o),o=v(o);var u,c=n-mt,a=c>0?1:-1,l=o[0]*Jt*a,f=Qt(c)>180;f^(a*mt<l&&l<a*n)?(u=o[1]*Jt)>St&&(St=u):(l=(l+360)%360-180,f^(a*mt<l&&l<a*n)?(u=-o[1]*Jt)<Et&&(Et=u):(t<Et&&(Et=t),t>St&&(St=t))),f?n<mt?A(dt,n)>A(dt,yt)&&(yt=n):A(n,yt)>A(dt,yt)&&(dt=n):yt>=dt?(n<dt&&(dt=n),n>yt&&(yt=n)):n>mt?A(dt,n)>A(dt,yt)&&(yt=n):A(n,yt)>A(dt,yt)&&(dt=n)}else Nt.push(wt=[dt=n,yt=n]);t<Et&&(Et=t),t>St&&(St=t),_t=r,mt=n}function N(){dr.point=_}function w(){wt[0]=dt,wt[1]=yt,dr.point=x,_t=null}function C(n,t){if(_t){var r=n-mt;vr.add(Qt(r)>180?r+(r>0?360:-360):r)}else Mt=n,xt=t;hr.point(n,t),_(n,t)}function P(){hr.lineStart()}function R(){C(Mt,xt),hr.lineEnd(),Qt(vr)>Ut&&(dt=-(yt=180)),wt[0]=dt,wt[1]=yt,_t=null}function A(n,t){return(t-=n)<0?t+360:t}function j(n,t){return n[0]-t[0]}function q(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function z(n,t){n*=Kt,t*=Kt;var r=$t(t);b(r*$t(n),r*er(n),er(t))}function b(n,t,r){++Ct,Rt+=(n-Rt)/Ct,At+=(t-At)/Ct,jt+=(r-jt)/Ct}function L(){yr.point=O}function O(n,t){n*=Kt,t*=Kt;var r=$t(t);Ft=r*$t(n),It=r*er(n),Bt=er(t),yr.point=G,b(Ft,It,Bt)}function G(n,t){n*=Kt,t*=Kt;var r=$t(t),i=r*$t(n),e=r*er(n),o=er(t),u=Wt(ur((u=It*o-Bt*e)*u+(u=Bt*i-Ft*o)*u+(u=Ft*e-It*i)*u),Ft*i+It*e+Bt*o);Pt+=u,qt+=u*(Ft+(Ft=i)),zt+=u*(It+(It=e)),bt+=u*(Bt+(Bt=o)),b(Ft,It,Bt)}function T(){yr.point=z}function k(){yr.point=I}function F(){B(Tt,kt),yr.point=z}function I(n,t){Tt=n,kt=t,n*=Kt,t*=Kt,yr.point=B;var r=$t(t);Ft=r*$t(n),It=r*er(n),Bt=er(t),b(Ft,It,Bt)}function B(n,t){n*=Kt,t*=Kt;var r=$t(t),i=r*$t(n),e=r*er(n),u=er(t),c=It*u-Bt*e,a=Bt*i-Ft*u,l=Ft*e-It*i,f=ur(c*c+a*a+l*l),p=o(f),s=f&&-p/f;Lt+=s*c,Ot+=s*a,Gt+=s*l,Pt+=p,qt+=p*(Ft+(Ft=i)),zt+=p*(It+(It=e)),bt+=p*(Bt+(Bt=u)),b(Ft,It,Bt)}function D(n,t){return[n>Xt?n-Ht:n<-Xt?n+Ht:n,t]}function U(n,t,r){return(n%=Ht)?t||r?Mr(Y(n),Z(t,r)):Y(n):t||r?Z(t,r):D}function X(n){return function(t,r){return t+=n,[t>Xt?t-Ht:t<-Xt?t+Ht:t,r]}}function Y(n){var t=X(n);return t.invert=X(-n),t}function Z(n,t){function r(n,t){var r=$t(t),a=$t(n)*r,l=er(n)*r,f=er(t),p=f*i+a*e;return[Wt(l*u-p*c,a*i-f*e),o(p*u+l*c)]}var i=$t(n),e=er(n),u=$t(t),c=er(t);return r.invert=function(n,t){var r=$t(t),a=$t(n)*r,l=er(n)*r,f=er(t),p=f*u-l*c;return[Wt(l*u+f*c,a*i+p*e),o(p*i-a*e)]},r}function H(n,t,r,i,e,o){if(r){var u=$t(t),c=er(t),a=i*r;null==e?(e=t+i*Ht,o=t-a/2):(e=J(u,e),o=J(u,o),(i>0?e<o:e>o)&&(e+=i*Ht));for(var l,f=e;i>0?f>o:f<o;f-=a)l=v([u,-c*$t(f),-c*er(f)]),n.point(l[0],l[1])}}function J(n,t){t=d(t),t[0]-=n,M(t);var r=e(-t[1]);return((-t[2]<0?-r:r)+Ht-Ut)%Ht}function K(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function Q(n){if(t=n.length){for(var t,r,i=0,e=n[0];++i<t;)e.n=r=n[i],r.p=e,e=r;e.n=r=n[0],r.p=e}}function V(n){return n.length>1}function W(n,t){return((n=n.x)[0]<0?n[1]-Yt-Ut:Yt-n[1])-((t=t.x)[0]<0?t[1]-Yt-Ut:Yt-t[1])}function $(n){var t,r=NaN,i=NaN,e=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(o,u){var c=o>0?Xt:-Xt,a=Qt(o-r);Qt(a-Xt)<Ut?(n.point(r,i=(i+u)/2>0?Yt:-Yt),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(c,i),n.point(o,i),t=0):e!==c&&a>=Xt&&(Qt(r-e)<Ut&&(r-=e*Ut),Qt(o-c)<Ut&&(o-=c*Ut),i=nn(r,i,o,u),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(c,i),t=0),n.point(r=o,i=u),e=c},lineEnd:function(){n.lineEnd(),r=i=NaN},clean:function(){return 2-t}}}function nn(n,t,r,i){var e,o,u=er(n-r);return Qt(u)>Ut?Vt((er(t)*(o=$t(i))*er(r)-er(i)*(e=$t(t))*er(n))/(e*o*u)):(t+i)/2}function tn(n,t,r,i){var e;if(null==n)e=r*Yt,i.point(-Xt,e),i.point(0,e),i.point(Xt,e),i.point(Xt,0),i.point(Xt,-e),i.point(0,-e),i.point(-Xt,-e),i.point(-Xt,0),i.point(-Xt,e);else if(Qt(n[0]-t[0])>Ut){var o=n[0]<t[0]?Xt:-Xt;e=r*o/2,i.point(-o,e),i.point(0,e),i.point(o,e)}else i.point(t[0],t[1])}function rn(n,r,i,e){function o(t,o){return n<=t&&t<=i&&r<=o&&o<=e}function u(t,o,u,a){var f=0,p=0;if(null==t||(f=c(t,u))!==(p=c(o,u))||l(t,o)<0^u>0)do{a.point(0===f||3===f?n:i,f>1?e:r)}while((f=(f+u+4)%4)!==p);else a.point(o[0],o[1])}function c(t,e){return Qt(t[0]-n)<Ut?e>0?0:3:Qt(t[0]-i)<Ut?e>0?2:1:Qt(t[1]-r)<Ut?e>0?1:0:e>0?3:2}function a(n,t){return l(n.x,t.x)}function l(n,t){var r=c(n,1),i=c(t,1);return r!==i?r-i:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}return function(c){function l(n,t){o(n,t)&&P.point(n,t)}function f(){for(var t=0,r=0,i=E.length;r<i;++r)for(var o,u,c=E[r],a=1,l=c.length,f=c[0],p=f[0],s=f[1];a<l;++a)o=p,u=s,f=c[a],p=f[0],s=f[1],u<=e?s>e&&(p-o)*(e-u)>(s-u)*(n-o)&&++t:s<=e&&(p-o)*(e-u)<(s-u)*(n-o)&&--t;return t}function p(){P=R,d=[],E=[],C=!0}function s(){var n=f(),r=C&&n,i=(d=t.merge(d)).length;(r||i)&&(c.polygonStart(),r&&(c.lineStart(),u(null,null,1,c),c.lineEnd()),i&&Tr(d,a,n,u,c),c.polygonEnd()),P=c,d=E=y=null}function h(){A.point=v,E&&E.push(y=[]),w=!0,N=!1,x=_=NaN}function g(){d&&(v(S,m),M&&N&&R.rejoin(),d.push(R.result())),A.point=l,N&&P.lineEnd()}function v(t,u){var c=o(t,u);if(E&&y.push([t,u]),w)S=t,m=u,M=c,w=!1,c&&(P.lineStart(),P.point(t,u));else if(c&&N)P.point(t,u);else{var a=[x=Math.max(Yr,Math.min(Xr,x)),_=Math.max(Yr,Math.min(Xr,_))],l=[t=Math.max(Yr,Math.min(Xr,t)),u=Math.max(Yr,Math.min(Xr,u))];Ur(a,l,n,r,i,e)?(N||(P.lineStart(),P.point(a[0],a[1])),P.point(l[0],l[1]),c||P.lineEnd(),C=!1):c&&(P.lineStart(),P.point(t,u),C=!1)}x=t,_=u,N=c}var d,E,y,S,m,M,x,_,N,w,C,P=c,R=Or(),A={point:l,lineStart:h,lineEnd:g,polygonStart:p,polygonEnd:s};return A}}function en(){Jr.point=un,Jr.lineEnd=on}function on(){Jr.point=Jr.lineEnd=c}function un(n,t){n*=Kt,t*=Kt,xr=n,_r=er(t),Nr=$t(t),Jr.point=cn}function cn(n,t){n*=Kt,t*=Kt;var r=er(t),i=$t(t),e=Qt(n-xr),o=$t(e),u=er(e),c=i*u,a=Nr*r-_r*i*o,l=_r*r+Nr*i*o;Hr.add(Wt(ur(c*c+a*a),l)),xr=n,_r=r,Nr=i}function an(n,t){return!(!n||!ni.hasOwnProperty(n.type))&&ni[n.type](n,t)}function ln(n,t){return 0===Wr(n,t)}function fn(n,t){var r=Wr(n[0],n[1]);return Wr(n[0],t)+Wr(t,n[1])<=r+Ut}function pn(n,t){return!!Fr(n.map(sn),hn(t))}function sn(n){return n=n.map(hn),n.pop(),n}function hn(n){return[n[0]*Kt,n[1]*Kt]}function gn(n,r,i){var e=t.range(n,r-Ut,i).concat(r);return function(n){return e.map(function(t){return[n,t]})}}function vn(n,r,i){var e=t.range(n,r-Ut,i).concat(r);return function(n){return e.map(function(t){return[t,n]})}}function dn(){function n(){return{type:"MultiLineString",coordinates:r()}}function r(){return t.range(nr(u/E)*E,o,E).map(h).concat(t.range(nr(f/y)*y,l,y).map(g)).concat(t.range(nr(e/v)*v,i,v).filter(function(n){return Qt(n%E)>Ut}).map(p)).concat(t.range(nr(a/d)*d,c,d).filter(function(n){return Qt(n%y)>Ut}).map(s))}var i,e,o,u,c,a,l,f,p,s,h,g,v=10,d=v,E=90,y=360,S=2.5;return n.lines=function(){return r().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(u).concat(g(l).slice(1),h(o).reverse().slice(1),g(f).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.extentMajor(t).extentMinor(t):n.extentMinor()},n.extentMajor=function(t){return arguments.length?(u=+t[0][0],o=+t[1][0],f=+t[0][1],l=+t[1][1],u>o&&(t=u,u=o,o=t),f>l&&(t=f,f=l,l=t),n.precision(S)):[[u,f],[o,l]]},n.extentMinor=function(t){return arguments.length?(e=+t[0][0],i=+t[1][0],a=+t[0][1],c=+t[1][1],e>i&&(t=e,e=i,i=t),a>c&&(t=a,a=c,c=t),n.precision(S)):[[e,a],[i,c]]},n.step=function(t){return arguments.length?n.stepMajor(t).stepMinor(t):n.stepMinor()},n.stepMajor=function(t){return arguments.length?(E=+t[0],y=+t[1],n):[E,y]},n.stepMinor=function(t){return arguments.length?(v=+t[0],d=+t[1],n):[v,d]},n.precision=function(t){return arguments.length?(S=+t,p=gn(a,c,90),s=vn(e,i,S),h=gn(f,l,90),g=vn(u,o,S),n):S},n.extentMajor([[-180,-90+Ut],[180,90-Ut]]).extentMinor([[-180,-80-Ut],[180,80+Ut]])}function En(){return dn()()}function yn(){ui.point=Sn}function Sn(n,t){ui.point=mn,wr=Pr=n,Cr=Rr=t}function mn(n,t){oi.add(Rr*n-Pr*t),Pr=n,Rr=t}function Mn(){mn(wr,Cr)}function xn(n,t){n<ci&&(ci=n),n>li&&(li=n),t<ai&&(ai=t),t>fi&&(fi=t)}function _n(n,t){si+=n,hi+=t,++gi}function Nn(){Mi.point=wn}function wn(n,t){Mi.point=Cn,_n(qr=n,zr=t)}function Cn(n,t){var r=n-qr,i=t-zr,e=ur(r*r+i*i);vi+=e*(qr+n)/2,di+=e*(zr+t)/2,Ei+=e,_n(qr=n,zr=t)}function Pn(){Mi.point=_n}function Rn(){Mi.point=jn}function An(){qn(Ar,jr)}function jn(n,t){Mi.point=qn,_n(Ar=qr=n,jr=zr=t)}function qn(n,t){var r=n-qr,i=t-zr,e=ur(r*r+i*i);vi+=e*(qr+n)/2,di+=e*(zr+t)/2,Ei+=e,e=zr*n-qr*t,yi+=e*(qr+n),Si+=e*(zr+t),mi+=3*e,_n(qr=n,zr=t)}function zn(n){this._context=n}function bn(n,t){Ri.point=Ln,_i=wi=n,Ni=Ci=t}function Ln(n,t){wi-=n,Ci-=t,Pi.add(ur(wi*wi+Ci*Ci)),wi=n,Ci=t}function On(){this._string=[]}function Gn(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Tn(n){return function(t){var r=new kn;for(var i in n)r[i]=n[i];return r.stream=t,r}}function kn(){}function Fn(n,t,r){var i=t[1][0]-t[0][0],e=t[1][1]-t[0][1],o=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=o&&n.clipExtent(null),fr(r,n.stream(pi));var u=pi.result(),c=Math.min(i/(u[1][0]-u[0][0]),e/(u[1][1]-u[0][1])),a=+t[0][0]+(i-c*(u[1][0]+u[0][0]))/2,l=+t[0][1]+(e-c*(u[1][1]+u[0][1]))/2;return null!=o&&n.clipExtent(o),n.scale(150*c).translate([a,l])}function In(n,t,r){return Fn(n,[[0,0],t],r)}function Bn(n){return Tn({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function Dn(n,t){function r(i,e,u,c,a,l,f,p,s,h,g,v,d,E){var y=f-i,S=p-e,m=y*y+S*S;if(m>4*t&&d--){var M=c+h,x=a+g,_=l+v,N=ur(M*M+x*x+_*_),w=o(_/=N),C=Qt(Qt(_)-1)<Ut||Qt(u-s)<Ut?(u+s)/2:Wt(x,M),P=n(C,w),R=P[0],A=P[1],j=R-i,q=A-e,z=S*j-y*q;(z*z/m>t||Qt((y*j+S*q)/m-.5)>.3||c*h+a*g+l*v<zi)&&(r(i,e,u,c,a,l,R,A,C,M/=N,x/=N,_,d,E),E.point(R,A),r(R,A,C,M,x,_,f,p,s,h,g,v,d,E))}}return function(t){function i(r,i){r=n(r,i),t.point(r[0],r[1])}function e(){y=NaN,_.point=o,t.lineStart()}function o(i,e){var o=d([i,e]),u=n(i,e);r(y,S,E,m,M,x,y=u[0],S=u[1],E=i,m=o[0],M=o[1],x=o[2],qi,t),t.point(y,S)}function u(){_.point=i,t.lineEnd()}function c(){e(),_.point=a,_.lineEnd=l}function a(n,t){o(f=n,t),p=y,s=S,h=m,g=M,v=x,_.point=o}function l(){r(y,S,E,m,M,x,p,s,f,h,g,v,qi,t),_.lineEnd=u,u()}var f,p,s,h,g,v,E,y,S,m,M,x,_={point:i,lineStart:e,lineEnd:u,polygonStart:function(){t.polygonStart(),_.lineStart=c},polygonEnd:function(){t.polygonEnd(),_.lineStart=e}};return _}}function Un(n){return Tn({point:function(t,r){var i=n(t,r);return this.stream.point(i[0],i[1])}})}function Xn(n){return Yn(function(){return n})()}function Yn(n){function t(n){return n=f(n[0]*Kt,n[1]*Kt),[n[0]*d+c,a-n[1]*d]}function r(n){return(n=f.invert((n[0]-c)/d,(a-n[1])/d))&&[n[0]*Jt,n[1]*Jt]}function i(n,t){return n=u(n,t),[n[0]*d+c,a-n[1]*d]}function e(){f=Mr(l=U(M,x,_),u);var n=u(S,m);return c=E-n[0]*d,a=y+n[1]*d,o()}function o(){return g=v=null,t}var u,c,a,l,f,p,s,h,g,v,d=150,E=480,y=250,S=0,m=0,M=0,x=0,_=0,N=null,w=Br,C=null,P=ii,R=.5,A=bi(i,R);return t.stream=function(n){return g&&v===n?g:g=Li(Un(l)(w(A(P(v=n)))))},t.preclip=function(n){return arguments.length?(w=n,N=void 0,o()):w},t.postclip=function(n){return arguments.length?(P=n,C=p=s=h=null,o()):P},t.clipAngle=function(n){return arguments.length?(w=+n?Dr(N=n*Kt):(N=null,Br),o()):N*Jt},t.clipExtent=function(n){return arguments.length?(P=null==n?(C=p=s=h=null,ii):rn(C=+n[0][0],p=+n[0][1],s=+n[1][0],h=+n[1][1]),o()):null==C?null:[[C,p],[s,h]]},t.scale=function(n){return arguments.length?(d=+n,e()):d},t.translate=function(n){return arguments.length?(E=+n[0],y=+n[1],e()):[E,y]},t.center=function(n){return arguments.length?(S=n[0]%360*Kt,m=n[1]%360*Kt,e()):[S*Jt,m*Jt]},t.rotate=function(n){return arguments.length?(M=n[0]%360*Kt,x=n[1]%360*Kt,_=n.length>2?n[2]%360*Kt:0,e()):[M*Jt,x*Jt,_*Jt]},t.precision=function(n){return arguments.length?(A=bi(i,R=n*n),o()):ur(R)},t.fitExtent=function(n,r){return Fn(t,n,r)},t.fitSize=function(n,r){return In(t,n,r)},function(){return u=n.apply(this,arguments),t.invert=u.invert&&r,e()}}function Zn(n){var t=0,r=Xt/3,i=Yn(n),e=i(t,r);return e.parallels=function(n){return arguments.length?i(t=n[0]*Kt,r=n[1]*Kt):[t*Jt,r*Jt]},e}function Hn(n){function t(n,t){return[n*r,er(t)/r]}var r=$t(n);return t.invert=function(n,t){return[n/r,o(t*r)]},t}function Jn(n,t){function r(n,t){var r=ur(u-2*e*er(t))/e;return[r*er(n*=e),c-r*$t(n)]}var i=er(n),e=(i+er(t))/2;if(Qt(e)<Ut)return Hn(n);var u=1+i*(2*e-i),c=ur(u)/e;return r.invert=function(n,t){var r=c-t;return[Wt(n,Qt(r))/e*or(r),o((u-(n*n+r*r)*e*e)/(2*e))]},r}function Kn(n){var t=n.length;return{point:function(r,i){for(var e=-1;++e<t;)n[e].point(r,i)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function Qn(n){return function(t,r){var i=$t(t),e=$t(r),o=n(i*e);return[o*e*er(t),o*er(r)]}}function Vn(n){return function(t,r){var i=ur(t*t+r*r),e=n(i),u=er(e),c=$t(e);return[Wt(t*u,i*c),o(i&&r*u/i)]}}function Wn(n,t){return[n,rr(cr((Yt+t)/2))]}function $n(n){function t(){var t=Xt*c(),u=o(br(o.rotate()).invert([0,0]));return l(null==f?[[u[0]-t,u[1]-t],[u[0]+t,u[1]+t]]:n===Wn?[[Math.max(u[0]-t,f),r],[Math.min(u[0]+t,i),e]]:[[f,Math.max(u[1]-t,r)],[i,Math.min(u[1]+t,e)]])}var r,i,e,o=Xn(n),u=o.center,c=o.scale,a=o.translate,l=o.clipExtent,f=null;return o.scale=function(n){return arguments.length?(c(n),t()):c()},o.translate=function(n){return arguments.length?(a(n),t()):a()},o.center=function(n){return arguments.length?(u(n),t()):u()},o.clipExtent=function(n){return arguments.length?(null==n?f=r=i=e=null:(f=+n[0][0],r=+n[0][1],i=+n[1][0],e=+n[1][1]),t()):null==f?null:[[f,r],[i,e]]},t()}function nt(n){return cr((Yt+n)/2)}function tt(n,t){function r(n,t){o>0?t<-Yt+Ut&&(t=-Yt+Ut):t>Yt-Ut&&(t=Yt-Ut);var r=o/ir(nt(t),e);return[r*er(e*n),o-r*$t(e*n)]}var i=$t(n),e=n===t?er(n):rr(i/$t(t))/rr(nt(t)/nt(n)),o=i*ir(nt(n),e)/e;return e?(r.invert=function(n,t){var r=o-t,i=or(e)*ur(n*n+r*r);return[Wt(n,Qt(r))/e*or(r),2*Vt(ir(o/i,1/e))-Yt]},r):Wn}function rt(n,t){return[n,t]}function it(n,t){function r(n,t){var r=o-t,i=e*n;return[r*er(i),o-r*$t(i)]}var i=$t(n),e=n===t?er(n):(i-$t(t))/(t-n),o=i/e+n;return Qt(e)<Ut?rt:(r.invert=function(n,t){var r=o-t;return[Wt(n,Qt(r))/e*or(r),o-or(e)*ur(n*n+r*r)]},r)}function et(n,t){var r=$t(t),i=$t(n)*r;return[r*er(n)/i,er(t)/i]}function ot(n,t,r,i){return 1===n&&1===t&&0===r&&0===i?ii:Tn({point:function(e,o){this.stream.point(e*n+r,o*t+i)}})}function ut(n,t){var r=t*t,i=r*r;return[n*(.8707-.131979*r+i*(i*(.003971*r-.001529*i)-.013791)),t*(1.007226+r*(.015085+i*(.028874*r-.044475-.005916*i)))]}function ct(n,t){return[$t(t)*er(n),er(t)]}function at(n,t){var r=$t(t),i=1+$t(n)*r;return[r*er(n)/i,er(t)/i]}function lt(n,t){return[rr(cr((Yt+t)/2)),-n]}var ft=function(){return new r};r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(n){i(Dt,n,this.t),i(this,Dt.s,this.s),this.s?this.t+=Dt.t:this.s=Dt.t},valueOf:function(){return this.s}};var pt,st,ht,gt,vt,dt,Et,yt,St,mt,Mt,xt,_t,Nt,wt,Ct,Pt,Rt,At,jt,qt,zt,bt,Lt,Ot,Gt,Tt,kt,Ft,It,Bt,Dt=new r,Ut=1e-6,Xt=Math.PI,Yt=Xt/2,Zt=Xt/4,Ht=2*Xt,Jt=180/Xt,Kt=Xt/180,Qt=Math.abs,Vt=Math.atan,Wt=Math.atan2,$t=Math.cos,nr=Math.ceil,tr=Math.exp,rr=Math.log,ir=Math.pow,er=Math.sin,or=Math.sign||function(n){return n>0?1:n<0?-1:0},ur=Math.sqrt,cr=Math.tan,ar={Feature:function(n,t){a(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)a(r[i].geometry,t)}},lr={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){l(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)l(r[i],t,0)},Polygon:function(n,t){f(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)f(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)a(r[i],t)}},fr=function(n,t){n&&ar.hasOwnProperty(n.type)?ar[n.type](n,t):a(n,t)},pr=ft(),sr=ft(),hr={point:c,lineStart:c,lineEnd:c,polygonStart:function(){pr.reset(),hr.lineStart=p,hr.lineEnd=s},polygonEnd:function(){var n=+pr;sr.add(n<0?Ht+n:n),this.lineStart=this.lineEnd=this.point=c},sphere:function(){sr.add(Ht)}},gr=function(n){return sr.reset(),fr(n,hr),2*sr},vr=ft(),dr={point:x,lineStart:N,lineEnd:w,polygonStart:function(){dr.point=C,dr.lineStart=P,dr.lineEnd=R,vr.reset(),hr.polygonStart()},polygonEnd:function(){hr.polygonEnd(),dr.point=x,dr.lineStart=N,dr.lineEnd=w,pr<0?(dt=-(yt=180),Et=-(St=90)):vr>Ut?St=90:vr<-Ut&&(Et=-90),wt[0]=dt,wt[1]=yt}},Er=function(n){var t,r,i,e,o,u,c;if(St=yt=-(dt=Et=1/0),Nt=[],fr(n,dr),r=Nt.length){for(Nt.sort(j),t=1,i=Nt[0],o=[i];t<r;++t)e=Nt[t],q(i,e[0])||q(i,e[1])?(A(i[0],e[1])>A(i[0],i[1])&&(i[1]=e[1]),A(e[0],i[1])>A(i[0],i[1])&&(i[0]=e[0])):o.push(i=e);for(u=-1/0,r=o.length-1,t=0,i=o[r];t<=r;i=e,++t)e=o[t],(c=A(i[1],e[0]))>u&&(u=c,dt=e[0],yt=i[1])}return Nt=wt=null,dt===1/0||Et===1/0?[[NaN,NaN],[NaN,NaN]]:[[dt,Et],[yt,St]]},yr={sphere:c,point:z,lineStart:L,lineEnd:T,polygonStart:function(){yr.lineStart=k,yr.lineEnd=F},polygonEnd:function(){yr.lineStart=L,yr.lineEnd=T}},Sr=function(n){Ct=Pt=Rt=At=jt=qt=zt=bt=Lt=Ot=Gt=0,fr(n,yr);var t=Lt,r=Ot,i=Gt,e=t*t+r*r+i*i;return e<1e-12&&(t=qt,r=zt,i=bt,Pt<Ut&&(t=Rt,r=At,i=jt),(e=t*t+r*r+i*i)<1e-12)?[NaN,NaN]:[Wt(r,t)*Jt,o(i/ur(e))*Jt]},mr=function(n){return function(){return n}},Mr=function(n,t){function r(r,i){return r=n(r,i),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,i){return(r=t.invert(r,i))&&n.invert(r[0],r[1])}),r};D.invert=D;var xr,_r,Nr,wr,Cr,Pr,Rr,Ar,jr,qr,zr,br=function(n){function t(t){return t=n(t[0]*Kt,t[1]*Kt),t[0]*=Jt,t[1]*=Jt,t}return n=U(n[0]*Kt,n[1]*Kt,n.length>2?n[2]*Kt:0),t.invert=function(t){return t=n.invert(t[0]*Kt,t[1]*Kt),t[0]*=Jt,t[1]*=Jt,t},t},Lr=function(){function n(n,t){r.push(n=i(n,t)),n[0]*=Jt,n[1]*=Jt}function t(){var n=e.apply(this,arguments),t=o.apply(this,arguments)*Kt,a=u.apply(this,arguments)*Kt;return r=[],i=U(-n[0]*Kt,-n[1]*Kt,0).invert,H(c,t,a,1),n={type:"Polygon",coordinates:[r]},r=i=null,n}var r,i,e=mr([0,0]),o=mr(90),u=mr(6),c={point:n};return t.center=function(n){return arguments.length?(e="function"==typeof n?n:mr([+n[0],+n[1]]),t):e},t.radius=function(n){return arguments.length?(o="function"==typeof n?n:mr(+n),t):o},t.precision=function(n){return arguments.length?(u="function"==typeof n?n:mr(+n),t):u},t},Or=function(){var n,t=[];return{point:function(t,r){n.push([t,r])},lineStart:function(){t.push(n=[])},lineEnd:c,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}},Gr=function(n,t){return Qt(n[0]-t[0])<Ut&&Qt(n[1]-t[1])<Ut},Tr=function(n,t,r,i,e){var o,u,c=[],a=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,r,i=n[0],u=n[t];if(Gr(i,u)){for(e.lineStart(),o=0;o<t;++o)e.point((i=n[o])[0],i[1]);return void e.lineEnd()}c.push(r=new K(i,n,null,!0)),a.push(r.o=new K(i,null,r,!1)),c.push(r=new K(u,n,null,!1)),a.push(r.o=new K(u,null,r,!0))}}),c.length){for(a.sort(t),Q(c),Q(a),o=0,u=a.length;o<u;++o)a[o].e=r=!r;for(var l,f,p=c[0];;){for(var s=p,h=!0;s.v;)if((s=s.n)===p)return;l=s.z,e.lineStart();do{if(s.v=s.o.v=!0,s.e){if(h)for(o=0,u=l.length;o<u;++o)e.point((f=l[o])[0],f[1]);else i(s.x,s.n.x,1,e);s=s.n}else{if(h)for(l=s.p.z,o=l.length-1;o>=0;--o)e.point((f=l[o])[0],f[1]);else i(s.x,s.p.x,-1,e);s=s.p}s=s.o,l=s.z,h=!h}while(!s.v);e.lineEnd()}}},kr=ft(),Fr=function(n,t){var r=t[0],i=t[1],e=[er(r),-$t(r),0],u=0,c=0;kr.reset();for(var a=0,l=n.length;a<l;++a)if(p=(f=n[a]).length)for(var f,p,s=f[p-1],h=s[0],g=s[1]/2+Zt,v=er(g),E=$t(g),S=0;S<p;++S,h=x,v=N,E=w,s=m){var m=f[S],x=m[0],_=m[1]/2+Zt,N=er(_),w=$t(_),C=x-h,P=C>=0?1:-1,R=P*C,A=R>Xt,j=v*N;if(kr.add(Wt(j*P*er(R),E*w+j*$t(R))),u+=A?C+P*Ht:C,A^h>=r^x>=r){var q=y(d(s),d(m));M(q);var z=y(e,q);M(z);var b=(A^C>=0?-1:1)*o(z[2]);(i>b||i===b&&(q[0]||q[1]))&&(c+=A^C>=0?1:-1)}}return(u<-Ut||u<Ut&&kr<-Ut)^1&c},Ir=function(n,r,i,e){return function(o){function u(t,r){n(t,r)&&o.point(t,r)}function c(n,t){d.point(n,t)}function a(){m.point=c,d.lineStart()}function l(){m.point=u,d.lineEnd()}function f(n,t){v.push([n,t]),y.point(n,t)}function p(){y.lineStart(),v=[]}function s(){f(v[0][0],v[0][1]),y.lineEnd();var n,t,r,i,e=y.clean(),u=E.result(),c=u.length;if(v.pop(),h.push(v),v=null,c)if(1&e){if(r=u[0],(t=r.length-1)>0){for(S||(o.polygonStart(),S=!0),o.lineStart(),n=0;n<t;++n)o.point((i=r[n])[0],i[1]);o.lineEnd()}}else c>1&&2&e&&u.push(u.pop().concat(u.shift())),g.push(u.filter(V))}var h,g,v,d=r(o),E=Or(),y=r(E),S=!1,m={point:u,lineStart:a,lineEnd:l,polygonStart:function(){m.point=f,m.lineStart=p,m.lineEnd=s,g=[],h=[]},polygonEnd:function(){m.point=u,m.lineStart=a,m.lineEnd=l,g=t.merge(g);var n=Fr(h,e);g.length?(S||(o.polygonStart(),S=!0),Tr(g,W,n,i,o)):n&&(S||(o.polygonStart(),S=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),S&&(o.polygonEnd(),S=!1),g=h=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return m}},Br=Ir(function(){return!0},$,tn,[-Xt,-Yt]),Dr=function(n){function t(t,r,i,e){H(e,n,c,i,t,r)}function r(n,t){return $t(n)*$t(t)>u}function i(n){var t,i,u,c,f;return{lineStart:function(){c=u=!1,f=1},point:function(p,s){var h,g=[p,s],v=r(p,s),d=a?v?0:o(p,s):v?o(p+(p<0?Xt:-Xt),s):0;if(!t&&(c=u=v)&&n.lineStart(),v!==u&&(!(h=e(t,g))||Gr(t,h)||Gr(g,h))&&(g[0]+=Ut,g[1]+=Ut,v=r(g[0],g[1])),v!==u)f=0,v?(n.lineStart(),h=e(g,t),n.point(h[0],h[1])):(h=e(t,g),n.point(h[0],h[1]),n.lineEnd()),t=h;else if(l&&t&&a^v){var E;d&i||!(E=e(g,t,!0))||(f=0,a?(n.lineStart(),n.point(E[0][0],E[0][1]),n.point(E[1][0],E[1][1]),n.lineEnd()):(n.point(E[1][0],E[1][1]),n.lineEnd(),n.lineStart(),n.point(E[0][0],E[0][1])))}!v||t&&Gr(t,g)||n.point(g[0],g[1]),t=g,u=v,i=d},lineEnd:function(){u&&n.lineEnd(),t=null},clean:function(){return f|(c&&u)<<1}}}function e(n,t,r){var i=d(n),e=d(t),o=[1,0,0],c=y(i,e),a=E(c,c),l=c[0],f=a-l*l;if(!f)return!r&&n;var p=u*a/f,s=-u*l/f,h=y(o,c),g=m(o,p);S(g,m(c,s));var M=h,x=E(g,M),_=E(M,M),N=x*x-_*(E(g,g)-1);if(!(N<0)){var w=ur(N),C=m(M,(-x-w)/_);if(S(C,g),C=v(C),!r)return C;var P,R=n[0],A=t[0],j=n[1],q=t[1];A<R&&(P=R,R=A,A=P);var z=A-R,b=Qt(z-Xt)<Ut,L=b||z<Ut;if(!b&&q<j&&(P=j,j=q,q=P),L?b?j+q>0^C[1]<(Qt(C[0]-R)<Ut?j:q):j<=C[1]&&C[1]<=q:z>Xt^(R<=C[0]&&C[0]<=A)){var O=m(M,(-x+w)/_);return S(O,g),[C,v(O)]}}}function o(t,r){var i=a?n:Xt-n,e=0;return t<-i?e|=1:t>i&&(e|=2),r<-i?e|=4:r>i&&(e|=8),e}var u=$t(n),c=6*Kt,a=u>0,l=Qt(u)>Ut;return Ir(r,i,t,a?[0,-n]:[-Xt,n-Xt])},Ur=function(n,t,r,i,e,o){var u,c=n[0],a=n[1],l=t[0],f=t[1],p=0,s=1,h=l-c,g=f-a;if(u=r-c,h||!(u>0)){if(u/=h,h<0){if(u<p)return;u<s&&(s=u)}else if(h>0){if(u>s)return;u>p&&(p=u)}if(u=e-c,h||!(u<0)){if(u/=h,h<0){if(u>s)return;u>p&&(p=u)}else if(h>0){if(u<p)return;u<s&&(s=u)}if(u=i-a,g||!(u>0)){if(u/=g,g<0){if(u<p)return;u<s&&(s=u)}else if(g>0){if(u>s)return;u>p&&(p=u)}if(u=o-a,g||!(u<0)){if(u/=g,g<0){if(u>s)return;u>p&&(p=u)}else if(g>0){if(u<p)return;u<s&&(s=u)}return p>0&&(n[0]=c+p*h,n[1]=a+p*g),s<1&&(t[0]=c+s*h,t[1]=a+s*g),!0}}}}},Xr=1e9,Yr=-Xr,Zr=function(){var n,t,r,i=0,e=0,o=960,u=500;return r={stream:function(r){return n&&t===r?n:n=rn(i,e,o,u)(t=r)},extent:function(c){return arguments.length?(i=+c[0][0],e=+c[0][1],o=+c[1][0],u=+c[1][1],n=t=null,r):[[i,e],[o,u]]}}},Hr=ft(),Jr={sphere:c,point:c,lineStart:en,lineEnd:c,polygonStart:c,polygonEnd:c},Kr=function(n){return Hr.reset(),fr(n,Jr),+Hr},Qr=[null,null],Vr={type:"LineString",coordinates:Qr},Wr=function(n,t){return Qr[0]=n,Qr[1]=t,Kr(Vr)},$r={Feature:function(n,t){return an(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)if(an(r[i].geometry,t))return!0;return!1}},ni={Sphere:function(){return!0},Point:function(n,t){return ln(n.coordinates,t)},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(ln(r[i],t))return!0;return!1},LineString:function(n,t){return fn(n.coordinates,t)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(fn(r[i],t))return!0;return!1},Polygon:function(n,t){return pn(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(pn(r[i],t))return!0;return!1},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)if(an(r[i],t))return!0;return!1}},ti=function(n,t){return(n&&$r.hasOwnProperty(n.type)?$r[n.type]:an)(n,t)},ri=function(n,t){var r=n[0]*Kt,i=n[1]*Kt,e=t[0]*Kt,c=t[1]*Kt,a=$t(i),l=er(i),f=$t(c),p=er(c),s=a*$t(r),h=a*er(r),g=f*$t(e),v=f*er(e),d=2*o(ur(u(c-i)+a*f*u(e-r))),E=er(d),y=d?function(n){var t=er(n*=d)/E,r=er(d-n)/E,i=r*s+t*g,e=r*h+t*v,o=r*l+t*p;return[Wt(e,i)*Jt,Wt(o,ur(i*i+e*e))*Jt]}:function(){return[r*Jt,i*Jt]};return y.distance=d,y},ii=function(n){return n},ei=ft(),oi=ft(),ui={point:c,lineStart:c,lineEnd:c,polygonStart:function(){ui.lineStart=yn,ui.lineEnd=Mn},polygonEnd:function(){ui.lineStart=ui.lineEnd=ui.point=c,ei.add(Qt(oi)),oi.reset()},result:function(){var n=ei/2;return ei.reset(),n}},ci=1/0,ai=ci,li=-ci,fi=li,pi={point:xn,lineStart:c,lineEnd:c,polygonStart:c,polygonEnd:c,result:function(){var n=[[ci,ai],[li,fi]];return li=fi=-(ai=ci=1/0),n}},si=0,hi=0,gi=0,vi=0,di=0,Ei=0,yi=0,Si=0,mi=0,Mi={point:_n,lineStart:Nn,lineEnd:Pn,polygonStart:function(){Mi.lineStart=Rn,Mi.lineEnd=An},polygonEnd:function(){Mi.point=_n,Mi.lineStart=Nn,Mi.lineEnd=Pn},result:function(){var n=mi?[yi/mi,Si/mi]:Ei?[vi/Ei,di/Ei]:gi?[si/gi,hi/gi]:[NaN,NaN];return si=hi=gi=vi=di=Ei=yi=Si=mi=0,n}};zn.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,Ht)}},result:c};var xi,_i,Ni,wi,Ci,Pi=ft(),Ri={point:c,lineStart:function(){Ri.point=bn},lineEnd:function(){xi&&Ln(_i,Ni),Ri.point=c},polygonStart:function(){xi=!0},polygonEnd:function(){xi=null},result:function(){var n=+Pi;return Pi.reset(),n}};On.prototype={_radius:4.5,_circle:Gn(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:null==this._circle&&(this._circle=Gn(this._radius)),this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}return null}};var Ai=function(n,t){function r(n){return n&&("function"==typeof o&&e.pointRadius(+o.apply(this,arguments)),fr(n,i(e))),e.result()}var i,e,o=4.5;return r.area=function(n){return fr(n,i(ui)),ui.result()},r.measure=function(n){return fr(n,i(Ri)),Ri.result()},r.bounds=function(n){return fr(n,i(pi)),pi.result()},r.centroid=function(n){return fr(n,i(Mi)),Mi.result()},r.projection=function(t){return arguments.length?(i=null==t?(n=null,ii):(n=t).stream,r):n},r.context=function(n){return arguments.length?(e=null==n?(t=null,new On):new zn(t=n),"function"!=typeof o&&e.pointRadius(o),r):t},r.pointRadius=function(n){return arguments.length?(o="function"==typeof n?n:(e.pointRadius(+n),+n),r):o},r.projection(n).context(t)},ji=function(n){return{stream:Tn(n)}};kn.prototype={constructor:kn,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var qi=16,zi=$t(30*Kt),bi=function(n,t){return+t?Dn(n,t):Bn(n)},Li=Tn({point:function(n,t){this.stream.point(n*Kt,t*Kt)}}),Oi=function(){return Zn(Jn).scale(155.424).center([0,33.6442])},Gi=function(){return Oi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},Ti=function(){function n(n){var t=n[0],r=n[1];return c=null,e.point(t,r),c||(o.point(t,r),c)||(u.point(t,r),c)}function t(){return r=i=null,n}var r,i,e,o,u,c,a=Gi(),l=Oi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=Oi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),p={point:function(n,t){c=[n,t]}};return n.invert=function(n){var t=a.scale(),r=a.translate(),i=(n[0]-r[0])/t,e=(n[1]-r[1])/t;return(e>=.12&&e<.234&&i>=-.425&&i<-.214?l:e>=.166&&e<.234&&i>=-.214&&i<-.115?f:a).invert(n)},n.stream=function(n){return r&&i===n?r:r=Kn([a.stream(i=n),l.stream(n),f.stream(n)])},n.precision=function(n){return arguments.length?(a.precision(n),l.precision(n),f.precision(n),t()):a.precision()},n.scale=function(t){return arguments.length?(a.scale(t),l.scale(.35*t),f.scale(t),n.translate(a.translate())):a.scale()},n.translate=function(n){if(!arguments.length)return a.translate();var r=a.scale(),i=+n[0],c=+n[1];return e=a.translate(n).clipExtent([[i-.455*r,c-.238*r],[i+.455*r,c+.238*r]]).stream(p),o=l.translate([i-.307*r,c+.201*r]).clipExtent([[i-.425*r+Ut,c+.12*r+Ut],[i-.214*r-Ut,c+.234*r-Ut]]).stream(p),u=f.translate([i-.205*r,c+.212*r]).clipExtent([[i-.214*r+Ut,c+.166*r+Ut],[i-.115*r-Ut,c+.234*r-Ut]]).stream(p),t()},n.fitExtent=function(t,r){return Fn(n,t,r)},n.fitSize=function(t,r){return In(n,t,r)},n.scale(1070)},ki=Qn(function(n){return ur(2/(1+n))});ki.invert=Vn(function(n){return 2*o(n/2)});var Fi=function(){return Xn(ki).scale(124.75).clipAngle(179.999)},Ii=Qn(function(n){return(n=e(n))&&n/er(n)});Ii.invert=Vn(function(n){return n});var Bi=function(){return Xn(Ii).scale(79.4188).clipAngle(179.999)};Wn.invert=function(n,t){return[n,2*Vt(tr(t))-Yt]};var Di=function(){return $n(Wn).scale(961/Ht)},Ui=function(){return Zn(tt).scale(109.5).parallels([30,30])};rt.invert=rt;var Xi=function(){return Xn(rt).scale(152.63)},Yi=function(){return Zn(it).scale(131.154).center([0,13.9389])};et.invert=Vn(Vt);var Zi=function(){return Xn(et).scale(144.049).clipAngle(60)},Hi=function(){function n(){return e=o=null,u}var t,r,i,e,o,u,c=1,a=0,l=0,f=1,p=1,s=ii,h=null,g=ii;return u={stream:function(n){return e&&o===n?e:e=s(g(o=n))},postclip:function(e){
return arguments.length?(g=e,h=t=r=i=null,n()):g},clipExtent:function(e){return arguments.length?(g=null==e?(h=t=r=i=null,ii):rn(h=+e[0][0],t=+e[0][1],r=+e[1][0],i=+e[1][1]),n()):null==h?null:[[h,t],[r,i]]},scale:function(t){return arguments.length?(s=ot((c=+t)*f,c*p,a,l),n()):c},translate:function(t){return arguments.length?(s=ot(c*f,c*p,a=+t[0],l=+t[1]),n()):[a,l]},reflectX:function(t){return arguments.length?(s=ot(c*(f=t?-1:1),c*p,a,l),n()):f<0},reflectY:function(t){return arguments.length?(s=ot(c*f,c*(p=t?-1:1),a,l),n()):p<0},fitExtent:function(n,t){return Fn(u,n,t)},fitSize:function(n,t){return In(u,n,t)}}};ut.invert=function(n,t){var r,i=t,e=25;do{var o=i*i,u=o*o;i-=r=(i*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))-t)/(1.007226+o*(.045255+u*(.259866*o-.311325-.005916*11*u)))}while(Qt(r)>Ut&&--e>0);return[n/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]};var Ji=function(){return Xn(ut).scale(175.295)};ct.invert=Vn(o);var Ki=function(){return Xn(ct).scale(249.5).clipAngle(90+Ut)};at.invert=Vn(function(n){return 2*Vt(n)});var Qi=function(){return Xn(at).scale(250).clipAngle(142)};lt.invert=function(n,t){return[-t,2*Vt(tr(n))-Yt]};var Vi=function(){var n=$n(lt),t=n.center,r=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)};n.geoArea=gr,n.geoBounds=Er,n.geoCentroid=Sr,n.geoCircle=Lr,n.geoClipAntimeridian=Br,n.geoClipCircle=Dr,n.geoClipExtent=Zr,n.geoClipRectangle=rn,n.geoContains=ti,n.geoDistance=Wr,n.geoGraticule=dn,n.geoGraticule10=En,n.geoInterpolate=ri,n.geoLength=Kr,n.geoPath=Ai,n.geoAlbers=Gi,n.geoAlbersUsa=Ti,n.geoAzimuthalEqualArea=Fi,n.geoAzimuthalEqualAreaRaw=ki,n.geoAzimuthalEquidistant=Bi,n.geoAzimuthalEquidistantRaw=Ii,n.geoConicConformal=Ui,n.geoConicConformalRaw=tt,n.geoConicEqualArea=Oi,n.geoConicEqualAreaRaw=Jn,n.geoConicEquidistant=Yi,n.geoConicEquidistantRaw=it,n.geoEquirectangular=Xi,n.geoEquirectangularRaw=rt,n.geoGnomonic=Zi,n.geoGnomonicRaw=et,n.geoIdentity=Hi,n.geoProjection=Xn,n.geoProjectionMutator=Yn,n.geoMercator=Di,n.geoMercatorRaw=Wn,n.geoNaturalEarth1=Ji,n.geoNaturalEarth1Raw=ut,n.geoOrthographic=Ki,n.geoOrthographicRaw=ct,n.geoStereographic=Qi,n.geoStereographicRaw=at,n.geoTransverseMercator=Vi,n.geoTransverseMercatorRaw=lt,n.geoRotation=br,n.geoStream=fr,n.geoTransform=ji,Object.defineProperty(n,"__esModule",{value:!0})});

},{"d3-array":116}],118:[function(require,module,exports){
(function (process){
function useColors(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function formatArgs(e){var o=this.useColors;if(e[0]=(o?"%c":"")+this.namespace+(o?" %c":" ")+e[0]+(o?"%c ":" ")+"+"+exports.humanize(this.diff),o){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var t=0,n=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(t++,"%c"===e&&(n=t))}),e.splice(n,0,r)}}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(e){try{null==e?exports.storage.removeItem("debug"):exports.storage.debug=e}catch(e){}}function load(){var e;try{e=exports.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}function localstorage(){try{return window.localStorage}catch(e){}}exports=module.exports=require("./debug"),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:localstorage(),exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},exports.enable(load());

}).call(this,require('_process'))
},{"./debug":119,"_process":165}],119:[function(require,module,exports){
function selectColor(e){var r,t=0;for(r in e)t=(t<<5)-t+e.charCodeAt(r),t|=0;return exports.colors[Math.abs(t)%exports.colors.length]}function createDebug(e){function r(){if(r.enabled){var e=r,t=+new Date,o=t-(prevTime||t);e.diff=o,e.prev=prevTime,e.curr=t,prevTime=t;for(var s=new Array(arguments.length),n=0;n<s.length;n++)s[n]=arguments[n];s[0]=exports.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var p=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,t){if("%%"===r)return r;p++;var o=exports.formatters[t];if("function"==typeof o){var n=s[p];r=o.call(e,n),s.splice(p,1),p--}return r}),exports.formatArgs.call(e,s);(r.log||exports.log||console.log.bind(console)).apply(e,s)}}return r.namespace=e,r.enabled=exports.enabled(e),r.useColors=exports.useColors(),r.color=selectColor(e),"function"==typeof exports.init&&exports.init(r),r}function enable(e){exports.save(e),exports.names=[],exports.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),t=r.length,o=0;o<t;o++)r[o]&&(e=r[o].replace(/\*/g,".*?"),"-"===e[0]?exports.skips.push(new RegExp("^"+e.substr(1)+"$")):exports.names.push(new RegExp("^"+e+"$")))}function disable(){exports.enable("")}function enabled(e){var r,t;for(r=0,t=exports.skips.length;r<t;r++)if(exports.skips[r].test(e))return!1;for(r=0,t=exports.names.length;r<t;r++)if(exports.names[r].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}exports=module.exports=createDebug.debug=createDebug.default=createDebug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=require("ms"),exports.names=[],exports.skips=[],exports.formatters={};var prevTime;

},{"ms":158}],120:[function(require,module,exports){
function isUndefinedOrNull(e){return null===e||void 0===e}function isBuffer(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function objEquiv(e,t,r){var n,i;if(isUndefinedOrNull(e)||isUndefinedOrNull(t))return!1;if(e.prototype!==t.prototype)return!1;if(isArguments(e))return!!isArguments(t)&&(e=pSlice.call(e),t=pSlice.call(t),deepEqual(e,t,r));if(isBuffer(e)){if(!isBuffer(t))return!1;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}try{var u=objectKeys(e),o=objectKeys(t)}catch(e){return!1}if(u.length!=o.length)return!1;for(u.sort(),o.sort(),n=u.length-1;n>=0;n--)if(u[n]!=o[n])return!1;for(n=u.length-1;n>=0;n--)if(i=u[n],!deepEqual(e[i],t[i],r))return!1;return typeof e==typeof t}var pSlice=Array.prototype.slice,objectKeys=require("./lib/keys.js"),isArguments=require("./lib/is_arguments.js"),deepEqual=module.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:objEquiv(e,t,r))};

},{"./lib/is_arguments.js":121,"./lib/keys.js":122}],121:[function(require,module,exports){
function supported(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function unsupported(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var supportsArgumentsClass="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();exports=module.exports=supportsArgumentsClass?supported:unsupported,exports.supported=supported,exports.unsupported=unsupported;

},{}],122:[function(require,module,exports){
function shim(e){var s=[];for(var t in e)s.push(t);return s}exports=module.exports="function"==typeof Object.keys?Object.keys:shim,exports.shim=shim;

},{}],123:[function(require,module,exports){
function DBSCAN(t,s,i,e){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,s,i,e)}DBSCAN.prototype.run=function(t,s,i,e){this._init(t,s,i,e);for(var n=0;n<this._datasetLength;n++)if(1!==this._visited[n]){this._visited[n]=1;var h=this._regionQuery(n);if(h.length<this.minPts)this.noise.push(n);else{var r=this.clusters.length;this.clusters.push([]),this._addToCluster(n,r),this._expandCluster(r,h)}}return this.clusters},DBSCAN.prototype._init=function(t,s,i,e){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}s&&(this.epsilon=s),i&&(this.minPts=i),e&&(this.distance=e)},DBSCAN.prototype._expandCluster=function(t,s){for(var i=0;i<s.length;i++){var e=s[i];if(1!==this._visited[e]){this._visited[e]=1;var n=this._regionQuery(e);n.length>=this.minPts&&(s=this._mergeArrays(s,n))}1!==this._assigned[e]&&this._addToCluster(e,t)}},DBSCAN.prototype._addToCluster=function(t,s){this.clusters[s].push(t),this._assigned[t]=1},DBSCAN.prototype._regionQuery=function(t){for(var s=[],i=0;i<this._datasetLength;i++){this.distance(this.dataset[t],this.dataset[i])<this.epsilon&&s.push(i)}return s},DBSCAN.prototype._mergeArrays=function(t,s){for(var i=s.length,e=0;e<i;e++){var n=s[e];t.indexOf(n)<0&&t.push(n)}return t},DBSCAN.prototype._euclideanDistance=function(t,s){for(var i=0,e=Math.min(t.length,s.length);e--;)i+=(t[e]-s[e])*(t[e]-s[e]);return Math.sqrt(i)},"undefined"!=typeof module&&module.exports&&(module.exports=DBSCAN);

},{}],124:[function(require,module,exports){
function KMEANS(t,s,i){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,s,i)}KMEANS.prototype.init=function(t,s,i){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==s&&(this.k=s),void 0!==i&&(this.distance=i)},KMEANS.prototype.run=function(t,s){this.init(t,s);for(var i=this.dataset.length,n=0;n<this.k;n++)this.centroids[n]=this.randomCentroid();for(var r=!0;r;){r=this.assign();for(var e=0;e<this.k;e++){for(var o=new Array(f),a=0,h=0;h<f;h++)o[h]=0;for(var d=0;d<i;d++){var f=this.dataset[d].length;if(e===this.assignments[d]){for(var h=0;h<f;h++)o[h]+=this.dataset[d][h];a++}}if(a>0){for(var h=0;h<f;h++)o[h]/=a;this.centroids[e]=o}else this.centroids[e]=this.randomCentroid(),r=!0}}return this.getClusters()},KMEANS.prototype.randomCentroid=function(){var t,s,i=this.dataset.length-1;do{s=Math.round(Math.random()*i),t=this.dataset[s]}while(this.centroids.indexOf(t)>=0);return t},KMEANS.prototype.assign=function(){for(var t,s=!1,i=this.dataset.length,n=0;n<i;n++)(t=this.argmin(this.dataset[n],this.centroids,this.distance))!=this.assignments[n]&&(this.assignments[n]=t,s=!0);return s},KMEANS.prototype.getClusters=function(){for(var t,s=new Array(this.k),i=0;i<this.assignments.length;i++)t=this.assignments[i],void 0===s[t]&&(s[t]=[]),s[t].push(i);return s},KMEANS.prototype.argmin=function(t,s,i){for(var n,r=Number.MAX_VALUE,e=0,o=s.length,a=0;a<o;a++)(n=i(t,s[a]))<r&&(r=n,e=a);return e},KMEANS.prototype.distance=function(t,s){for(var i=0,n=Math.min(t.length,s.length);n--;){var r=t[n]-s[n];i+=r*r}return Math.sqrt(i)},"undefined"!=typeof module&&module.exports&&(module.exports=KMEANS);

},{}],125:[function(require,module,exports){
function OPTICS(t,e,i,s){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,i,s)}if("undefined"!=typeof module&&module.exports)var PriorityQueue=require("./PriorityQueue.js");OPTICS.prototype.run=function(t,e,i,s){this._init(t,e,i,s);for(var r=0,o=this.dataset.length;r<o;r++)if(1!==this._processed[r]){this._processed[r]=1,this.clusters.push([r]);var n=this.clusters.length-1;this._orderedList.push(r);var a=new PriorityQueue(null,null,"asc"),h=this._regionQuery(r);void 0!==this._distanceToCore(r)&&(this._updateQueue(r,h,a),this._expandCluster(n,a))}return this.clusters},OPTICS.prototype.getReachabilityPlot=function(){for(var t=[],e=0,i=this._orderedList.length;e<i;e++){var s=this._orderedList[e],r=this._reachability[s];t.push([s,r])}return t},OPTICS.prototype._init=function(t,e,i,s){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),i&&(this.minPts=i),s&&(this.distance=s)},OPTICS.prototype._updateQueue=function(t,e,i){var s=this;this._coreDistance=this._distanceToCore(t),e.forEach(function(e){if(void 0===s._processed[e]){var r=s.distance(s.dataset[t],s.dataset[e]),o=Math.max(s._coreDistance,r);void 0===s._reachability[e]?(s._reachability[e]=o,i.insert(e,o)):o<s._reachability[e]&&(s._reachability[e]=o,i.remove(e),i.insert(e,o))}})},OPTICS.prototype._expandCluster=function(t,e){for(var i=e.getElements(),s=0,r=i.length;s<r;s++){var o=i[s];if(void 0===this._processed[o]){var n=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,n,e),this._expandCluster(t,e))}}},OPTICS.prototype._distanceToCore=function(t){for(var e=this.epsilon,i=0;i<e;i++){if(this._regionQuery(t,i).length>=this.minPts)return i}},OPTICS.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var i=[],s=0,r=this.dataset.length;s<r;s++)this.distance(this.dataset[t],this.dataset[s])<e&&i.push(s);return i},OPTICS.prototype._euclideanDistance=function(t,e){for(var i=0,s=Math.min(t.length,e.length);s--;)i+=(t[s]-e[s])*(t[s]-e[s]);return Math.sqrt(i)},"undefined"!=typeof module&&module.exports&&(module.exports=OPTICS);

},{"./PriorityQueue.js":126}],126:[function(require,module,exports){
function PriorityQueue(t,e,i){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,i)}PriorityQueue.prototype.insert=function(t,e){for(var i=this._queue.length,r=i;r--;){var u=this._priorities[r];"desc"===this._sorting?e>u&&(i=r):e<u&&(i=r)}this._insertAt(t,e,i)},PriorityQueue.prototype.remove=function(t){for(var e=this._queue.length;e--;){if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}}},PriorityQueue.prototype.forEach=function(t){this._queue.forEach(t)},PriorityQueue.prototype.getElements=function(){return this._queue},PriorityQueue.prototype.getElementPriority=function(t){return this._priorities[t]},PriorityQueue.prototype.getPriorities=function(){return this._priorities},PriorityQueue.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,i=this._queue.length;e<i;e++)t.push([this._queue[e],this._priorities[e]]);return t},PriorityQueue.prototype._init=function(t,e,i){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}i&&(this._sorting=i)},PriorityQueue.prototype._insertAt=function(t,e,i){this._queue.length===i?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(i,0,t),this._priorities.splice(i,0,e))},"undefined"!=typeof module&&module.exports&&(module.exports=PriorityQueue);

},{}],127:[function(require,module,exports){
"undefined"!=typeof module&&module.exports&&(module.exports={DBSCAN:require("./DBSCAN.js"),KMEANS:require("./KMEANS.js"),OPTICS:require("./OPTICS.js"),PriorityQueue:require("./PriorityQueue.js")});

},{"./DBSCAN.js":123,"./KMEANS.js":124,"./OPTICS.js":125,"./PriorityQueue.js":126}],128:[function(require,module,exports){
"use strict";function earcut(e,n,r){r=r||2;var t=n&&n.length,i=t?n[0]*r:e.length,x=linkedList(e,0,i,r,!0),a=[];if(!x)return a;var o,l,u,s,v,f,y;if(t&&(x=eliminateHoles(e,n,x,r)),e.length>80*r){o=u=e[0],l=s=e[1];for(var d=r;d<i;d+=r)v=e[d],f=e[d+1],v<o&&(o=v),f<l&&(l=f),v>u&&(u=v),f>s&&(s=f);y=Math.max(u-o,s-l)}return earcutLinked(x,a,r,o,l,y),a}function linkedList(e,n,r,t,i){var x,a;if(i===signedArea(e,n,r,t)>0)for(x=n;x<r;x+=t)a=insertNode(x,e[x],e[x+1],a);else for(x=r-t;x>=n;x-=t)a=insertNode(x,e[x],e[x+1],a);return a&&equals(a,a.next)&&(removeNode(a),a=a.next),a}function filterPoints(e,n){if(!e)return e;n||(n=e);var r,t=e;do{if(r=!1,t.steiner||!equals(t,t.next)&&0!==area(t.prev,t,t.next))t=t.next;else{if(removeNode(t),(t=n=t.prev)===t.next)return null;r=!0}}while(r||t!==n);return n}function earcutLinked(e,n,r,t,i,x,a){if(e){!a&&x&&indexCurve(e,t,i,x);for(var o,l,u=e;e.prev!==e.next;)if(o=e.prev,l=e.next,x?isEarHashed(e,t,i,x):isEar(e))n.push(o.i/r),n.push(e.i/r),n.push(l.i/r),removeNode(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?(e=cureLocalIntersections(e,n,r),earcutLinked(e,n,r,t,i,x,2)):2===a&&splitEarcut(e,n,r,t,i,x):earcutLinked(filterPoints(e),n,r,t,i,x,1);break}}}function isEar(e){var n=e.prev,r=e,t=e.next;if(area(n,r,t)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(pointInTriangle(n.x,n.y,r.x,r.y,t.x,t.y,i.x,i.y)&&area(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function isEarHashed(e,n,r,t){var i=e.prev,x=e,a=e.next;if(area(i,x,a)>=0)return!1;for(var o=i.x<x.x?i.x<a.x?i.x:a.x:x.x<a.x?x.x:a.x,l=i.y<x.y?i.y<a.y?i.y:a.y:x.y<a.y?x.y:a.y,u=i.x>x.x?i.x>a.x?i.x:a.x:x.x>a.x?x.x:a.x,s=i.y>x.y?i.y>a.y?i.y:a.y:x.y>a.y?x.y:a.y,v=zOrder(o,l,n,r,t),f=zOrder(u,s,n,r,t),y=e.nextZ;y&&y.z<=f;){if(y!==e.prev&&y!==e.next&&pointInTriangle(i.x,i.y,x.x,x.y,a.x,a.y,y.x,y.y)&&area(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(y=e.prevZ;y&&y.z>=v;){if(y!==e.prev&&y!==e.next&&pointInTriangle(i.x,i.y,x.x,x.y,a.x,a.y,y.x,y.y)&&area(y.prev,y,y.next)>=0)return!1;y=y.prevZ}return!0}function cureLocalIntersections(e,n,r){var t=e;do{var i=t.prev,x=t.next.next;!equals(i,x)&&intersects(i,t,t.next,x)&&locallyInside(i,x)&&locallyInside(x,i)&&(n.push(i.i/r),n.push(t.i/r),n.push(x.i/r),removeNode(t),removeNode(t.next),t=e=x),t=t.next}while(t!==e);return t}function splitEarcut(e,n,r,t,i,x){var a=e;do{for(var o=a.next.next;o!==a.prev;){if(a.i!==o.i&&isValidDiagonal(a,o)){var l=splitPolygon(a,o);return a=filterPoints(a,a.next),l=filterPoints(l,l.next),earcutLinked(a,n,r,t,i,x),void earcutLinked(l,n,r,t,i,x)}o=o.next}a=a.next}while(a!==e)}function eliminateHoles(e,n,r,t){var i,x,a,o,l,u=[];for(i=0,x=n.length;i<x;i++)a=n[i]*t,o=i<x-1?n[i+1]*t:e.length,l=linkedList(e,a,o,t,!1),l===l.next&&(l.steiner=!0),u.push(getLeftmost(l));for(u.sort(compareX),i=0;i<u.length;i++)eliminateHole(u[i],r),r=filterPoints(r,r.next);return r}function compareX(e,n){return e.x-n.x}function eliminateHole(e,n){if(n=findHoleBridge(e,n)){var r=splitPolygon(n,e);filterPoints(r,r.next)}}function findHoleBridge(e,n){var r,t=n,i=e.x,x=e.y,a=-1/0;do{if(x<=t.y&&x>=t.next.y){var o=t.x+(x-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(o<=i&&o>a){if(a=o,o===i){if(x===t.y)return t;if(x===t.next.y)return t.next}r=t.x<t.next.x?t:t.next}}t=t.next}while(t!==n);if(!r)return null;if(i===a)return r.prev;var l,u=r,s=r.x,v=r.y,f=1/0;for(t=r.next;t!==u;)i>=t.x&&t.x>=s&&pointInTriangle(x<v?i:a,x,s,v,x<v?a:i,x,t.x,t.y)&&((l=Math.abs(x-t.y)/(i-t.x))<f||l===f&&t.x>r.x)&&locallyInside(t,e)&&(r=t,f=l),t=t.next;return r}function indexCurve(e,n,r,t){var i=e;do{null===i.z&&(i.z=zOrder(i.x,i.y,n,r,t)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,sortLinked(i)}function sortLinked(e){var n,r,t,i,x,a,o,l,u=1;do{for(r=e,e=null,x=null,a=0;r;){for(a++,t=r,o=0,n=0;n<u&&(o++,t=t.nextZ);n++);for(l=u;o>0||l>0&&t;)0===o?(i=t,t=t.nextZ,l--):0!==l&&t?r.z<=t.z?(i=r,r=r.nextZ,o--):(i=t,t=t.nextZ,l--):(i=r,r=r.nextZ,o--),x?x.nextZ=i:e=i,i.prevZ=x,x=i;r=t}x.nextZ=null,u*=2}while(a>1);return e}function zOrder(e,n,r,t,i){return e=32767*(e-r)/i,n=32767*(n-t)/i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),n=16711935&(n|n<<8),n=252645135&(n|n<<4),n=858993459&(n|n<<2),n=1431655765&(n|n<<1),e|n<<1}function getLeftmost(e){var n=e,r=e;do{n.x<r.x&&(r=n),n=n.next}while(n!==e);return r}function pointInTriangle(e,n,r,t,i,x,a,o){return(i-a)*(n-o)-(e-a)*(x-o)>=0&&(e-a)*(t-o)-(r-a)*(n-o)>=0&&(r-a)*(x-o)-(i-a)*(t-o)>=0}function isValidDiagonal(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!intersectsPolygon(e,n)&&locallyInside(e,n)&&locallyInside(n,e)&&middleInside(e,n)}function area(e,n,r){return(n.y-e.y)*(r.x-n.x)-(n.x-e.x)*(r.y-n.y)}function equals(e,n){return e.x===n.x&&e.y===n.y}function intersects(e,n,r,t){return!!(equals(e,n)&&equals(r,t)||equals(e,t)&&equals(r,n))||area(e,n,r)>0!=area(e,n,t)>0&&area(r,t,e)>0!=area(r,t,n)>0}function intersectsPolygon(e,n){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==n.i&&r.next.i!==n.i&&intersects(r,r.next,e,n))return!0;r=r.next}while(r!==e);return!1}function locallyInside(e,n){return area(e.prev,e,e.next)<0?area(e,n,e.next)>=0&&area(e,e.prev,n)>=0:area(e,n,e.prev)<0||area(e,e.next,n)<0}function middleInside(e,n){var r=e,t=!1,i=(e.x+n.x)/2,x=(e.y+n.y)/2;do{r.y>x!=r.next.y>x&&i<(r.next.x-r.x)*(x-r.y)/(r.next.y-r.y)+r.x&&(t=!t),r=r.next}while(r!==e);return t}function splitPolygon(e,n){var r=new Node(e.i,e.x,e.y),t=new Node(n.i,n.x,n.y),i=e.next,x=n.prev;return e.next=n,n.prev=e,r.next=i,i.prev=r,t.next=r,r.prev=t,x.next=t,t.prev=x,t}function insertNode(e,n,r,t){var i=new Node(e,n,r);return t?(i.next=t.next,i.prev=t,t.next.prev=i,t.next=i):(i.prev=i,i.next=i),i}function removeNode(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Node(e,n,r){this.i=e,this.x=n,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(e,n,r,t){for(var i=0,x=n,a=r-t;x<r;x+=t)i+=(e[a]-e[x])*(e[x+1]+e[a+1]),a=x;return i}module.exports=earcut,earcut.deviation=function(e,n,r,t){var i=n&&n.length,x=i?n[0]*r:e.length,a=Math.abs(signedArea(e,0,x,r));if(i)for(var o=0,l=n.length;o<l;o++){var u=n[o]*r,s=o<l-1?n[o+1]*r:e.length;a-=Math.abs(signedArea(e,u,s,r))}var v=0;for(o=0;o<t.length;o+=3){var f=t[o]*r,y=t[o+1]*r,d=t[o+2]*r;v+=Math.abs((e[f]-e[d])*(e[y+1]-e[f+1])-(e[f]-e[y])*(e[d+1]-e[f+1]))}return 0===a&&0===v?0:Math.abs((v-a)/a)},earcut.flatten=function(e){for(var n=e[0][0].length,r={vertices:[],holes:[],dimensions:n},t=0,i=0;i<e.length;i++){for(var x=0;x<e[i].length;x++)for(var a=0;a<n;a++)r.vertices.push(e[i][x][a]);i>0&&(t+=e[i-1].length,r.holes.push(t))}return r};

},{}],129:[function(require,module,exports){
"use strict";var Dms={};Dms.parseDMS=function(e){if("number"==typeof e&&isFinite(e))return Number(e);var r=String(e).trim().replace(/^-/,"").replace(/[NSEW]$/i,"").split(/[^0-9.,]+/);if(""==r[r.length-1]&&r.splice(r.length-1),""==r)return NaN;var s;switch(r.length){case 3:s=r[0]/1+r[1]/60+r[2]/3600;break;case 2:s=r[0]/1+r[1]/60;break;case 1:s=r[0];break;default:return NaN}return/^-|[WS]$/i.test(e.trim())&&(s=-s),Number(s)},Dms.separator="",Dms.toDMS=function(e,r,s){if(isNaN(e))return null;if(void 0===r&&(r="dms"),void 0===s)switch(r){case"d":case"deg":s=4;break;case"dm":case"deg+min":s=2;break;case"dms":case"deg+min+sec":s=0;break;default:r="dms",s=0}e=Math.abs(e);var t,a,o,i;switch(r){default:case"d":case"deg":a=e.toFixed(s),a<100&&(a="0"+a),a<10&&(a="0"+a),t=a+"";break;case"dm":case"deg+min":a=Math.floor(e),o=(60*e%60).toFixed(s),60==o&&(o=0,a++),a=("000"+a).slice(-3),o<10&&(o="0"+o),t=a+""+Dms.separator+o+"";break;case"dms":case"deg+min+sec":a=Math.floor(e),o=Math.floor(3600*e/60)%60,i=(3600*e%60).toFixed(s),60==i&&(i=(0).toFixed(s),o++),60==o&&(o=0,a++),a=("000"+a).slice(-3),o=("00"+o).slice(-2),i<10&&(i="0"+i),t=a+""+Dms.separator+o+""+Dms.separator+i+""}return t},Dms.toLat=function(e,r,s){var t=Dms.toDMS(e,r,s);return null===t?"":t.slice(1)+Dms.separator+(e<0?"S":"N")},Dms.toLon=function(e,r,s){var t=Dms.toDMS(e,r,s);return null===t?"":t+Dms.separator+(e<0?"W":"E")},Dms.toBrng=function(e,r,s){e=(Number(e)+360)%360;var t=Dms.toDMS(e,r,s);return null===t?"":t.replace("360","0")},Dms.compassPoint=function(e,r){void 0===r&&(r=3),e=(e%360+360)%360;var s=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],t=4*Math.pow(2,r-1);return s[Math.round(e*t/360)%t*16/t]},"undefined"!=typeof module&&module.exports&&(module.exports=Dms);

},{}],130:[function(require,module,exports){
"use strict";function LatLon(t,o,a){if(!(this instanceof LatLon))return new LatLon(t,o,a);void 0===a&&(a=LatLon.datum.WGS84),this.lat=Number(t),this.lon=Number(o),this.datum=a}if("undefined"!=typeof module&&module.exports)var Vector3d=require("./vector3d.js");if("undefined"!=typeof module&&module.exports)var Dms=require("./dms.js");LatLon.ellipsoid={WGS84:{a:6378137,b:6356752.314245,f:1/298.257223563},Airy1830:{a:6377563.396,b:6356256.909,f:1/299.3249646},AiryModified:{a:6377340.189,b:6356034.448,f:1/299.3249646},Bessel1841:{a:6377397.155,b:6356078.962818,f:1/299.1528128},Clarke1866:{a:6378206.4,b:6356583.8,f:1/294.978698214},Clarke1880IGN:{a:6378249.2,b:6356515,f:1/293.466021294},GRS80:{a:6378137,b:6356752.31414,f:1/298.257222101},Intl1924:{a:6378388,b:6356911.946,f:1/297},WGS72:{a:6378135,b:6356750.5,f:1/298.26}},LatLon.datum={ED50:{ellipsoid:LatLon.ellipsoid.Intl1924,transform:[89.5,93.8,123.1,-1.2,0,0,.156]},Irl1975:{ellipsoid:LatLon.ellipsoid.AiryModified,transform:[-482.53,130.596,-564.557,-8.15,-1.042,-.214,-.631]},NAD27:{ellipsoid:LatLon.ellipsoid.Clarke1866,transform:[8,-160,-176,0,0,0,0]},NAD83:{ellipsoid:LatLon.ellipsoid.GRS80,transform:[1.004,-1.91,-.515,-.0015,.0267,34e-5,.011]},NTF:{ellipsoid:LatLon.ellipsoid.Clarke1880IGN,transform:[168,60,-320,0,0,0,0]},OSGB36:{ellipsoid:LatLon.ellipsoid.Airy1830,transform:[-446.448,125.157,-542.06,20.4894,-.1502,-.247,-.8421]},Potsdam:{ellipsoid:LatLon.ellipsoid.Bessel1841,transform:[-582,-105,-414,-8.3,1.04,.35,-3.08]},TokyoJapan:{ellipsoid:LatLon.ellipsoid.Bessel1841,transform:[148,-507,-685,0,0,0,0]},WGS72:{ellipsoid:LatLon.ellipsoid.WGS72,transform:[0,0,-4.5,-.22,0,0,.554]},WGS84:{ellipsoid:LatLon.ellipsoid.WGS84,transform:[0,0,0,0,0,0,0]}},LatLon.prototype.convertDatum=function(t){var o=this,a=null;if(o.datum==LatLon.datum.WGS84&&(a=t.transform),t==LatLon.datum.WGS84){a=[];for(var e=0;e<7;e++)a[e]=-o.datum.transform[e]}return null==a&&(o=this.convertDatum(LatLon.datum.WGS84),a=t.transform),o.toCartesian().applyTransform(a).toLatLonE(t)},LatLon.prototype.toCartesian=function(){var t=this.lat.toRadians(),o=this.lon.toRadians(),a=this.datum.ellipsoid.a,e=this.datum.ellipsoid.f,i=Math.sin(t),r=Math.cos(t),s=Math.sin(o),n=Math.cos(o),l=2*e-e*e,d=a/Math.sqrt(1-l*i*i);return new Vector3d((d+0)*r*n,(d+0)*r*s,(d*(1-l)+0)*i)},Vector3d.prototype.toLatLonE=function(t){var o=this.x,a=this.y,e=this.z,i=t.ellipsoid.a,r=t.ellipsoid.b,s=t.ellipsoid.f,n=2*s-s*s,l=n/(1-n),d=Math.sqrt(o*o+a*a),p=Math.sqrt(d*d+e*e),L=r*e/(i*d)*(1+l*r/p),u=L/Math.sqrt(1+L*L),f=u/L,m=isNaN(f)?0:Math.atan2(e+l*r*u*u*u,d-n*i*f*f*f),h=Math.atan2(a,o),c=Math.sin(m);Math.cos(m),Math.sqrt(1-n*c*c);return new LatLon(m.toDegrees(),h.toDegrees(),t)},Vector3d.prototype.applyTransform=function(t){var o=this.x,a=this.y,e=this.z,i=t[0],r=t[1],s=t[2],n=t[3]/1e6+1,l=(t[4]/3600).toRadians(),d=(t[5]/3600).toRadians(),p=(t[6]/3600).toRadians();return new Vector3d(i+o*n-a*p+e*d,r+o*p+a*n-e*l,s-o*d+a*l+e*n)},LatLon.prototype.toString=function(t,o){return Dms.toLat(this.lat,t,o)+", "+Dms.toLon(this.lon,t,o)},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),"undefined"!=typeof module&&module.exports&&(module.exports=LatLon,module.exports.Vector3d=Vector3d);

},{"./dms.js":129,"./vector3d.js":138}],131:[function(require,module,exports){
"use strict";function LatLon(t,a){if(!(this instanceof LatLon))return new LatLon(t,a);this.lat=Number(t),this.lon=Number(a)}if("undefined"!=typeof module&&module.exports)var Dms=require("./dms");LatLon.prototype.distanceTo=function(t,a){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");a=void 0===a?6371e3:Number(a);var n=a,o=this.lat.toRadians(),s=this.lon.toRadians(),i=t.lat.toRadians(),h=t.lon.toRadians(),e=i-o,r=h-s,M=Math.sin(e/2)*Math.sin(e/2)+Math.cos(o)*Math.cos(i)*Math.sin(r/2)*Math.sin(r/2);return n*(2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M)))},LatLon.prototype.bearingTo=function(t){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");var a=this.lat.toRadians(),n=t.lat.toRadians(),o=(t.lon-this.lon).toRadians(),s=Math.sin(o)*Math.cos(n),i=Math.cos(a)*Math.sin(n)-Math.sin(a)*Math.cos(n)*Math.cos(o);return(Math.atan2(s,i).toDegrees()+360)%360},LatLon.prototype.finalBearingTo=function(t){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");return(t.bearingTo(this)+180)%360},LatLon.prototype.midpointTo=function(t){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");var a=this.lat.toRadians(),n=this.lon.toRadians(),o=t.lat.toRadians(),s=(t.lon-this.lon).toRadians(),i=Math.cos(o)*Math.cos(s),h=Math.cos(o)*Math.sin(s),e=Math.sqrt((Math.cos(a)+i)*(Math.cos(a)+i)+h*h),r=Math.sin(a)+Math.sin(o),M=Math.atan2(r,e),c=n+Math.atan2(h,Math.cos(a)+i);return new LatLon(M.toDegrees(),(c.toDegrees()+540)%360-180)},LatLon.prototype.intermediatePointTo=function(t,a){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");var n=this.lat.toRadians(),o=this.lon.toRadians(),s=t.lat.toRadians(),i=t.lon.toRadians(),h=Math.sin(n),e=Math.cos(n),r=Math.sin(o),M=Math.cos(o),c=Math.sin(s),L=Math.cos(s),u=Math.sin(i),l=Math.cos(i),d=s-n,p=i-o,f=Math.sin(d/2)*Math.sin(d/2)+Math.cos(n)*Math.cos(s)*Math.sin(p/2)*Math.sin(p/2),b=2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),R=Math.sin((1-a)*b)/Math.sin(b),g=Math.sin(a*b)/Math.sin(b),v=R*e*M+g*L*l,T=R*e*r+g*L*u,m=R*h+g*c,w=Math.atan2(m,Math.sqrt(v*v+T*T)),y=Math.atan2(T,v);return new LatLon(w.toDegrees(),(y.toDegrees()+540)%360-180)},LatLon.prototype.destinationPoint=function(t,a,n){n=void 0===n?6371e3:Number(n);var o=Number(t)/n,s=Number(a).toRadians(),i=this.lat.toRadians(),h=this.lon.toRadians(),e=Math.sin(i),r=Math.cos(i),M=Math.sin(o),c=Math.cos(o),L=Math.sin(s),u=Math.cos(s),l=e*c+r*M*u,d=Math.asin(l),p=L*M*r,f=c-e*l,b=h+Math.atan2(p,f);return new LatLon(d.toDegrees(),(b.toDegrees()+540)%360-180)},LatLon.intersection=function(t,a,n,o){if(!(t instanceof LatLon))throw new TypeError("p1 is not LatLon object");if(!(n instanceof LatLon))throw new TypeError("p2 is not LatLon object");var s=t.lat.toRadians(),i=t.lon.toRadians(),h=n.lat.toRadians(),e=n.lon.toRadians(),r=Number(a).toRadians(),M=Number(o).toRadians(),c=h-s,L=e-i,u=2*Math.asin(Math.sqrt(Math.sin(c/2)*Math.sin(c/2)+Math.cos(s)*Math.cos(h)*Math.sin(L/2)*Math.sin(L/2)));if(0==u)return null;var l=Math.acos((Math.sin(h)-Math.sin(s)*Math.cos(u))/(Math.sin(u)*Math.cos(s)));isNaN(l)&&(l=0);var d=Math.acos((Math.sin(s)-Math.sin(h)*Math.cos(u))/(Math.sin(u)*Math.cos(h))),p=Math.sin(e-i)>0?l:2*Math.PI-l,f=Math.sin(e-i)>0?2*Math.PI-d:d,b=r-p,R=f-M;if(0==Math.sin(b)&&0==Math.sin(R))return null;if(Math.sin(b)*Math.sin(R)<0)return null;var g=Math.acos(-Math.cos(b)*Math.cos(R)+Math.sin(b)*Math.sin(R)*Math.cos(u)),v=Math.atan2(Math.sin(u)*Math.sin(b)*Math.sin(R),Math.cos(R)+Math.cos(b)*Math.cos(g)),T=Math.asin(Math.sin(s)*Math.cos(v)+Math.cos(s)*Math.sin(v)*Math.cos(r)),m=Math.atan2(Math.sin(r)*Math.sin(v)*Math.cos(s),Math.cos(v)-Math.sin(s)*Math.sin(T)),w=i+m;return new LatLon(T.toDegrees(),(w.toDegrees()+540)%360-180)},LatLon.prototype.crossTrackDistanceTo=function(t,a,n){if(!(t instanceof LatLon))throw new TypeError("pathStart is not LatLon object");if(!(a instanceof LatLon))throw new TypeError("pathEnd is not LatLon object");var o=void 0===n?6371e3:Number(n),s=t.distanceTo(this,o)/o,i=t.bearingTo(this).toRadians(),h=t.bearingTo(a).toRadians();return Math.asin(Math.sin(s)*Math.sin(i-h))*o},LatLon.prototype.alongTrackDistanceTo=function(t,a,n){if(!(t instanceof LatLon))throw new TypeError("pathStart is not LatLon object");if(!(a instanceof LatLon))throw new TypeError("pathEnd is not LatLon object");var o=void 0===n?6371e3:Number(n),s=t.distanceTo(this,o)/o,i=t.bearingTo(this).toRadians(),h=t.bearingTo(a).toRadians(),e=Math.asin(Math.sin(s)*Math.sin(i-h));return Math.acos(Math.cos(s)/Math.abs(Math.cos(e)))*Math.sign(Math.cos(h-i))*o},LatLon.prototype.maxLatitude=function(t){var a=Number(t).toRadians(),n=this.lat.toRadians();return Math.acos(Math.abs(Math.sin(a)*Math.cos(n))).toDegrees()},LatLon.crossingParallels=function(t,a,n){var o=Number(n).toRadians(),s=t.lat.toRadians(),i=t.lon.toRadians(),h=a.lat.toRadians(),e=a.lon.toRadians(),r=e-i,M=Math.sin(s)*Math.cos(h)*Math.cos(o)*Math.sin(r),c=Math.sin(s)*Math.cos(h)*Math.cos(o)*Math.cos(r)-Math.cos(s)*Math.sin(h)*Math.cos(o),L=Math.cos(s)*Math.cos(h)*Math.sin(o)*Math.sin(r);if(L*L>M*M+c*c)return null;var u=Math.atan2(-c,M),l=Math.acos(L/Math.sqrt(M*M+c*c)),d=i+u-l,p=i+u+l;return{lon1:(d.toDegrees()+540)%360-180,lon2:(p.toDegrees()+540)%360-180}},LatLon.prototype.rhumbDistanceTo=function(t,a){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");a=void 0===a?6371e3:Number(a);var n=a,o=this.lat.toRadians(),s=t.lat.toRadians(),i=s-o,h=Math.abs(t.lon-this.lon).toRadians();h>Math.PI&&(h-=2*Math.PI);var e=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),r=Math.abs(e)>1e-11?i/e:Math.cos(o);return Math.sqrt(i*i+r*r*h*h)*n},LatLon.prototype.rhumbBearingTo=function(t){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");var a=this.lat.toRadians(),n=t.lat.toRadians(),o=(t.lon-this.lon).toRadians();o>Math.PI&&(o-=2*Math.PI),o<-Math.PI&&(o+=2*Math.PI);var s=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(a/2+Math.PI/4));return(Math.atan2(o,s).toDegrees()+360)%360},LatLon.prototype.rhumbDestinationPoint=function(t,a,n){n=void 0===n?6371e3:Number(n);var o=Number(t)/n,s=this.lat.toRadians(),i=this.lon.toRadians(),h=Number(a).toRadians(),e=o*Math.cos(h),r=s+e;Math.abs(r)>Math.PI/2&&(r=r>0?Math.PI-r:-Math.PI-r);var M=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),c=Math.abs(M)>1e-11?e/M:Math.cos(s),L=o*Math.sin(h)/c,u=i+L;return new LatLon(r.toDegrees(),(u.toDegrees()+540)%360-180)},LatLon.prototype.rhumbMidpointTo=function(t){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");var a=this.lat.toRadians(),n=this.lon.toRadians(),o=t.lat.toRadians(),s=t.lon.toRadians();Math.abs(s-n)>Math.PI&&(n+=2*Math.PI);var i=(a+o)/2,h=Math.tan(Math.PI/4+a/2),e=Math.tan(Math.PI/4+o/2),r=Math.tan(Math.PI/4+i/2),M=((s-n)*Math.log(r)+n*Math.log(e)-s*Math.log(h))/Math.log(e/h);return isFinite(M)||(M=(n+s)/2),LatLon(i.toDegrees(),(M.toDegrees()+540)%360-180)},LatLon.areaOf=function(t,a){var n=void 0===a?6371e3:Number(a),o=t[0].equals(t[t.length-1]);o||t.push(t[0]);for(var s=t.length-1,i=0,h=0;h<s;h++){var e=t[h].lat.toRadians(),r=t[h+1].lat.toRadians(),M=(t[h+1].lon-t[h].lon).toRadians();i+=2*Math.atan2(Math.tan(M/2)*(Math.tan(e/2)+Math.tan(r/2)),1+Math.tan(e/2)*Math.tan(r/2))}(function(t){for(var a=0,n=t[0].bearingTo(t[1]),o=0;o<t.length-1;o++){var s=t[o].bearingTo(t[o+1]),i=t[o].finalBearingTo(t[o+1]);a+=(s-n+540)%360-180,a+=(i-s+540)%360-180,n=i}var s=t[0].bearingTo(t[1]);return a+=(s-n+540)%360-180,Math.abs(a)<90})(t)&&(i=Math.abs(i)-2*Math.PI);var c=Math.abs(i*n*n);return o||t.pop(),c},LatLon.prototype.equals=function(t){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");return this.lat==t.lat&&this.lon==t.lon},LatLon.prototype.toString=function(t,a){return Dms.toLat(this.lat,t,a)+", "+Dms.toLon(this.lon,t,a)},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),"undefined"!=typeof module&&module.exports&&(module.exports=LatLon);
},{"./dms":129}],132:[function(require,module,exports){
"use strict";function LatLon(t,o){if(!(this instanceof LatLon))return new LatLon(t,o);this.lat=Number(t),this.lon=Number(o)}if("undefined"!=typeof module&&module.exports)var Vector3d=require("./vector3d.js");if("undefined"!=typeof module&&module.exports)var Dms=require("./dms.js");LatLon.prototype.toVector=function(){var t=this.lat.toRadians(),o=this.lon.toRadians(),n=Math.cos(t)*Math.cos(o),e=Math.cos(t)*Math.sin(o),r=Math.sin(t);return new Vector3d(n,e,r)},Vector3d.prototype.toLatLonS=function(){var t=Math.atan2(this.z,Math.sqrt(this.x*this.x+this.y*this.y)),o=Math.atan2(this.y,this.x);return new LatLon(t.toDegrees(),o.toDegrees())},LatLon.prototype.greatCircle=function(t){var o=this.lat.toRadians(),n=this.lon.toRadians(),e=Number(t).toRadians(),r=Math.sin(n)*Math.cos(e)-Math.sin(o)*Math.cos(n)*Math.sin(e),a=-Math.cos(n)*Math.cos(e)-Math.sin(o)*Math.sin(n)*Math.sin(e),s=Math.cos(o)*Math.sin(e);return new Vector3d(r,a,s)},Vector3d.prototype.greatCircle=function(t){var o=Number(t).toRadians(),n=new Vector3d(0,0,1),e=n.cross(this),r=this.cross(e),a=e.times(Math.cos(o)/e.length());return r.times(Math.sin(o)/r.length()).minus(a)},LatLon.prototype.distanceTo=function(t,o){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");o=void 0===o?6371e3:Number(o);var n=this.toVector(),e=t.toVector();return n.angleTo(e)*o},LatLon.prototype.bearingTo=function(t){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");var o=this.toVector(),n=t.toVector(),e=new Vector3d(0,0,1),r=o.cross(n),a=o.cross(e);return(r.angleTo(a,o).toDegrees()+360)%360},LatLon.prototype.midpointTo=function(t){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");var o=this.toVector(),n=t.toVector();return o.plus(n).unit().toLatLonS()},LatLon.prototype.intermediatePointTo=function(t,o){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");var n=this.toVector(),e=t.toVector(),r=n.cross(e).length(),a=n.dot(e),s=Math.atan2(r,a),i=s*Number(o),c=Math.sin(i),L=Math.cos(i),u=n.cross(e).unit().cross(n),h=n.times(L).plus(u.times(c));return new Vector3d(h.x,h.y,h.z).toLatLonS()},LatLon.prototype.intermediatePointOnChordTo=function(t,o){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");var n=this.toVector(),e=t.toVector(),r=n.plus(e.minus(n).times(Number(o)));return new Vector3d(r.x,r.y,r.z).toLatLonS()},LatLon.prototype.destinationPoint=function(t,o,n){n=void 0===n?6371e3:Number(n);var e=this.toVector(),r=Number(t)/n,a=Number(o).toRadians(),s=new Vector3d(0,0,1),i=s.cross(e).unit(),c=e.cross(i),L=i.times(Math.sin(a)),u=c.times(Math.cos(a)),h=u.plus(L),p=e.times(Math.cos(r)),d=h.times(Math.sin(r));return p.plus(d).toLatLonS()},LatLon.intersection=function(t,o,n,e){if(!(t instanceof LatLon))throw new TypeError("path1start is not LatLon object");if(!(n instanceof LatLon))throw new TypeError("path2start is not LatLon object");if(!(o instanceof LatLon)&&isNaN(o))throw new TypeError("path1brngEnd is not LatLon object or bearing");if(!(e instanceof LatLon)&&isNaN(e))throw new TypeError("path2brngEnd is not LatLon object or bearing");var r,a,s,i,c=t.toVector(),L=n.toVector();o instanceof LatLon?(r=c.cross(o.toVector()),s="endpoint"):(r=t.greatCircle(Number(o)),s="bearing"),e instanceof LatLon?(a=L.cross(e.toVector()),i="endpoint"):(a=n.greatCircle(Number(e)),i="bearing");var u=r.cross(a),h=a.cross(r),p=null,d=null,f=null;switch(s+"+"+i){case"bearing+bearing":switch(d=Math.sign(r.cross(c).dot(u)),f=Math.sign(a.cross(L).dot(u)),d+f){case 2:p=u;break;case-2:p=h;break;case 0:p=c.plus(L).dot(u)>0?h:u}break;case"bearing+endpoint":d=Math.sign(r.cross(c).dot(u)),p=d>0?u:h;break;case"endpoint+bearing":f=Math.sign(a.cross(L).dot(u)),p=f>0?u:h;break;case"endpoint+endpoint":p=c.plus(L).plus(o.toVector()).plus(e.toVector()).dot(u)>0?u:h}return p.toLatLonS()},LatLon.prototype.crossTrackDistanceTo=function(t,o,n){if(!(t instanceof LatLon))throw new TypeError("pathStart is not LatLon object");var e=void 0===n?6371e3:Number(n),r=this.toVector();return((o instanceof LatLon?t.toVector().cross(o.toVector()):t.greatCircle(Number(o))).angleTo(r)-Math.PI/2)*e},LatLon.prototype.alongTrackDistanceTo=function(t,o,n){if(!(t instanceof LatLon))throw new TypeError("pathStart is not LatLon object");var e=void 0===n?6371e3:Number(n),r=this.toVector(),a=o instanceof LatLon?t.toVector().cross(o.toVector()):t.greatCircle(Number(o)),s=a.cross(r).cross(a);return t.toVector().angleTo(s,a)*e},LatLon.prototype.nearestPointOnSegment=function(t,o){var n=null;if(this.isBetween(t,o)){var e=this.toVector(),r=t.toVector(),a=o.toVector(),s=r.cross(a),i=e.cross(s);n=s.cross(i).toLatLonS()}else{n=this.distanceTo(t)<this.distanceTo(o)?t:o}return n},LatLon.prototype.isBetween=function(t,o){var n=this.toVector(),e=t.toVector(),r=o.toVector(),a=n.minus(e),s=r.minus(e),i=n.minus(r),c=e.minus(r),L=a.dot(s),u=i.dot(c),h=L>=0&&u>=0,p=n.dot(e)>=0&&n.dot(r)>=0;return h&&p},LatLon.prototype.enclosedBy=function(t){var o=t[0].equals(t[t.length-1]);o||t.push(t[0]);for(var n=t.length-1,e=this.toVector(),r=[],a=0;a<n;a++)r[a]=e.minus(t[a].toVector());r.push(r[0]);for(var s=0,a=0;a<n;a++)s+=r[a].angleTo(r[a+1],e);var i=Math.abs(s)>Math.PI;return o||t.pop(),i},LatLon.areaOf=function(t,o){var n=void 0==o?6371e3:Number(o),e=t[0].equals(t[t.length-1]);e||t.push(t[0]);for(var r=t.length-1,a=[],s=0;s<r;s++){var i=t[s].toVector(),c=t[s+1].toVector();a[s]=i.cross(c)}a.push(a[0]);for(var L=t[0].toVector(),u=0,s=0;s<r;s++)u+=a[s].angleTo(a[s+1],L);var h=r*Math.PI-Math.abs(u),p=h-(r-2)*Math.PI,d=p*n*n;return e||t.pop(),d},LatLon.meanOf=function(t){for(var o=new Vector3d(0,0,0),n=0;n<t.length;n++)o=o.plus(t[n].toVector());return o.unit().toLatLonS()},LatLon.prototype.equals=function(t){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");return this.lat==t.lat&&this.lon==t.lon},LatLon.prototype.toString=function(t,o){return Dms.toLat(this.lat,t,o)+", "+Dms.toLon(this.lon,t,o)},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),void 0===Math.sign&&(Math.sign=function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1}),"undefined"!=typeof module&&module.exports&&(module.exports=LatLon,module.exports.Vector3d=Vector3d);

},{"./dms.js":129,"./vector3d.js":138}],133:[function(require,module,exports){
"use strict";if("undefined"!=typeof module&&module.exports)var LatLon=require("./latlon-ellipsoidal.js");LatLon.prototype.distanceTo=function(t){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");try{return Number(this.inverse(t).distance.toFixed(3))}catch(t){return NaN}},LatLon.prototype.initialBearingTo=function(t){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");try{return Number(this.inverse(t).initialBearing.toFixed(9))}catch(t){return NaN}},LatLon.prototype.finalBearingTo=function(t){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");try{return Number(this.inverse(t).finalBearing.toFixed(9))}catch(t){return NaN}},LatLon.prototype.destinationPoint=function(t,a){return this.direct(Number(t),Number(a)).point},LatLon.prototype.finalBearingOn=function(t,a){return Number(this.direct(Number(t),Number(a)).finalBearing.toFixed(9))},LatLon.prototype.direct=function(t,a){var e,o,n,i,r,s=this.lat.toRadians(),h=this.lon.toRadians(),u=a.toRadians(),d=t,l=this.datum.ellipsoid.a,p=this.datum.ellipsoid.b,M=this.datum.ellipsoid.f,c=Math.sin(u),f=Math.cos(u),L=(1-M)*Math.tan(s),m=1/Math.sqrt(1+L*L),N=L*m,b=Math.atan2(L,f),y=m*c,g=1-y*y,w=g*(l*l-p*p)/(p*p),v=1+w/16384*(4096+w*(w*(320-175*w)-768)),P=w/1024*(256+w*(w*(74-47*w)-128)),I=d/(p*v),B=0;do{e=Math.cos(2*b+I),o=Math.sin(I),n=Math.cos(I),i=P*o*(e+P/4*(n*(2*e*e-1)-P/6*e*(4*o*o-3)*(4*e*e-3))),r=I,I=d/(p*v)+i}while(Math.abs(I-r)>1e-12&&++B<100);if(B>=100)throw new Error("Formula failed to converge");var R=N*o-m*n*f,x=Math.atan2(N*n+m*o*f,(1-M)*Math.sqrt(y*y+R*R)),D=Math.atan2(o*c,m*n-N*o*f),q=M/16*g*(4+M*(4-3*g)),E=D-(1-q)*M*y*(I+q*o*(e+q*n*(2*e*e-1))),F=(h+E+3*Math.PI)%(2*Math.PI)-Math.PI,T=Math.atan2(y,-R);return T=(T+2*Math.PI)%(2*Math.PI),{point:new LatLon(x.toDegrees(),F.toDegrees(),this.datum),finalBearing:T.toDegrees(),iterations:B}},LatLon.prototype.inverse=function(t){var a=this,e=t;-180==a.lon&&(a.lon=180);var o,n,i,r,s,h,u=a.lat.toRadians(),d=a.lon.toRadians(),l=e.lat.toRadians(),p=e.lon.toRadians(),M=this.datum.ellipsoid.a,c=this.datum.ellipsoid.b,f=this.datum.ellipsoid.f,L=p-d,m=(1-f)*Math.tan(u),N=1/Math.sqrt(1+m*m),b=m*N,y=(1-f)*Math.tan(l),g=1/Math.sqrt(1+y*y),w=y*g,v=0,P=0,I=0,B=0,R=0,x=L,D=0;do{if(o=Math.sin(x),n=Math.cos(x),0==(i=g*o*(g*o)+(N*w-b*g*n)*(N*w-b*g*n)))break;if(v=Math.sqrt(i),P=b*w+N*g*n,I=Math.atan2(v,P),r=N*g*o/v,B=1-r*r,R=0!=B?P-2*b*w/B:0,s=f/16*B*(4+f*(4-3*B)),h=x,x=L+(1-s)*f*r*(I+s*v*(R+s*P*(2*R*R-1))),Math.abs(x)>Math.PI)throw new Error(" > ")}while(Math.abs(x-h)>1e-12&&++D<1e3);if(D>=1e3)throw new Error("Formula failed to converge");var q=B*(M*M-c*c)/(c*c),E=1+q/16384*(4096+q*(q*(320-175*q)-768)),F=q/1024*(256+q*(q*(74-47*q)-128)),T=F*v*(R+F/4*(P*(2*R*R-1)-F/6*R*(4*v*v-3)*(4*R*R-3))),j=c*E*(I-T),k=Math.atan2(g*o,N*w-b*g*n),O=Math.atan2(N*o,-b*g+N*w*n);return k=(k+2*Math.PI)%(2*Math.PI),O=(O+2*Math.PI)%(2*Math.PI),{distance:j,initialBearing:0==j?NaN:k.toDegrees(),finalBearing:0==j?NaN:O.toDegrees(),iterations:D}},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),"undefined"!=typeof module&&module.exports&&(module.exports=LatLon);

},{"./latlon-ellipsoidal.js":130}],134:[function(require,module,exports){
"use strict";function Mgrs(e,t,r,n,i,s,o){if(!(this instanceof Mgrs))return new Mgrs(e,t,r,n,i,s,o);if(void 0===o&&(o=LatLon.datum.WGS84),!(1<=e&&e<=60))throw new Error("Invalid MGRS grid reference (zone "+e+")");if(1!=t.length)throw new Error("Invalid MGRS grid reference (band "+t+")");if(-1==Mgrs.latBands.indexOf(t))throw new Error("Invalid MGRS grid reference (band "+t+")");if(1!=r.length)throw new Error("Invalid MGRS grid reference (e100k "+r+")");if(1!=n.length)throw new Error("Invalid MGRS grid reference (n100k "+n+")");this.zone=Number(e),this.band=t,this.e100k=r,this.n100k=n,this.easting=Number(i),this.northing=Number(s),this.datum=o}if("undefined"!=typeof module&&module.exports)var Utm=require("./utm.js");if("undefined"!=typeof module&&module.exports)var LatLon=require("./latlon-ellipsoidal.js");Mgrs.latBands="CDEFGHJKLMNPQRSTUVWXX",Mgrs.e100kLetters=["ABCDEFGH","JKLMNPQR","STUVWXYZ"],Mgrs.n100kLetters=["ABCDEFGHJKLMNPQRSTUV","FGHJKLMNPQRSTUVABCDE"],Utm.prototype.toMgrs=function(){if(isNaN(this.zone+this.easting+this.northing))throw new Error("Invalid UTM coordinate "+this.toString()+"");var e=this.zone,t=this.toLatLonE(),r=Mgrs.latBands.charAt(Math.floor(t.lat/8+10)),n=Math.floor(this.easting/1e5),i=Mgrs.e100kLetters[(e-1)%3].charAt(n-1),s=Math.floor(this.northing/1e5)%20,o=Mgrs.n100kLetters[(e-1)%2].charAt(s),h=this.easting%1e5,a=this.northing%1e5;return h=Number(h.toFixed(6)),a=Number(a.toFixed(6)),new Mgrs(e,r,i,o,h,a)},Mgrs.prototype.toUtm=function(){for(var e=this.zone,t=this.band,r=this.e100k,n=this.n100k,i=this.easting,s=this.northing,o=t>="N"?"N":"S",h=Mgrs.e100kLetters[(e-1)%3].indexOf(r)+1,a=1e5*h,l=Mgrs.n100kLetters[(e-1)%2].indexOf(n),d=1e5*l,g=8*(Mgrs.latBands.indexOf(t)-10),f=1e5*Math.floor(new LatLon(g,0).toUtm().northing/1e5),M=0;M+d+s<f;)M+=2e6;return new Utm(e,o,a+i,M+d+s,this.datum)},Mgrs.parse=function(e){if(e=e.trim(),!e.match(/\s/)){var t=e.slice(5);t=t.slice(0,t.length/2)+" "+t.slice(-t.length/2),e=e.slice(0,3)+" "+e.slice(3,5)+" "+t}if(null==(e=e.match(/\S+/g))||4!=e.length)throw new Error("Invalid MGRS grid reference "+e+"");var r=e[0],n=r.slice(0,2),i=r.slice(2,3),s=e[1],o=s.slice(0,1),h=s.slice(1,2),a=e[2],l=e[3];return a=a.length>=5?a:(a+"00000").slice(0,5),l=l.length>=5?l:(l+"00000").slice(0,5),new Mgrs(n,i,o,h,a,l)},Mgrs.prototype.toString=function(e){if(e=void 0===e?10:Number(e),-1==[2,4,6,8,10].indexOf(e))throw new Error("Invalid precision "+e+"");var t=("00"+this.zone).slice(-2),r=this.band,n=this.e100k,i=this.n100k,s=Math.floor(this.easting/Math.pow(10,5-e/2)),o=Math.floor(this.northing/Math.pow(10,5-e/2));return t+r+" "+n+i+" "+("00000"+s).slice(-e/2)+" "+("00000"+o).slice(-e/2)},"undefined"!=typeof module&&module.exports&&(module.exports=Mgrs);

},{"./latlon-ellipsoidal.js":130,"./utm.js":137}],135:[function(require,module,exports){
"use strict";exports.LatLonSpherical=require("./latlon-spherical.js"),exports.LatLonEllipsoidal=require("./latlon-ellipsoidal.js");var V=require("./latlon-vincenty.js");for(var prop in V)exports.LatLonEllipsoidal[prop]=V[prop];exports.LatLonVectors=require("./latlon-vectors.js"),exports.Vector3d=require("./vector3d.js"),exports.Utm=require("./utm.js"),exports.Mgrs=require("./mgrs.js"),exports.OsGridRef=require("./osgridref.js"),exports.Dms=require("./dms.js");

},{"./dms.js":129,"./latlon-ellipsoidal.js":130,"./latlon-spherical.js":131,"./latlon-vectors.js":132,"./latlon-vincenty.js":133,"./mgrs.js":134,"./osgridref.js":136,"./utm.js":137,"./vector3d.js":138}],136:[function(require,module,exports){
"use strict";function OsGridRef(t,e){if(!(this instanceof OsGridRef))return new OsGridRef(t,e);this.easting=Number(t),this.northing=Number(e)}if("undefined"!=typeof module&&module.exports)var LatLon=require("./latlon-ellipsoidal.js");OsGridRef.latLonToOsGrid=function(t){if(!(t instanceof LatLon))throw new TypeError("point is not LatLon object");t.datum!=LatLon.datum.OSGB36&&(t=t.convertDatum(LatLon.datum.OSGB36));var e=t.lat.toRadians(),r=t.lon.toRadians(),o=6377563.396,a=6356256.909,i=.9996012717,n=49..toRadians(),s=(-2).toRadians(),h=1-a*a/(o*o),d=(o-a)/(o+a),f=d*d,l=d*d*d,c=Math.cos(e),u=Math.sin(e),M=o*i/Math.sqrt(1-h*u*u),w=o*i*(1-h)/Math.pow(1-h*u*u,1.5),g=M/w-1,m=(1+d+5/4*f+5/4*l)*(e-n),v=(3*d+3*d*d+21/8*l)*Math.sin(e-n)*Math.cos(e+n),p=(15/8*f+15/8*l)*Math.sin(2*(e-n))*Math.cos(2*(e+n)),L=35/24*l*Math.sin(3*(e-n))*Math.cos(3*(e+n)),G=a*i*(m-v+p-L),R=c*c*c,O=R*c*c,A=Math.tan(e)*Math.tan(e),N=A*A,C=G+-1e5,E=M/2*u*c,S=M/24*u*R*(5-A+9*g),b=M/720*u*O*(61-58*A+N),x=M*c,I=M/6*R*(M/w-A),y=M/120*O*(5-18*A+N+14*g-58*A*g),B=r-s,D=B*B,F=D*B,T=F*B,j=T*B,q=j*B,U=C+E*D+S*T+b*q,$=4e5+x*B+I*F+y*j;return U=Number(U.toFixed(3)),$=Number($.toFixed(3)),new OsGridRef($,U)},OsGridRef.osGridToLatLon=function(t,e){if(!(t instanceof OsGridRef))throw new TypeError("gridref is not OsGridRef object");void 0===e&&(e=LatLon.datum.WGS84);var r=t.easting,o=t.northing,a=6377563.396,i=6356256.909,n=.9996012717,s=49..toRadians(),h=(-2).toRadians(),d=1-i*i/(a*a),f=(a-i)/(a+i),l=f*f,c=f*f*f,u=s,M=0;do{u=(o- -1e5-M)/(a*n)+u;M=i*n*((1+f+5/4*l+5/4*c)*(u-s)-(3*f+3*f*f+21/8*c)*Math.sin(u-s)*Math.cos(u+s)+(15/8*l+15/8*c)*Math.sin(2*(u-s))*Math.cos(2*(u+s))-35/24*c*Math.sin(3*(u-s))*Math.cos(3*(u+s)))}while(o- -1e5-M>=1e-5);var w=Math.cos(u),g=Math.sin(u),m=a*n/Math.sqrt(1-d*g*g),v=a*n*(1-d)/Math.pow(1-d*g*g,1.5),p=m/v-1,L=Math.tan(u),G=L*L,R=G*G,O=R*G,A=1/w,N=m*m*m,C=N*m*m,E=C*m*m,S=L/(2*v*m),b=L/(24*v*N)*(5+3*G+p-9*G*p),x=L/(720*v*C)*(61+90*G+45*R),I=A/m,y=A/(6*N)*(m/v+2*G),B=A/(120*C)*(5+28*G+24*R),D=A/(5040*E)*(61+662*G+1320*R+720*O),F=r-4e5,T=F*F,j=T*F,q=T*T,U=j*T,$=q*T,W=U*T;u=u-S*T+b*q-x*$;var Z=h+I*F-y*j+B*U-D*W,k=new LatLon(u.toDegrees(),Z.toDegrees(),LatLon.datum.OSGB36);return e!=LatLon.datum.OSGB36&&(k=k.convertDatum(e)),k},OsGridRef.parse=function(t){t=String(t).trim();var e=t.match(/^(\d+),\s*(\d+)$/);if(e)return new OsGridRef(e[1],e[2]);if(!(e=t.match(/^[A-Z]{2}\s*[0-9]+\s*[0-9]+$/i)))throw new Error("Invalid grid reference");var r=t.toUpperCase().charCodeAt(0)-"A".charCodeAt(0),o=t.toUpperCase().charCodeAt(1)-"A".charCodeAt(0);r>7&&r--,o>7&&o--;var a=(r-2)%5*5+o%5,i=19-5*Math.floor(r/5)-Math.floor(o/5),n=t.slice(2).trim().split(/\s+/);if(1==n.length&&(n=[n[0].slice(0,n[0].length/2),n[0].slice(n[0].length/2)]),a<0||a>6||i<0||i>12)throw new Error("Invalid grid reference");if(2!=n.length)throw new Error("Invalid grid reference");if(n[0].length!=n[1].length)throw new Error("Invalid grid reference");return n[0]=(n[0]+"00000").slice(0,5),n[1]=(n[1]+"00000").slice(0,5),new OsGridRef(a+n[0],i+n[1])},OsGridRef.prototype.toString=function(t){if(t=void 0===t?10:Number(t),isNaN(t)||t%2!=0||t>16)throw new RangeError("Invalid precision "+t+"");var e=this.easting,r=this.northing;if(isNaN(e)||isNaN(r))throw new Error("Invalid grid reference");if(0==t){var o=Math.floor(e),a=e-o,i=Math.floor(r),n=r-i;return("000000"+o).slice(-6)+(a>0?a.toFixed(3).slice(1):"")+","+((i<1e6?("000000"+i).slice(-6):i)+(n>0?n.toFixed(3).slice(1):""))}var s=Math.floor(e/1e5),h=Math.floor(r/1e5);if(s<0||s>6||h<0||h>12)return"";var d=19-h-(19-h)%5+Math.floor((s+10)/5),f=5*(19-h)%25+s%5;d>7&&d++,f>7&&f++;var l=String.fromCharCode(d+"A".charCodeAt(0),f+"A".charCodeAt(0));return e=Math.floor(e%1e5/Math.pow(10,5-t/2)),r=Math.floor(r%1e5/Math.pow(10,5-t/2)),e=("00000000"+e).slice(-t/2),r=("00000000"+r).slice(-t/2),l+" "+e+" "+r},"undefined"!=typeof module&&module.exports&&(module.exports=OsGridRef);

},{"./latlon-ellipsoidal.js":130}],137:[function(require,module,exports){
"use strict";function Utm(t,a,h,i,n,s,o){if(!(this instanceof Utm))return new Utm(t,a,h,i,n,s,o);if(void 0===n&&(n=LatLon.datum.WGS84),void 0===s&&(s=null),void 0===o&&(o=null),!(1<=t&&t<=60))throw new Error("Invalid UTM zone "+t);if(!a.match(/[NS]/i))throw new Error("Invalid UTM hemisphere "+a);this.zone=Number(t),this.hemisphere=a.toUpperCase(),this.easting=Number(h),this.northing=Number(i),this.datum=n,this.convergence=null===s?null:Number(s),this.scale=null===o?null:Number(o)}if("undefined"!=typeof module&&module.exports)var LatLon=require("./latlon-ellipsoidal.js");LatLon.prototype.toUtm=function(){if(isNaN(this.lat)||isNaN(this.lon))throw new Error("Invalid point");if(!(-80<=this.lat&&this.lat<=84))throw new Error("Outside UTM limits");var t=Math.floor((this.lon+180)/6)+1,a=(6*(t-1)-180+3).toRadians(),h="CDEFGHJKLMNPQRSTUVWXX",i=h.charAt(Math.floor(this.lat/8+10));31==t&&"V"==i&&this.lon>=3&&(t++,a+=6..toRadians()),32==t&&"X"==i&&this.lon<9&&(t--,a-=6..toRadians()),32==t&&"X"==i&&this.lon>=9&&(t++,a+=6..toRadians()),34==t&&"X"==i&&this.lon<21&&(t--,a-=6..toRadians()),34==t&&"X"==i&&this.lon>=21&&(t++,a+=6..toRadians()),36==t&&"X"==i&&this.lon<33&&(t--,a-=6..toRadians()),36==t&&"X"==i&&this.lon>=33&&(t++,a+=6..toRadians());for(var n=this.lat.toRadians(),s=this.lon.toRadians()-a,o=this.datum.ellipsoid.a,r=this.datum.ellipsoid.f,e=Math.sqrt(r*(2-r)),M=r/(2-r),l=M*M,d=M*l,u=M*d,m=M*u,c=M*m,f=Math.cos(s),v=Math.sin(s),N=Math.tan(s),p=Math.tan(n),q=Math.sinh(e*Math.atanh(e*p/Math.sqrt(1+p*p))),x=p*Math.sqrt(1+q*q)-q*Math.sqrt(1+p*p),g=Math.atan2(x,f),w=Math.asinh(v/Math.sqrt(x*x+f*f)),U=o/(1+M)*(1+.25*l+1/64*u+1/256*c),b=[null,.5*M-2/3*l+5/16*d+41/180*u-127/288*m+7891/37800*c,13/48*l-.6*d+557/1440*u+281/630*m-1983433/1935360*c,61/240*d-103/140*u+15061/26880*m+167603/181440*c,49561/161280*u-179/168*m+6601661/7257600*c,34729/80640*m-3418889/1995840*c,.6650675310896665*c],L=g,R=1;R<=6;R++)L+=b[R]*Math.sin(2*R*g)*Math.cosh(2*R*w);for(var F=w,R=1;R<=6;R++)F+=b[R]*Math.cos(2*R*g)*Math.sinh(2*R*w);for(var S=.9996*U*F,E=.9996*U*L,X=1,R=1;R<=6;R++)X+=2*R*b[R]*Math.cos(2*R*g)*Math.cosh(2*R*w);for(var z=0,R=1;R<=6;R++)z+=2*R*b[R]*Math.sin(2*R*g)*Math.sinh(2*R*w);var y=Math.atan(x/Math.sqrt(1+x*x)*N),D=Math.atan2(z,X),I=y+D,T=Math.sin(n),G=Math.sqrt(1-e*e*T*T)*Math.sqrt(1+p*p)/Math.sqrt(x*x+f*f),W=U/o*Math.sqrt(X*X+z*z),C=.9996*G*W;S+=5e5,E<0&&(E+=1e7),S=Number(S.toFixed(6)),E=Number(E.toFixed(6));var V=Number(I.toDegrees().toFixed(9)),j=Number(C.toFixed(12));return new Utm(t,this.lat>=0?"N":"S",S,E,this.datum,V,j)},Utm.prototype.toLatLonE=function(){var t=this.zone,a=this.hemisphere,h=this.easting,i=this.northing;if(isNaN(t)||isNaN(h)||isNaN(i))throw new Error("Invalid coordinate");var n=this.datum.ellipsoid.a,s=this.datum.ellipsoid.f;h-=5e5,i="S"==a?i-1e7:i;for(var o=Math.sqrt(s*(2-s)),r=s/(2-s),e=r*r,M=r*e,l=r*M,d=r*l,u=r*d,m=n/(1+r)*(1+.25*e+1/64*l+1/256*u),c=h/(.9996*m),f=i/(.9996*m),v=[null,.5*r-2/3*e+37/96*M-1/360*l-81/512*d+96199/604800*u,1/48*e+1/15*M-437/1440*l+46/105*d-1118711/3870720*u,17/480*M-37/840*l-209/4480*d+5569/90720*u,4397/161280*l-11/504*d-830251/7257600*u,4583/161280*d-108847/3991680*u,.03233083094085698*u],N=f,p=1;p<=6;p++)N-=v[p]*Math.sin(2*p*f)*Math.cosh(2*p*c);for(var q=c,p=1;p<=6;p++)q-=v[p]*Math.cos(2*p*f)*Math.sinh(2*p*c);var x=Math.sinh(q),g=Math.sin(N),w=Math.cos(N),U=g/Math.sqrt(x*x+w*w),b=U;do{var L=Math.sinh(o*Math.atanh(o*b/Math.sqrt(1+b*b))),R=b*Math.sqrt(1+L*L)-L*Math.sqrt(1+b*b),F=(U-R)/Math.sqrt(1+R*R)*(1+(1-o*o)*b*b)/((1-o*o)*Math.sqrt(1+b*b));b+=F}while(Math.abs(F)>1e-12);for(var S=b,E=Math.atan(S),X=Math.atan2(x,w),z=1,p=1;p<=6;p++)z-=2*p*v[p]*Math.cos(2*p*f)*Math.cosh(2*p*c);for(var y=0,p=1;p<=6;p++)y+=2*p*v[p]*Math.sin(2*p*f)*Math.sinh(2*p*c);var D=Math.atan(Math.tan(N)*Math.tanh(q)),I=Math.atan2(y,z),T=D+I,G=Math.sin(E),W=Math.sqrt(1-o*o*G*G)*Math.sqrt(1+S*S)*Math.sqrt(x*x+w*w),C=m/n/Math.sqrt(z*z+y*y),V=.9996*W*C;X+=(6*(t-1)-180+3).toRadians();var j=Number(E.toDegrees().toFixed(11)),A=Number(X.toDegrees().toFixed(11)),H=Number(T.toDegrees().toFixed(9)),J=Number(V.toFixed(12)),K=new LatLon(j,A,this.datum);return K.convergence=H,K.scale=J,K},Utm.parse=function(t,a){if(void 0===a&&(a=LatLon.datum.WGS84),null==(t=t.trim().match(/\S+/g))||4!=t.length)throw new Error("Invalid UTM coordinate "+t+"");return new Utm(t[0],t[1],t[2],t[3],a)},Utm.prototype.toString=function(t){t=Number(t||0);var a=this.zone<10?"0"+this.zone:this.zone,h=this.hemisphere,i=this.easting,n=this.northing;return isNaN(a)||!h.match(/[NS]/)||isNaN(i)||isNaN(n)?"":a+" "+h+" "+i.toFixed(t)+" "+n.toFixed(t)},void 0===Math.sinh&&(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),void 0===Math.cosh&&(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),void 0===Math.tanh&&(Math.tanh=function(t){return(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),void 0===Math.asinh&&(Math.asinh=function(t){return Math.log(t+Math.sqrt(1+t*t))}),void 0===Math.atanh&&(Math.atanh=function(t){return Math.log((1+t)/(1-t))/2}),"undefined"!=typeof module&&module.exports&&(module.exports=Utm);

},{"./latlon-ellipsoidal.js":130}],138:[function(require,module,exports){
"use strict";function Vector3d(t,o,e){if(!(this instanceof Vector3d))return new Vector3d(t,o,e);this.x=Number(t),this.y=Number(o),this.z=Number(e)}Vector3d.prototype.plus=function(t){if(!(t instanceof Vector3d))throw new TypeError("v is not Vector3d object");return new Vector3d(this.x+t.x,this.y+t.y,this.z+t.z)},Vector3d.prototype.minus=function(t){if(!(t instanceof Vector3d))throw new TypeError("v is not Vector3d object");return new Vector3d(this.x-t.x,this.y-t.y,this.z-t.z)},Vector3d.prototype.times=function(t){return t=Number(t),new Vector3d(this.x*t,this.y*t,this.z*t)},Vector3d.prototype.dividedBy=function(t){return t=Number(t),new Vector3d(this.x/t,this.y/t,this.z/t)},Vector3d.prototype.dot=function(t){if(!(t instanceof Vector3d))throw new TypeError("v is not Vector3d object");return this.x*t.x+this.y*t.y+this.z*t.z},Vector3d.prototype.cross=function(t){if(!(t instanceof Vector3d))throw new TypeError("v is not Vector3d object");return new Vector3d(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},Vector3d.prototype.negate=function(){return new Vector3d(-this.x,-this.y,-this.z)},Vector3d.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},Vector3d.prototype.unit=function(){var t=this.length();return 1==t?this:0==t?this:new Vector3d(this.x/t,this.y/t,this.z/t)},Vector3d.prototype.angleTo=function(t,o){if(!(t instanceof Vector3d))throw new TypeError("v is not Vector3d object");if(!(o instanceof Vector3d||void 0==o))throw new TypeError("n is not Vector3d object");var e=void 0==o?1:Math.sign(this.cross(t).dot(o)),r=this.cross(t).length()*e,i=this.dot(t);return Math.atan2(r,i)},Vector3d.prototype.rotateAround=function(t,o){if(!(t instanceof Vector3d))throw new TypeError("axis is not Vector3d object");for(var e=this.unit(),r=[e.x,e.y,e.z],i=t.unit(),n=Math.sin(o),s=Math.cos(o),c=[[i.x*i.x*(1-s)+s,i.x*i.y*(1-s)-i.z*n,i.x*i.z*(1-s)+i.y*n],[i.y*i.x*(1-s)+i.z*n,i.y*i.y*(1-s)+s,i.y*i.z*(1-s)-i.x*n],[i.z*i.x*(1-s)-i.y*n,i.z*i.y*(1-s)+i.x*n,i.z*i.z*(1-s)+s]],h=[0,0,0],d=0;d<3;d++)for(var y=0;y<3;y++)h[d]+=c[d][y]*r[y];return new Vector3d(h[0],h[1],h[2])},Vector3d.prototype.toString=function(t){var o=void 0===t?3:Number(t);return"["+this.x.toFixed(o)+","+this.y.toFixed(o)+","+this.z.toFixed(o)+"]"},void 0===Math.sign&&(Math.sign=function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1}),"undefined"!=typeof module&&module.exports&&(module.exports=Vector3d);

},{}],139:[function(require,module,exports){
function toArray(e){return e.length?Array.isArray(e[0])?e[0]:Array.prototype.slice.call(e):[]}function dissolvePolygons(e){var o={geoms:{type:"GeometryCollection",geometries:JSON.parse(JSON.stringify(e))}},r=createTopology(o);return mergeTopology(r,r.objects.geoms.geometries)}function getHomogenousType(e){for(var o=null,r=0;r<e.length;r++)if(o){if(o!==e[r].type)return null}else o=e[r].type;return o}function dissolve(){var e=toArray(arguments),o=e.reduce(function(e,o){var r=flatten(o);Array.isArray(r)||(r=[r]);for(var t=0;t<r.length;t++)geomEach(r[t],function(o){e.push(o)});return e},[]),r=getHomogenousType(o);if(!r)throw new Error("List does not contain only homoegenous GeoJSON");switch(r){case"LineString":return dissolveLineStrings(o);case"Polygon":return dissolvePolygons(o);default:return o}}var createTopology=require("topojson-server").topology,mergeTopology=require("topojson-client").merge,dissolveLineStrings=require("geojson-linestring-dissolve"),geomEach=require("@turf/meta").geomEach,flatten=require("geojson-flatten");module.exports=dissolve;

},{"@turf/meta":140,"geojson-flatten":142,"geojson-linestring-dissolve":143,"topojson-client":181,"topojson-server":182}],140:[function(require,module,exports){
arguments[4][60][0].apply(exports,arguments)
},{"dup":60}],141:[function(require,module,exports){
function explode(e){return e.coordinates.map(function(t){return{type:e.type.replace("Multi",""),coordinates:t}})}function sameLength(e,t){return e.hasOwnProperty("coordinates")?e.coordinates.length===t.coordinates.length:e.length===t.length}function objectComparator(e,t){return deepEqual(e,t,{strict:!0})}var deepEqual=require("deep-equal"),Equality=function(e){this.precision=e&&e.precision?e.precision:17,this.direction=!(!e||!e.direction)&&e.direction,this.pseudoNode=!(!e||!e.pseudoNode)&&e.pseudoNode,this.objectComparator=e&&e.objectComparator?e.objectComparator:objectComparator};Equality.prototype.compare=function(e,t){if(e.type!==t.type||!sameLength(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates,0,!1);case"Polygon":return this.comparePolygon(e,t);case"Feature":return this.compareFeature(e,t);default:if(0===e.type.indexOf("Multi")){var o=this,r=explode(e),i=explode(t);return r.every(function(e){return this.some(function(t){return o.compare(e,t)})},i)}}return!1},Equality.prototype.compareCoord=function(e,t){if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(e[o].toFixed(this.precision)!==t[o].toFixed(this.precision))return!1;return!0},Equality.prototype.compareLine=function(e,t,o,r){if(!sameLength(e,t))return!1;var i=this.pseudoNode?e:this.removePseudo(e),n=this.pseudoNode?t:this.removePseudo(t);if(!r||this.compareCoord(i[0],n[0])||(n=this.fixStartIndex(n,i))){var a=this.compareCoord(i[o],n[o]);return this.direction||a?this.comparePath(i,n):!!this.compareCoord(i[o],n[n.length-(1+o)])&&this.comparePath(i.slice().reverse(),n)}},Equality.prototype.fixStartIndex=function(e,t){for(var o,r=-1,i=0;i<e.length;i++)if(this.compareCoord(e[i],t[0])){r=i;break}return r>=0&&(o=[].concat(e.slice(r,e.length),e.slice(1,r+1))),o},Equality.prototype.comparePath=function(e,t){var o=this;return e.every(function(e,t){return o.compareCoord(e,this[t])},t)},Equality.prototype.comparePolygon=function(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){var o=e.coordinates.slice(1,e.coordinates.length),r=t.coordinates.slice(1,t.coordinates.length),i=this;return o.every(function(e){return this.some(function(t){return i.compareLine(e,t,1,!0)})},r)}return!1},Equality.prototype.compareFeature=function(e,t){return!(e.id!==t.id||!this.objectComparator(e.properties,t.properties)||!this.compareBBox(e,t))&&this.compare(e.geometry,t.geometry)},Equality.prototype.compareBBox=function(e,t){return!!(!e.bbox&&!t.bbox||e.bbox&&t.bbox&&this.compareCoord(e.bbox,t.bbox))},Equality.prototype.removePseudo=function(e){return e},module.exports=Equality;

},{"deep-equal":120}],142:[function(require,module,exports){
function flatten(e){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.reduce(function(e,t){return e.concat(flatten(t))},[]),e;case"Feature":return e.geometry?flatten(e.geometry).map(function(t){return{type:"Feature",properties:JSON.parse(JSON.stringify(e.properties)),geometry:t}}):e;case"MultiPoint":return e.coordinates.map(function(e){return{type:"Point",coordinates:e}});case"MultiPolygon":return e.coordinates.map(function(e){return{type:"Polygon",coordinates:e}});case"MultiLineString":return e.coordinates.map(function(e){return{type:"LineString",coordinates:e}});case"GeometryCollection":return e.geometries.map(flatten).reduce(function(e,t){return e.concat(t)},[]);case"Point":case"Polygon":case"LineString":return[e]}}module.exports=flatten;

},{}],143:[function(require,module,exports){
function coordId(e){return e[0].toString()+","+e[1].toString()}function mergeLineStrings(e,o){var r,n=coordId(e.coordinates[0]),t=coordId(e.coordinates[e.coordinates.length-1]),i=coordId(o.coordinates[0]),c=coordId(o.coordinates[o.coordinates.length-1]);if(n===c)r=o.coordinates.concat(e.coordinates.slice(1));else if(i===t)r=e.coordinates.concat(o.coordinates.slice(1));else if(n===i)r=e.coordinates.slice(1).reverse().concat(o.coordinates);else{if(t!==c)return null;r=e.coordinates.concat(o.coordinates.reverse().slice(1))}return{type:"LineString",coordinates:r}}function mergeViableLineStrings(e){for(var o=e.slice(),r=[];o.length>0;){var n=o.shift();o=o.reduce(function(e,o){var r=mergeLineStrings(n,o);return r?n=r:e.push(o),e},[]),r.push(n)}return r=1===r.length?r[0]:{type:"MultiLineString",coordinates:r.map(function(e){return e.coordinates})}}module.exports=mergeViableLineStrings;
},{}],144:[function(require,module,exports){
function intersect(r,e,a,n){if(equalArrays(r,a)||equalArrays(r,n)||equalArrays(e,a)||equalArrays(n,a))return null;var t=r[0],u=r[1],i=e[0],o=e[1],f=a[0],l=a[1],s=n[0],v=n[1],h=(t-i)*(l-v)-(u-o)*(f-s);return 0==h?null:[((t*o-u*i)*(f-s)-(t-i)*(f*v-l*s))/h,((t*o-u*i)*(l-v)-(u-o)*(f*v-l*s))/h]}function equalArrays(r,e){if(!r||!e)return!1;if(r.length!=e.length)return!1;for(var a=0,n=r.length;a<n;a++)if(r[a]instanceof Array&&e[a]instanceof Array){if(!equalArrays(r[a],e[a]))return!1}else if(r[a]!=e[a])return!1;return!0}var rbush=require("rbush");module.exports=function(r,e,a){function n(r,a,n,t){var f=u[r][a],l=u[r][a+1],s=u[n][t],v=u[n][t+1],h=intersect(f,l,s,v);if(null!=h){if(l[0]!=f[0])var g=(h[0]-f[0])/(l[0]-f[0]);else var g=(h[1]-f[1])/(l[1]-f[1]);if(v[0]!=s[0])var y=(h[0]-s[0])/(v[0]-s[0]);else var y=(h[1]-s[1])/(v[1]-s[1]);if(!(g>=1||g<=0||y>=1||y<=0)){var c=h,m=!o[c];m&&(o[c]=!0),e?i.push(e(h,r,a,f,l,g,n,t,s,v,y,m)):i.push(h)}}}function t(r,e){var a=u[r][e],n=u[r][e+1];if(a[0]<n[0])var t=a[0],i=n[0];else var t=n[0],i=a[0];if(a[1]<n[1])var o=a[1],f=n[1];else var o=n[1],f=a[1];return{minX:t,minY:o,maxX:i,maxY:f,ring:r,edge:e}}if("Polygon"!=r.geometry.type)throw new Error("The input feature must be a Polygon");void 0==a&&(a=1);var u=r.geometry.coordinates,i=[],o={};if(a){for(var f=[],l=0;l<u.length;l++)for(var s=0;s<u[l].length-1;s++)f.push(t(l,s));var v=rbush();v.load(f)}for(var l=0;l<u.length;l++)for(var s=0;s<u[l].length-1;s++)if(a){var h=v.search(t(l,s));h.forEach(function(r){var e=r.ring,a=r.edge;n(l,s,e,a)})}else for(var g=0;g<u.length;g++)for(var y=0;y<u[g].length-1;y++)n(l,s,g,y);return e||(i={type:"Feature",geometry:{type:"MultiPoint",coordinates:i}}),i};

},{"rbush":167}],145:[function(require,module,exports){
function position(n){return n?coordInBBBOX(n):[lon(),lat()]}function vertexToCoordinate(n){return function(o,t){return[o[0]+n[0],o[1]+n[1]]}}function rnd(){return Math.random()-.5}function lon(){return 360*rnd()}function lat(){return 180*rnd()}function point(n){return{type:"Point",coordinates:n||[lon(),lat()]}}function coordInBBBOX(n){return[Math.random()*(n[2]-n[0])+n[0],Math.random()*(n[3]-n[1])+n[1]]}function pointInBBBOX(){return{type:"Point",coordinates:[lon(),lat()]}}function polygon(n){return{type:"Polygon",coordinates:n}}function feature(n){return{type:"Feature",geometry:n,properties:{}}}function collection(n){return{type:"FeatureCollection",features:n}}module.exports=function(){throw new Error("call .point() or .polygon() instead")},module.exports.position=position,module.exports.point=function(n,o){var t=[];for(i=0;i<n;i++)t.push(feature(o?point(position(o)):point()));return collection(t)},module.exports.polygon=function(n,o,t,r){function e(n,o,t){t[o]=o>0?n+t[o-1]:n}function u(n,o){n=2*n*Math.PI/c[c.length-1];var r=Math.random();p.push([r*t*Math.sin(n),r*t*Math.cos(n)])}"number"!=typeof o&&(o=10),"number"!=typeof t&&(t=10);var a=[];for(i=0;i<n;i++){var p=[],c=Array.apply(null,new Array(o+1)).map(Math.random);c.forEach(e),c.forEach(u),p[p.length-1]=p[0],p=p.map(vertexToCoordinate(position(r))),a.push(feature(polygon([p])))}return collection(a)};

},{}],146:[function(require,module,exports){
function bboxPolygon(r){var o=[r[0],r[1]],t=[r[0],r[3]],e=[r[2],r[3]];return{type:"Feature",bbox:r,properties:{},geometry:{type:"Polygon",coordinates:[[o,[r[2],r[1]],e,t,o]]}}}function turfBBox(r){var o=[1/0,1/0,-1/0,-1/0];return coordEach(r,function(r){o[0]>r[0]&&(o[0]=r[0]),o[1]>r[1]&&(o[1]=r[1]),o[2]<r[0]&&(o[2]=r[0]),o[3]<r[1]&&(o[3]=r[1])}),o}var rbush=require("rbush"),meta=require("@turf/meta"),featureEach=meta.featureEach,coordEach=meta.coordEach;module.exports=function(r){var o=rbush(r);return o.insert=function(r){if(Array.isArray(r)){var o=r;r=bboxPolygon(o),r.bbox=o}else r.bbox=r.bbox?r.bbox:turfBBox(r);return rbush.prototype.insert.call(this,r)},o.load=function(r){var o=[];return Array.isArray(r)?r.forEach(function(r){var t=bboxPolygon(r);t.bbox=r,o.push(t)}):featureEach(r,function(r){r.bbox=r.bbox?r.bbox:turfBBox(r),o.push(r)}),rbush.prototype.load.call(this,o)},o.remove=function(r){if(Array.isArray(r)){var o=r;r=bboxPolygon(o),r.bbox=o}return rbush.prototype.remove.call(this,r)},o.clear=function(){return rbush.prototype.clear.call(this)},o.search=function(r){return{type:"FeatureCollection",features:rbush.prototype.search.call(this,this.toBBox(r))}},o.collides=function(r){return rbush.prototype.collides.call(this,this.toBBox(r))},o.all=function(){return{type:"FeatureCollection",features:rbush.prototype.all.call(this)}},o.toJSON=function(){return rbush.prototype.toJSON.call(this)},o.fromJSON=function(r){return rbush.prototype.fromJSON.call(this,r)},o.toBBox=function(r){var o;return o=r.bbox?r.bbox:Array.isArray(r)&&4===r.length?r:turfBBox(r),{minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]}},o};

},{"@turf/meta":77,"rbush":167}],147:[function(require,module,exports){
!function(){function t(t){for(var n=[],o=[],r=0;r<t[0].length;r++)n.push(t[0][r][1]),o.push(t[0][r][0]);return n=n.sort(function(t,n){return t-n}),o=o.sort(function(t,n){return t-n}),[[n[0],o[0]],[n[n.length-1],o[o.length-1]]]}function n(t,n,o){for(var r=[[0,0]],a=0;a<o.length;a++){for(var e=0;e<o[a].length;e++)r.push(o[a][e]);r.push(o[a][0]),r.push([0,0])}for(var i=!1,a=0,e=r.length-1;a<r.length;e=a++)r[a][0]>n!=r[e][0]>n&&t<(r[e][1]-r[a][1])*(n-r[a][0])/(r[e][0]-r[a][0])+r[a][1]&&(i=!i);return i}var o=this.gju={};"undefined"!=typeof module&&module.exports&&(module.exports=o),o.lineStringsIntersect=function(t,n){for(var o=[],r=0;r<=t.coordinates.length-2;++r)for(var a=0;a<=n.coordinates.length-2;++a){var e={x:t.coordinates[r][1],y:t.coordinates[r][0]},i={x:t.coordinates[r+1][1],y:t.coordinates[r+1][0]},s={x:n.coordinates[a][1],y:n.coordinates[a][0]},u={x:n.coordinates[a+1][1],y:n.coordinates[a+1][0]},c=(u.x-s.x)*(e.y-s.y)-(u.y-s.y)*(e.x-s.x),h=(i.x-e.x)*(e.y-s.y)-(i.y-e.y)*(e.x-s.x),d=(u.y-s.y)*(i.x-e.x)-(u.x-s.x)*(i.y-e.y);if(0!=d){var l=c/d,y=h/d;0<=l&&l<=1&&0<=y&&y<=1&&o.push({type:"Point",coordinates:[e.x+l*(i.x-e.x),e.y+l*(i.y-e.y)]})}}return 0==o.length&&(o=!1),o},o.pointInBoundingBox=function(t,n){return!(t.coordinates[1]<n[0][0]||t.coordinates[1]>n[1][0]||t.coordinates[0]<n[0][1]||t.coordinates[0]>n[1][1])},o.pointInPolygon=function(r,a){for(var e="Polygon"==a.type?[a.coordinates]:a.coordinates,i=!1,s=0;s<e.length;s++)o.pointInBoundingBox(r,t(e[s]))&&(i=!0);if(!i)return!1;for(var u=!1,s=0;s<e.length;s++)n(r.coordinates[1],r.coordinates[0],e[s])&&(u=!0);return u},o.pointInMultiPolygon=function(r,a){for(var e="MultiPolygon"==a.type?[a.coordinates]:a.coordinates,i=!1,s=!1,u=0;u<e.length;u++){for(var c=e[u],h=0;h<c.length;h++)i||o.pointInBoundingBox(r,t(c[h]))&&(i=!0);if(!i)return!1;for(var h=0;h<c.length;h++)s||n(r.coordinates[1],r.coordinates[0],c[h])&&(s=!0)}return s},o.numberToRadius=function(t){return t*Math.PI/180},o.numberToDegree=function(t){return 180*t/Math.PI},o.drawCircle=function(t,n,r){for(var a=[n.coordinates[1],n.coordinates[0]],e=t/1e3/6371,i=[o.numberToRadius(a[0]),o.numberToRadius(a[1])],r=r||15,s=[[a[0],a[1]]],u=0;u<r;u++){var c=2*Math.PI*u/r,h=Math.asin(Math.sin(i[0])*Math.cos(e)+Math.cos(i[0])*Math.sin(e)*Math.cos(c)),d=i[1]+Math.atan2(Math.sin(c)*Math.sin(e)*Math.cos(i[0]),Math.cos(e)-Math.sin(i[0])*Math.sin(h));s[u]=[],s[u][1]=o.numberToDegree(h),s[u][0]=o.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},o.rectangleCentroid=function(t){var n=t.coordinates[0],o=n[0][0],r=n[0][1];return{type:"Point",coordinates:[o+(n[2][0]-o)/2,r+(n[2][1]-r)/2]}},o.pointDistance=function(t,n){var r=t.coordinates[0],a=t.coordinates[1],e=n.coordinates[0],i=n.coordinates[1],s=o.numberToRadius(i-a),u=o.numberToRadius(e-r),c=Math.pow(Math.sin(s/2),2)+Math.cos(o.numberToRadius(a))*Math.cos(o.numberToRadius(i))*Math.pow(Math.sin(u/2),2);return 2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))*6371*1e3},o.geometryWithinRadius=function(t,n,r){if("Point"==t.type)return o.pointDistance(t,n)<=r;if("LineString"==t.type||"Polygon"==t.type){var a,e={};a="Polygon"==t.type?t.coordinates[0]:t.coordinates;for(var i in a)if(e.coordinates=a[i],o.pointDistance(e,n)>r)return!1}return!0},o.area=function(t){for(var n,o,r=0,a=t.coordinates[0],e=a.length-1,i=0;i<a.length;e=i++){var n={x:a[i][1],y:a[i][0]},o={x:a[e][1],y:a[e][0]};r+=n.x*o.y,r-=n.y*o.x}return r/=2},o.centroid=function(t){for(var n,r,a,e=0,i=0,s=t.coordinates[0],u=s.length-1,c=0;c<s.length;u=c++){var r={x:s[c][1],y:s[c][0]},a={x:s[u][1],y:s[u][0]};n=r.x*a.y-a.x*r.y,e+=(r.x+a.x)*n,i+=(r.y+a.y)*n}return n=6*o.area(t),{type:"Point",coordinates:[i/n,e/n]}},o.simplify=function(t,n){n=n||20,t=t.map(function(t){return{lng:t.coordinates[0],lat:t.coordinates[1]}});var o,r,a,e,i,s,u,c,h,d,l,y,M,f,g,p,x,v,m,P=Math.PI/180*.5,b=new Array,T=new Array,I=new Array;if(t.length<3)return t;for(o=t.length,d=360*n/(2*Math.PI*6378137),d*=d,a=0,T[0]=0,I[0]=o-1,r=1;r>0;)if(e=T[r-1],i=I[r-1],r--,i-e>1){for(l=t[i].lng()-t[e].lng(),y=t[i].lat()-t[e].lat(),Math.abs(l)>180&&(l=360-Math.abs(l)),l*=Math.cos(P*(t[i].lat()+t[e].lat())),M=l*l+y*y,s=e+1,u=e,h=-1;s<i;s++)f=t[s].lng()-t[e].lng(),g=t[s].lat()-t[e].lat(),Math.abs(f)>180&&(f=360-Math.abs(f)),f*=Math.cos(P*(t[s].lat()+t[e].lat())),p=f*f+g*g,x=t[s].lng()-t[i].lng(),v=t[s].lat()-t[i].lat(),Math.abs(x)>180&&(x=360-Math.abs(x)),x*=Math.cos(P*(t[s].lat()+t[i].lat())),m=x*x+v*v,(c=p>=M+m?m:m>=M+p?p:(f*y-g*l)*(f*y-g*l)/M)>h&&(u=s,h=c);h<d?(b[a]=e,a++):(r++,T[r-1]=u,I[r-1]=i,r++,T[r-1]=e,I[r-1]=u)}else b[a]=e,a++;b[a]=o-1,a++;for(var R=new Array,s=0;s<a;s++)R.push(t[b[s]]);return R.map(function(t){return{type:"Point",coordinates:[t.lng,t.lat]}})},o.destinationPoint=function(t,n,r){r/=6371,n=o.numberToRadius(n);var a=o.numberToRadius(t.coordinates[0]),e=o.numberToRadius(t.coordinates[1]),i=Math.asin(Math.sin(e)*Math.cos(r)+Math.cos(e)*Math.sin(r)*Math.cos(n)),s=a+Math.atan2(Math.sin(n)*Math.sin(r)*Math.cos(e),Math.cos(r)-Math.sin(e)*Math.sin(i));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[o.numberToDegree(s),o.numberToDegree(i)]}}}();

},{}],148:[function(require,module,exports){
"use strict";function _getClosest(r,t,e){var n,o;if(!Array.isArray(t))throw new Error("Get closest expects an array as second argument");return t.forEach(function(t,u){var s=e(t,r);s>=0&&(void 0===o||s<o)&&(o=s,n=u)}),n}module.exports={number:function(r,t){return _getClosest(r,t,function(r,t){return Math.abs(r-t)})},greaterNumber:function(r,t){return _getClosest(r,t,function(r,t){return r-t})},lowerNumber:function(r,t){return _getClosest(r,t,function(r,t){return t-r})},custom:function(r,t,e){return _getClosest(r,t,e)}};

},{}],149:[function(require,module,exports){
function sortPointsByLatLng(t,r){var o={};return featureEach(t,function(t){var r=getCoords(t)[1];o[r]||(o[r]=[]),o[r].push(t)}),Object.keys(o).map(function(t){return o[t].sort(function(t,r){return getCoords(t)[0]-getCoords(r)[0]})}).sort(function(t,o){return r?getCoords(t[0])[1]-getCoords(o[0])[1]:getCoords(o[0])[1]-getCoords(t[0])[1]})}var meta=require("@turf/meta"),invariant=require("@turf/invariant"),getCoords=invariant.getCoords,featureEach=meta.featureEach,collectionOf=invariant.collectionOf;module.exports=function(t,r,o,e){collectionOf(t,"Point","input must contain Points"),r=r||"elevation";for(var n=sortPointsByLatLng(t,o),i=[],a=0;a<n.length;a++){for(var s=n[a],u=[],c=0;c<s.length;c++){var f=s[c];f.properties[r]?u.push(f.properties[r]):u.push(0),!0===e&&(f.properties.matrixPosition=[a,c])}i.push(u)}return i};

},{"@turf/invariant":52,"@turf/meta":150}],150:[function(require,module,exports){
function coordEach(e,t,o){if(null!==e){var r,n,i,a,c,u,l,s,f,g,h=0,d=0,p=e.type,y="FeatureCollection"===p,m="Feature"===p,E=y?e.features.length:1;for(r=0;r<E;r++){var v=0;for(f=y?e.features[r].geometry:m?e.geometry:e,g=!!f&&"GeometryCollection"===f.type,l=g?f.geometries.length:1,n=0;n<l;n++)if(null!==(u=g?f.geometries[n]:f)){s=u.coordinates;var w=u.type;switch(h=!o||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":t(s,d,r,v),d++,v++;break;case"LineString":case"MultiPoint":for(i=0;i<s.length;i++)t(s[i],d,r,v),d++,v++;break;case"Polygon":case"MultiLineString":for(i=0;i<s.length;i++)for(a=0;a<s[i].length-h;a++)t(s[i][a],d,r,v),d++,v++;break;case"MultiPolygon":for(i=0;i<s.length;i++)for(a=0;a<s[i].length;a++)for(c=0;c<s[i][a].length-h;c++)t(s[i][a][c],d,r,v),d++,v++;break;case"GeometryCollection":for(i=0;i<u.geometries.length;i++)coordEach(u.geometries[i],t,o);break;default:throw new Error("Unknown Geometry Type")}}}}}function coordReduce(e,t,o,r){var n=o;return coordEach(e,function(e,r,i,a){n=0===r&&void 0===o?e:t(n,e,r,i,a)},r),n}function propEach(e,t){var o;switch(e.type){case"FeatureCollection":for(o=0;o<e.features.length;o++)t(e.features[o].properties,o);break;case"Feature":t(e.properties,0)}}function propReduce(e,t,o){var r=o;return propEach(e,function(e,n){r=0===n&&void 0===o?e:t(r,e,n)}),r}function featureEach(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var o=0;o<e.features.length;o++)t(e.features[o],o)}function featureReduce(e,t,o){var r=o;return featureEach(e,function(e,n){r=0===n&&void 0===o?e:t(r,e,n)}),r}function coordAll(e){var t=[];return coordEach(e,function(e){t.push(e)}),t}function geomEach(e,t){var o,r,n,i,a,c,u,l,s=0,f="FeatureCollection"===e.type,g="Feature"===e.type,h=f?e.features.length:1;for(o=0;o<h;o++)for(c=f?e.features[o].geometry:g?e.geometry:e,l=f?e.features[o].properties:g?e.properties:{},u=!!c&&"GeometryCollection"===c.type,a=u?c.geometries.length:1,n=0;n<a;n++)if(null!==(i=u?c.geometries[n]:c))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":t(i,s,l),s++;break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)t(i.geometries[r],s,l),s++;break;default:throw new Error("Unknown Geometry Type")}else t(null,s,l),s++}function geomReduce(e,t,o){var r=o;return geomEach(e,function(e,n,i){r=0===n&&void 0===o?e:t(r,e,n,i)}),r}function flattenEach(e,t){geomEach(e,function(e,o,r){var n=null===e?null:e.type;switch(n){case null:case"Point":case"LineString":case"Polygon":return void t(feature(e,r),o,0)}var i;switch(n){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon"}e.coordinates.forEach(function(e,n){t(feature({type:i,coordinates:e},r),o,n)})})}function flattenReduce(e,t,o){var r=o;return flattenEach(e,function(e,n,i){r=0===n&&0===i&&void 0===o?e:t(r,e,n,i)}),r}function segmentEach(e,t){flattenEach(e,function(e,o){var r=0;if(e.geometry){var n=e.geometry.type;"Point"!==n&&"MultiPoint"!==n&&coordReduce(e,function(n,i){var a=lineString([n,i],e.properties);return t(a,o,r),r++,i})}})}function segmentReduce(e,t,o){var r=o;return segmentEach(e,function(e,n,i){r=0===n&&void 0===o?e:t(r,e,n,i)}),r}function feature(e,t){if(void 0===e)throw new Error("No geometry passed");return{type:"Feature",properties:t||{},geometry:e}}function lineString(e,t){if(!e)throw new Error("No coordinates passed");if(e.length<2)throw new Error("Coordinates must be an array of two or more positions");return{type:"Feature",properties:t||{},geometry:{type:"LineString",coordinates:e}}}function lineEach(e,t){if(!e)throw new Error("geojson is required");var o=e.geometry?e.geometry.type:e.type;if(!o)throw new Error("invalid geojson");if("FeatureCollection"===o)throw new Error("FeatureCollection is not supported");if("GeometryCollection"===o)throw new Error("GeometryCollection is not supported");var r=e.geometry?e.geometry.coordinates:e.coordinates;if(!r)throw new Error("geojson must contain coordinates");switch(o){case"LineString":return void t(r,0,0);case"Polygon":case"MultiLineString":for(var n=0,i=0;i<r.length;i++)"MultiLineString"===o&&(n=i),t(r[i],i,n);return;case"MultiPolygon":for(var a=0;a<r.length;a++)for(var c=0;c<r[a].length;c++)t(r[a][c],c,a);return;default:throw new Error(o+" geometry not supported")}}function lineReduce(e,t,o){var r=o;return lineEach(e,function(e,n,i){r=0===n&&void 0===o?e:t(r,e,n,i)}),r}module.exports={coordEach:coordEach,coordReduce:coordReduce,propEach:propEach,propReduce:propReduce,featureEach:featureEach,featureReduce:featureReduce,coordAll:coordAll,geomEach:geomEach,geomReduce:geomReduce,flattenEach:flattenEach,flattenReduce:flattenReduce,segmentEach:segmentEach,segmentReduce:segmentReduce,lineEach:lineEach,lineReduce:lineReduce};

},{}],151:[function(require,module,exports){
"use strict";function compareInt(e,t){return e-t}function Simplex(e,t,r){this.vertices=e,this.adjacent=t,this.boundary=r,this.lastVisited=-1}function GlueFacet(e,t,r){this.vertices=e,this.cell=t,this.index=r}function compareGlue(e,t){return compareCell(e.vertices,t.vertices)}function bakeOrient(e){for(var t=["function orient(){var tuple=this.tuple;return test("],r=0;r<=e;++r)r>0&&t.push(","),t.push("tuple[",r,"]");t.push(")}return orient");var i=new Function("test",t.join("")),n=orient[e+1];return n||(n=orient),i(n)}function Triangulation(e,t,r){this.dimension=e,this.vertices=t,this.simplices=r,this.interior=r.filter(function(e){return!e.boundary}),this.tuple=new Array(e+1);for(var i=0;i<=e;++i)this.tuple[i]=this.vertices[i];var n=BAKED[e];n||(n=BAKED[e]=bakeOrient(e)),this.orient=n}function incrementalConvexHull(e,t){var r=e.length;if(0===r)throw new Error("Must have at least d+1 points");var i=e[0].length;if(r<=i)throw new Error("Must input at least d+1 points");var n=e.slice(0,i+1),a=orient.apply(void 0,n);if(0===a)throw new Error("Input not in general position");for(var s=new Array(i+1),o=0;o<=i;++o)s[o]=o;a<0&&(s[0]=1,s[1]=0);for(var l=new Simplex(s,new Array(i+1),!1),v=l.adjacent,c=new Array(i+2),o=0;o<=i;++o){for(var h=s.slice(),u=0;u<=i;++u)u===o&&(h[u]=-1);var d=h[0];h[0]=h[1],h[1]=d;var f=new Simplex(h,new Array(i+1),!0);v[o]=f,c[o]=f}c[i+1]=l;for(var o=0;o<=i;++o)for(var h=v[o].vertices,p=v[o].adjacent,u=0;u<=i;++u){var m=h[u];if(m<0)p[u]=l;else for(var y=0;y<=i;++y)v[y].vertices.indexOf(m)<0&&(p[u]=v[y])}for(var w=new Triangulation(i,n,c),x=!!t,o=i+1;o<r;++o)w.insert(e[o],x);return w.boundary()}module.exports=incrementalConvexHull;var orient=require("robust-orientation"),compareCell=require("simplicial-complex").compareCells;Simplex.prototype.flip=function(){var e=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=e;var t=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=t};var BAKED=[],proto=Triangulation.prototype;proto.handleBoundaryDegeneracy=function(e,t){var r=this.dimension,i=this.vertices.length-1,n=this.tuple,a=this.vertices,s=[e];for(e.lastVisited=-i;s.length>0;){e=s.pop();for(var o=(e.vertices,e.adjacent),l=0;l<=r;++l){var v=o[l];if(v.boundary&&!(v.lastVisited<=-i)){for(var c=v.vertices,h=0;h<=r;++h){var u=c[h];n[h]=u<0?t:a[u]}var d=this.orient();if(d>0)return v;v.lastVisited=-i,0===d&&s.push(v)}}}return null},proto.walk=function(e,t){var r=this.vertices.length-1,i=this.dimension,n=this.vertices,a=this.tuple,s=t?this.interior.length*Math.random()|0:this.interior.length-1,o=this.interior[s];e:for(;!o.boundary;){for(var l=o.vertices,v=o.adjacent,c=0;c<=i;++c)a[c]=n[l[c]];o.lastVisited=r;for(var c=0;c<=i;++c){var h=v[c];if(!(h.lastVisited>=r)){var u=a[c];a[c]=e;var d=this.orient();if(a[c]=u,d<0){o=h;continue e}h.boundary?h.lastVisited=-r:h.lastVisited=r}}return}return o},proto.addPeaks=function(e,t){var r=this.vertices.length-1,i=this.dimension,n=this.vertices,a=this.tuple,s=this.interior,o=this.simplices,l=[t];t.lastVisited=r,t.vertices[t.vertices.indexOf(-1)]=r,t.boundary=!1,s.push(t);for(var v=[];l.length>0;){var t=l.pop(),c=t.vertices,h=t.adjacent,u=c.indexOf(r);if(!(u<0))for(var d=0;d<=i;++d)if(d!==u){var f=h[d];if(f.boundary&&!(f.lastVisited>=r)){var p=f.vertices;if(f.lastVisited!==-r){for(var m=0,y=0;y<=i;++y)p[y]<0?(m=y,a[y]=e):a[y]=n[p[y]];var w=this.orient();if(w>0){p[m]=r,f.boundary=!1,s.push(f),l.push(f),f.lastVisited=r;continue}f.lastVisited=-r}var x=f.adjacent,g=c.slice(),b=h.slice(),j=new Simplex(g,b,!0);o.push(j);var V=x.indexOf(t);if(!(V<0)){x[V]=j,b[u]=f,g[d]=-1,b[d]=t,h[d]=j,j.flip();for(var y=0;y<=i;++y){var A=g[y];if(!(A<0||A===r)){for(var k=new Array(i-1),E=0,O=0;O<=i;++O){var B=g[O];B<0||O===y||(k[E++]=B)}v.push(new GlueFacet(k,j,y))}}}}}}v.sort(compareGlue);for(var d=0;d+1<v.length;d+=2){var C=v[d],D=v[d+1],S=C.index,G=D.index;S<0||G<0||(C.cell.adjacent[C.index]=D.cell,D.cell.adjacent[D.index]=C.cell)}},proto.insert=function(e,t){var r=this.vertices;r.push(e);var i=this.walk(e,t);if(i){for(var n=this.dimension,a=this.tuple,s=0;s<=n;++s){var o=i.vertices[s];a[s]=o<0?e:r[o]}var l=this.orient(a);l<0||(0!==l||(i=this.handleBoundaryDegeneracy(i,e)))&&this.addPeaks(e,i)}},proto.boundary=function(){for(var e=this.dimension,t=[],r=this.simplices,i=r.length,n=0;n<i;++n){var a=r[n];if(a.boundary){for(var s=new Array(e),o=a.vertices,l=0,v=0,c=0;c<=e;++c)o[c]>=0?s[l++]=o[c]:v=1&c;if(v===(1&e)){var h=s[0];s[0]=s[1],s[1]=h}t.push(s)}}return t};

},{"robust-orientation":168,"simplicial-complex":176}],152:[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.jsts=t.jsts||{})}(this,function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function n(){}function i(){}function r(){}function s(){}function o(){}function a(){}function u(){}function l(t){this.name="RuntimeException",this.message=t,this.stack=(new Error).stack,Error.call(this,t)}function h(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function c(){if(0===arguments.length)l.call(this);else if(1===arguments.length){var t=arguments[0];l.call(this,t)}}function f(){}function g(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)g.call(this,0,0);else if(1===arguments.length){var t=arguments[0];g.call(this,t.x,t.y,t.z)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];g.call(this,e,n,g.NULL_ORDINATE)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2];this.x=i,this.y=r,this.z=s}}function d(){if(this.dimensionsToTest=2,0===arguments.length)d.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new i("only 2 or 3 dimensions may be specified");this.dimensionsToTest=t}}function p(){}function m(){}function v(t){this.message=t||""}function y(){}function x(t){this.message=t||""}function E(t){this.message=t||""}function I(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function N(){if(I.apply(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}function C(){if(this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof g){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof C){var e=arguments[0];this.init(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];this.init(r,s,o,a)}}function S(){}function w(){S.call(this,"Projective point not representable on the Cartesian plane.")}function L(){}function R(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1}function T(){}function P(t){this.str=t}function b(t){this.value=t}function O(){}function _(){if(this.hi=0,this.lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof _){var e=arguments[0];this.init(e)}else if("string"==typeof arguments[0]){var n=arguments[0];_.call(this,_.parse(n))}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i,r)}}function M(){}function D(){}function A(){}function F(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];this.x=e,this.y=n,this.w=1}else if(arguments[0]instanceof F&&arguments[1]instanceof F){var i=arguments[0],r=arguments[1];this.x=i.y*r.w-r.y*i.w,this.y=r.x*i.w-i.x*r.w,this.w=i.x*r.y-r.x*i.y}else if(arguments[0]instanceof g&&arguments[1]instanceof g){var s=arguments[0],o=arguments[1];this.x=s.y-o.y,this.y=o.x-s.x,this.w=s.x*o.y-o.x*s.y}}else if(3===arguments.length){var a=arguments[0],u=arguments[1],l=arguments[2];this.x=a,this.y=u,this.w=l}else if(4===arguments.length){var h=arguments[0],c=arguments[1],f=arguments[2],d=arguments[3],p=h.y-c.y,m=c.x-h.x,v=h.x*c.y-c.x*h.y,y=f.y-d.y,x=d.x-f.x,E=f.x*d.y-d.x*f.y;this.x=m*E-x*v,this.y=y*v-p*E,this.w=p*x-y*m}}function G(){}function q(){}function B(){this.envelope=null,this.factory=null,this.SRID=null,this.userData=null;var t=arguments[0];this.factory=t,this.SRID=t.getSRID()}function z(){}function V(){}function k(){}function Y(){}function U(){}function X(){}function H(){}function W(){}function j(){}function K(){}function Z(){}function Q(){}function J(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function $(t){return null==t?Js:t.color}function tt(t){return null==t?null:t.parent}function et(t,e){null!==t&&(t.color=e)}function nt(t){return null==t?null:t.left}function it(t){return null==t?null:t.right}function rt(){this.root_=null,this.size_=0}function st(){}function ot(){}function at(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function ut(){}function lt(){}function ht(){}function ct(){}function ft(){this.geometries=null;var t=arguments[0],e=arguments[1];if(B.call(this,e),null===t&&(t=[]),B.hasNullElements(t))throw new i("geometries must not contain null elements");this.geometries=t}function gt(){var t=arguments[0],e=arguments[1];ft.call(this,t,e)}function dt(){if(this.geom=null,this.geomFact=null,this.bnRule=null,this.endpointMap=null,1===arguments.length){var t=arguments[0];dt.call(this,t,V.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.geom=e,this.geomFact=e.getFactory(),this.bnRule=n}}function pt(){this.count=null}function mt(){}function vt(){}function yt(){}function xt(){}function Et(){}function It(){}function Nt(){}function Ct(){}function St(){this.points=null;var t=arguments[0],e=arguments[1];B.call(this,e),this.init(t)}function wt(){}function Lt(){this.coordinates=null;var t=arguments[0],e=arguments[1];B.call(this,e),this.init(t)}function Rt(){}function Tt(){this.shell=null,this.holes=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(B.call(this,n),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),B.hasNullElements(e))throw new i("holes must not contain null elements");if(t.isEmpty()&&B.hasNonEmptyElements(e))throw new i("shell is empty but holes are not");this.shell=t,this.holes=e}function Pt(){var t=arguments[0],e=arguments[1];ft.call(this,t,e)}function bt(){if(arguments[0]instanceof g&&arguments[1]instanceof ne){var t=arguments[0],e=arguments[1];bt.call(this,e.getCoordinateSequenceFactory().create(t),e)}else if(R(arguments[0],D)&&arguments[1]instanceof ne){var n=arguments[0],i=arguments[1];St.call(this,n,i),this.validateConstruction()}}function Ot(){var t=arguments[0],e=arguments[1];ft.call(this,t,e)}function _t(){if(this.factory=null,this.isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.factory=t}}function Mt(){}function Dt(){}function At(){}function Ft(){}function Gt(){if(this.dimension=3,this.coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];Gt.call(this,t,3)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.coordinates=new Array(e).fill(null);for(var n=0;n<e;n++)this.coordinates[n]=new g}else if(R(arguments[0],D)){var i=arguments[0];if(null===i)return this.coordinates=new Array(0).fill(null),null;this.dimension=i.getDimension(),this.coordinates=new Array(i.size()).fill(null);for(var n=0;n<this.coordinates.length;n++)this.coordinates[n]=i.getCoordinateCopy(n)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],s=arguments[1];this.coordinates=r,this.dimension=s,null===r&&(this.coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var o=arguments[0],a=arguments[1];this.coordinates=new Array(o).fill(null),this.dimension=a;for(var n=0;n<o;n++)this.coordinates[n]=new g}}function qt(){}function Bt(t,e){return t===e||t!==t&&e!==e}function zt(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function Vt(t){return this.has(t)&&(this._keys.splice(to,1),this._values.splice(to,1),this._itp.forEach(function(t){to<t[0]&&t[0]--})),to>-1}function kt(t){return this.has(t)?this._values[to]:void 0}function Yt(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!==e||0===e)for(to=t.length;to--&&!Bt(t[to],e););else to=t.indexOf(e);return to>-1}function Ut(t){return Yt.call(this,this._keys,t)}function Xt(t,e){return this.has(t)?this._values[to]=e:this._values[this._keys.push(t)-1]=e,this}function Ht(){(this._keys||0).length=this._values.length=0}function Wt(){return Zt(this._itp,this._keys)}function jt(){return Zt(this._itp,this._values)}function Kt(){return Zt(this._itp,this._keys,this._values)}function Zt(t,e,n){var i=[0],r=!1;return t.push(i),{next:function(){var s,o=i[0];return!r&&o<e.length?(s=n?[e[o],n[o]]:e[o],i[0]++):(r=!0,t.splice(t.indexOf(i),1)),{done:r,value:s}}}}function Qt(){return this._values.length}function Jt(t,e){for(var n=this.entries();;){var i=n.next();if(i.done)break;t.call(e,i.value[1],i.value[0],this)}}function $t(){this.map_=new io}function te(){if(this.modelType=null,this.scale=null,0===arguments.length)this.modelType=te.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ee){var t=arguments[0];this.modelType=t,t===te.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var e=arguments[0];this.modelType=te.FIXED,this.setScale(e)}else if(arguments[0]instanceof te){var n=arguments[0];this.modelType=n.modelType,this.scale=n.scale}}function ee(){this.name=null;var t=arguments[0];this.name=t,ee.nameToTypeMap.put(t,this)}function ne(){if(this.precisionModel=null,this.coordinateSequenceFactory=null,this.SRID=null,0===arguments.length)ne.call(this,new te,0);else if(1===arguments.length){if(R(arguments[0],G)){var t=arguments[0];ne.call(this,new te,0,t)}else if(arguments[0]instanceof te){var e=arguments[0];ne.call(this,e,0,ne.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];ne.call(this,n,i,ne.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2];this.precisionModel=r,this.coordinateSequenceFactory=o,this.SRID=s}}function ie(t){this.geometryFactory=t||new ne}function re(t){this.parser=new ie(t)}function se(){this.result=null,this.inputLines=Array(2).fill().map(function(){return Array(2)}),this.intPt=new Array(2).fill(null),this.intLineIndex=null,this._isProper=null,this.pa=null,this.pb=null,this.precisionModel=null,this.intPt[0]=new g,this.intPt[1]=new g,this.pa=this.intPt[0],this.pb=this.intPt[1],this.result=0}function oe(){se.apply(this)}function ae(){}function ue(){this.p=null,this.crossingCount=0,this.isPointOnSegment=!1;var t=arguments[0];this.p=t}function le(){}function he(){if(this.p0=null,this.p1=null,0===arguments.length)he.call(this,new g,new g);else if(1===arguments.length){var t=arguments[0];he.call(this,t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0=e,this.p1=n}else if(4===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2],o=arguments[3];he.call(this,new g(i,r),new g(s,o))}}function ce(){if(this.matrix=null,0===arguments.length)this.matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(lt.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];ce.call(this),this.set(t)}else if(arguments[0]instanceof ce){var e=arguments[0];ce.call(this),this.matrix[L.INTERIOR][L.INTERIOR]=e.matrix[L.INTERIOR][L.INTERIOR],this.matrix[L.INTERIOR][L.BOUNDARY]=e.matrix[L.INTERIOR][L.BOUNDARY],this.matrix[L.INTERIOR][L.EXTERIOR]=e.matrix[L.INTERIOR][L.EXTERIOR],this.matrix[L.BOUNDARY][L.INTERIOR]=e.matrix[L.BOUNDARY][L.INTERIOR],this.matrix[L.BOUNDARY][L.BOUNDARY]=e.matrix[L.BOUNDARY][L.BOUNDARY],this.matrix[L.BOUNDARY][L.EXTERIOR]=e.matrix[L.BOUNDARY][L.EXTERIOR],this.matrix[L.EXTERIOR][L.INTERIOR]=e.matrix[L.EXTERIOR][L.INTERIOR],this.matrix[L.EXTERIOR][L.BOUNDARY]=e.matrix[L.EXTERIOR][L.BOUNDARY],this.matrix[L.EXTERIOR][L.EXTERIOR]=e.matrix[L.EXTERIOR][L.EXTERIOR]}}function fe(){this.areaBasePt=null,this.triangleCent3=new g,this.areasum2=0,this.cg3=new g,this.lineCentSum=new g,this.totalLength=0,this.ptCount=0,this.ptCentSum=new g;var t=arguments[0];this.areaBasePt=null,this.add(t)}function ge(t){this.message=t||""}function de(){this.array_=[]}function pe(){this.treeSet=new at,this.list=new I}function me(){if(this.geomFactory=null,this.inputPts=null,1===arguments.length){var t=arguments[0];me.call(this,me.extractCoordinates(t),t.getFactory())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputPts=pe.filterCoordinates(e),this.geomFactory=n}}function ve(){this.origin=null;var t=arguments[0];this.origin=t}function ye(){this.inputGeom=null,this.factory=null,this.pruneEmptyGeometry=!0,this.preserveGeometryCollectionType=!0,this.preserveCollections=!1,this.preserveType=!1}function xe(){if(this.snapTolerance=0,this.srcPts=null,this.seg=new he,this.allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof St&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];xe.call(this,t.getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.srcPts=n,this._isClosed=xe.isClosed(n),this.snapTolerance=i}}function Ee(){this.srcGeom=null;var t=arguments[0];this.srcGeom=t}function Ie(){if(ye.apply(this),this.snapTolerance=null,this.snapPts=null,this.isSelfSnap=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this.snapTolerance=t,this.snapPts=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.snapTolerance=n,this.snapPts=i,this.isSelfSnap=r}}function Ne(){this.isFirst=!0,this.commonMantissaBitsCount=53,this.commonBits=0,this.commonSignExp=null}function Ce(){this.commonCoord=null,this.ccFilter=new Se}function Se(){this.commonBitsX=new Ne,this.commonBitsY=new Ne}function we(){this.trans=null;var t=arguments[0];this.trans=t}function Le(){this.parent=null,this.atStart=null,this.max=null,this.index=null,this.subcollectionIterator=null;var t=arguments[0];this.parent=t,this.atStart=!0,this.index=0,this.max=t.getNumGeometries()}function Re(){if(this.boundaryRule=V.OGC_SFS_BOUNDARY_RULE,this.isIn=null,this.numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new i("Rule must be non-null");this.boundaryRule=t}}function Te(){}function Pe(){}function be(){this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function Oe(){}function _e(){this.bounds=null,this.item=null;var t=arguments[0],e=arguments[1];this.bounds=t,this.item=e}function Me(){this._size=null,this.items=null,this._size=0,this.items=new I,this.items.add(null)}function De(){}function Ae(){}function Fe(){if(this.childBoundables=new I,this.bounds=null,this.level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.level=t}}function Ge(){this.boundable1=null,this.boundable2=null,this._distance=null,this.itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.boundable1=t,this.boundable2=e,this.itemDistance=n,this._distance=this.distance()}function qe(){if(this.root=null,this.built=!1,this.itemBoundables=new I,this.nodeCapacity=null,0===arguments.length)qe.call(this,qe.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];f.isTrue(t>1,"Node capacity must be greater than 1"),this.nodeCapacity=t}}function Be(){}function ze(){}function Ve(){if(0===arguments.length)Ve.call(this,Ve.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];qe.call(this,t)}}function ke(){var t=arguments[0];Fe.call(this,t)}function Ye(){}function Ue(){this.segString=null,this.coord=null,this.segmentIndex=null,this.segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.segString=t,this.coord=new g(e),this.segmentIndex=n,this.segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))}function Xe(){this.nodeMap=new rt,this.edge=null;var t=arguments[0];this.edge=t}function He(){this.nodeList=null,this.edge=null,this.nodeIt=null,this.currNode=null,this.nextNode=null,this.currSegIndex=0;var t=arguments[0];this.nodeList=t,this.edge=t.getEdge(),this.nodeIt=t.iterator(),this.readNextNode()}function We(){}function je(){this.nodeList=new Xe(this),this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function Ke(){this.tempEnv1=new C,this.tempEnv2=new C,this.overlapSeg1=new he,this.overlapSeg2=new he}function Ze(){this.pts=null,this.start=null,this.end=null,this.env=null,this.context=null,this.id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.pts=t,this.start=e,this.end=n,this.context=i}function Qe(){}function Je(){}function $e(){}function tn(){if(this.segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}}function en(){if(this.monoChains=new I,this.index=new Ve,this.idCounter=0,this.nodedSegStrings=null,this.nOverlaps=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];tn.call(this,t)}}function nn(){Ke.apply(this),this.si=null;var t=arguments[0];this.si=t}function rn(){if(this.pt=null,1===arguments.length){var t=arguments[0];l.call(this,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];l.call(this,rn.msgWithCoord(e,n)),this.name="TopologyException",this.pt=new g(n)}}function sn(){}function on(){this.findAllIntersections=!1,this.isCheckEndSegmentsOnly=!1,this.li=null,this.interiorIntersection=null,this.intSegments=null,this.intersections=new I,this.intersectionCount=0,this.keepIntersections=!0;var t=arguments[0];this.li=t,this.interiorIntersection=null}function an(){this.li=new oe,this.segStrings=null,this.findAllIntersections=!1,this.segInt=null,this._isValid=!0;var t=arguments[0];this.segStrings=t}function un(){this.nv=null;var t=arguments[0];this.nv=new an(un.toSegmentStrings(t))}function ln(){this.mapOp=null;var t=arguments[0];this.mapOp=t}function hn(){}function cn(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[hn.ON]=e}else if(arguments[0]instanceof cn){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var i=0;i<this.location.length;i++)this.location[i]=n.location[i]}}else if(3===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2];this.init(3),this.location[hn.ON]=r,this.location[hn.LEFT]=s,this.location[hn.RIGHT]=o}}function fn(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new cn(t),this.elt[1]=new cn(t)}else if(arguments[0]instanceof fn){var e=arguments[0];this.elt[0]=new cn(e.elt[0]),this.elt[1]=new cn(e.elt[1])}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.elt[0]=new cn(L.NONE),this.elt[1]=new cn(L.NONE),this.elt[n].setLocation(i)}else if(3===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2];this.elt[0]=new cn(r,s,o),this.elt[1]=new cn(r,s,o)}else if(4===arguments.length){var a=arguments[0],u=arguments[1],l=arguments[2],h=arguments[3];this.elt[0]=new cn(L.NONE,L.NONE,L.NONE),this.elt[1]=new cn(L.NONE,L.NONE,L.NONE),this.elt[a].setLocations(u,l,h)}}function gn(){this.startDe=null,this.maxNodeDegree=-1,this.edges=new I,this.pts=new I,this.label=new fn(L.NONE),this.ring=null,this._isHole=null,this.shell=null,this.holes=new I,this.geometryFactory=null;var t=arguments[0],e=arguments[1];this.geometryFactory=e,this.computePoints(t),this.computeRing()}function dn(){var t=arguments[0],e=arguments[1];gn.call(this,t,e)}function pn(){var t=arguments[0],e=arguments[1];gn.call(this,t,e)}function mn(){if(this.label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.label=t}}function vn(){mn.apply(this),this.coord=null,this.edges=null;var t=arguments[0],e=arguments[1];this.coord=t,this.edges=e,this.label=new fn(0,L.NONE)}function yn(){this.nodeMap=new rt,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}function xn(){if(this.edge=null,this.label=null,this.node=null,this.p0=null,this.p1=null,this.dx=null,this.dy=null,this.quadrant=null,1===arguments.length){var t=arguments[0];this.edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];xn.call(this,e,n,i,null)}else if(4===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];xn.call(this,r),this.init(s,o),this.label=a}}function En(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this.sym=null,this.next=null,this.nextMin=null,this.edgeRing=null,this.minEdgeRing=null,this.depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(xn.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}function In(){}function Nn(){if(this.edges=new I,this.nodes=null,this.edgeEndList=new I,0===arguments.length)this.nodes=new yn(new In);else if(1===arguments.length){var t=arguments[0];this.nodes=new yn(t)}}function Cn(){this.geometryFactory=null,this.shellList=new I;var t=arguments[0];this.geometryFactory=t}function Sn(){this.op=null,this.geometryFactory=null,this.ptLocator=null,this.lineEdgesList=new I,this.resultLineList=new I;var t=arguments[0],e=arguments[1],n=arguments[2];this.op=t,this.geometryFactory=e,this.ptLocator=n}function wn(){this.op=null,this.geometryFactory=null,this.resultPointList=new I;var t=arguments[0],e=arguments[1];arguments[2],this.op=t,this.geometryFactory=e}function Ln(){}function Rn(){this.geom=null;var t=arguments[0];this.geom=t}function Tn(){this.edgeMap=new rt,this.edgeList=null,this.ptInAreaLocation=[L.NONE,L.NONE]}function Pn(){Tn.apply(this),this.resultAreaEdgeList=null,this.label=null,this.SCANNING_FOR_INCOMING=1,this.LINKING_TO_OUTGOING=2}function bn(){In.apply(this)}function On(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e}function _n(){if(this.label=null,this.xValue=null,this.eventType=null,this.insertEvent=null,this.deleteEventIndex=null,this.obj=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.eventType=_n.DELETE,this.xValue=t,this.insertEvent=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.eventType=_n.INSERT,this.label=n,this.xValue=i,this.obj=r}}function Mn(){}function Dn(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.properIntersectionPoint=null,this.li=null,this.includeProper=null,this.recordIsolated=null,this.isSelfIntersection=null,this.numIntersections=0,this.numTests=0,this.bdyNodes=null,this._isDone=!1,this.isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.li=t,this.includeProper=e,this.recordIsolated=n}function An(){Mn.apply(this),this.events=new I,this.nOverlaps=null}function Fn(){this.min=r.POSITIVE_INFINITY,this.max=r.NEGATIVE_INFINITY}function Gn(){}function qn(){Fn.apply(this),this.item=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.min=t,this.max=e,this.item=n}function Bn(){Fn.apply(this),this.node1=null,this.node2=null;var t=arguments[0],e=arguments[1];this.node1=t,this.node2=e,this.buildExtent(this.node1,this.node2)}function zn(){this.leaves=new I,this.root=null,this.level=0}function Vn(){if(this.lines=null,this.isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this.lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.lines=e,this.isForcedToLineString=n}}function kn(){this.items=new I}function Yn(){this.index=null;var t=arguments[0];if(!R(t,Rt))throw new i("Argument must be Polygonal");this.index=new Xn(t)}function Un(){this.counter=null;var t=arguments[0];this.counter=t}function Xn(){this.index=new zn;var t=arguments[0];this.init(t)}function Hn(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new g(t),this.segmentIndex=e,this.dist=n}function Wn(){this.nodeMap=new rt,this.edge=null;var t=arguments[0];this.edge=t}function jn(){}function Kn(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new C,this.env2=new C;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new jn;this.startIndex=e.getChainStartIndices(this.pts)}function Zn(){this.depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;t<2;t++)for(var e=0;e<3;e++)this.depth[t][e]=Zn.NULL_VALUE}function Qn(){if(mn.apply(this),this.pts=null,this.env=null,this.eiList=new Wn(this),this.name=null,this.mce=null,this._isIsolated=!0,this.depth=new Zn,this.depthDelta=0,1===arguments.length){var t=arguments[0];Qn.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pts=e,this.label=n}}function Jn(){if(Nn.apply(this),this.parentGeom=null,this.lineEdgeMap=new $t,this.boundaryNodeRule=null,this.useBoundaryDeterminationRule=!0,this.argIndex=null,this.boundaryNodes=null,this._hasTooFewPoints=!1,this.invalidPoint=null,this.areaPtLocator=null,this.ptLocator=new Re,2===arguments.length){var t=arguments[0],e=arguments[1];Jn.call(this,t,e,V.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.argIndex=n,this.parentGeom=i,this.boundaryNodeRule=r,null!==i&&this.add(i)}}function $n(){if(this.li=new oe,this.resultPrecisionModel=null,this.arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this.arg=new Array(1).fill(null),this.arg[0]=new Jn(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];$n.call(this,e,n,V.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2];i.getPrecisionModel().compareTo(r.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(r.getPrecisionModel()),this.arg=new Array(2).fill(null),this.arg[0]=new Jn(0,i,s),this.arg[1]=new Jn(1,r,s)}}function ti(){this.pts=null,this._orientation=null;var t=arguments[0];this.pts=t,this._orientation=ti.orientation(t)}function ei(){this.edges=new I,this.ocaMap=new rt}function ni(){this.ptLocator=new Re,this.geomFact=null,this.resultGeom=null,this.graph=null,this.edgeList=new ei,this.resultPolyList=new I,this.resultLineList=new I,this.resultPointList=new I;var t=arguments[0],e=arguments[1];$n.call(this,t,e),this.graph=new Nn(new bn),this.geomFact=t.getFactory()}function ii(){this.geom=new Array(2).fill(null),this.snapTolerance=null,this.cbr=null;var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e,this.computeSnapTolerance()}function ri(){this.geom=new Array(2).fill(null);var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e}function si(){this.factory=null,this.interiorPoint=null,this.maxWidth=0;var t=arguments[0];this.factory=t.getFactory(),this.add(t)}function oi(){this.poly=null,this.centreY=null,this.hiY=r.MAX_VALUE,this.loY=-r.MAX_VALUE;var t=arguments[0];this.poly=t,this.hiY=t.getEnvelopeInternal().getMaxY(),this.loY=t.getEnvelopeInternal().getMinY(),this.centreY=si.avg(this.loY,this.hiY)}function ai(){this.centroid=null,this.minDistance=r.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.addInterior(t),null===this.interiorPoint&&this.addEndpoints(t)}function ui(){this.centroid=null,this.minDistance=r.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.add(t)}function li(){this.tempEnv1=new C,this.selectedSegment=new he}function hi(){this.items=new I,this.subnode=[null,null]}function ci(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var t=arguments[0];this.init(t.min,t.max)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.init(e,n)}}function fi(){}function gi(t,e){var n,i,r,s,o={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}},a={32:8,64:11}[t];if(s||(n=e<0||1/e<0,isFinite(e)||(s=o[t],n&&(s.d+=1<<t/4-1),i=Math.pow(2,a)-1,r=0)),!s){for(i={32:127,64:1023}[t],r=Math.abs(e);r>=2;)i++,r/=2;for(;r<1&&i>0;)i--,r*=2;i<=0&&(r/=2),32===t&&i>254&&(s={d:n?255:127,c:128,b:0,a:0},i=Math.pow(2,a)-1,r=0)}return i}function di(){this.pt=0,this.level=0,this.interval=null;var t=arguments[0];this.computeKey(t)}function pi(){hi.apply(this),this.interval=null,this.centre=null,this.level=null;var t=arguments[0],e=arguments[1];this.interval=t,this.level=e,this.centre=(t.getMin()+t.getMax())/2}function mi(){}function vi(){hi.apply(this)}function yi(){this.root=null,this.minExtent=1,this.root=new vi}function xi(){}function Ei(){this.ring=null,this.tree=null,this.crossings=0,this.interval=new ci;var t=arguments[0];this.ring=t,this.buildIndex()}function Ii(){li.apply(this),this.mcp=null,this.p=null;var t=arguments[0],e=arguments[1];this.mcp=t,this.p=e}function Ni(){}function Ci(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.p0=t,this.p1=e,this.p2=n}function Si(){this.input=null,this.extremalPts=null,this.centre=null,this.radius=0;var t=arguments[0];this.input=t}function wi(){if(this.inputGeom=null,this.isConvex=null,this.convexHullPts=null,this.minBaseSeg=new he,this.minWidthPt=null,this.minPtIndex=null,this.minWidth=0,1===arguments.length){var t=arguments[0];wi.call(this,t,!1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputGeom=e,this.isConvex=n}}function Li(){this.inputGeom=null,this.distanceTolerance=null;var t=arguments[0];this.inputGeom=t}function Ri(){ye.apply(this),this.distanceTolerance=null;var t=arguments[0];this.distanceTolerance=t}function Ti(){this._orig=null,this._sym=null,this._next=null;var t=arguments[0];this._orig=t}function Pi(){this._isMarked=!1;var t=arguments[0];Ti.call(this,t)}function bi(){this.vertexMap=new $t}function Oi(){this._isStart=!1;var t=arguments[0];Pi.call(this,t)}function _i(){bi.apply(this)}function Mi(){this.result=null,this.factory=null,this.graph=null,this.lines=new I,this.nodeEdgeStack=new de,this.ringStartEdge=null,this.graph=new _i}function Di(){this.items=new I,this.subnode=new Array(4).fill(null)}function Ai(){this.pt=new g,this.level=0,this.env=null;var t=arguments[0];this.computeKey(t)}function Fi(){Di.apply(this),this.env=null,this.centrex=null,this.centrey=null,this.level=null;var t=arguments[0],e=arguments[1];this.env=t,this.level=e,this.centrex=(t.getMinX()+t.getMaxX())/2,this.centrey=(t.getMinY()+t.getMaxY())/2}function Gi(){Di.apply(this)}function qi(){this.root=null,this.minExtent=1,this.root=new Gi}function Bi(t){this.geometryFactory=t||new ne}function zi(t){this.geometryFactory=t||new ne,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Bi(this.geometryFactory)}function Vi(){this.parser=new Bi(this.geometryFactory)}function ki(t){this.geometryFactory=t||new ne,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new ie(this.geometryFactory)}function Yi(t){return[t.x,t.y]}function Ui(t,e){this.geometryFactory=t||new ne,this.ol=e||"undefined"!=typeof ol&&ol}function Xi(){if(this.noder=null,this.scaleFactor=null,this.offsetX=null,this.offsetY=null,this.isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];Xi.call(this,t,e,0,0)}else if(4===arguments.length){var n=arguments[0],i=arguments[1];arguments[2],arguments[3],this.noder=n,this.scaleFactor=i,this.isScaled=!this.isIntegerPrecision()}}function Hi(){if(this.inputGeom=null,this.isClosedEndpointsInInterior=!0,this.nonSimpleLocation=null,1===arguments.length){var t=arguments[0];this.inputGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputGeom=e,this.isClosedEndpointsInInterior=!n.isInBoundary(2)}}function Wi(){this.pt=null,this.isClosed=null,this.degree=null;var t=arguments[0];this.pt=t,this.isClosed=!1,this.degree=0}
function ji(){if(this.quadrantSegments=ji.DEFAULT_QUADRANT_SEGMENTS,this.endCapStyle=ji.CAP_ROUND,this.joinStyle=ji.JOIN_ROUND,this.mitreLimit=ji.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this.simplifyFactor=ji.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(n)}else if(4===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2],o=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(r),this.setJoinStyle(s),this.setMitreLimit(o)}}function Ki(){this.minIndex=-1,this.minCoord=null,this.minDe=null,this.orientedDe=null}function Zi(){this.array_=[]}function Qi(){this.finder=null,this.dirEdgeList=new I,this.nodes=new I,this.rightMostCoord=null,this.env=null,this.finder=new Ki}function Ji(){this.inputLine=null,this.distanceTol=null,this.isDeleted=null,this.angleOrientation=le.COUNTERCLOCKWISE;var t=arguments[0];this.inputLine=t}function $i(){this.ptList=null,this.precisionModel=null,this.minimimVertexDistance=0,this.ptList=new I}function tr(){this.maxCurveSegmentError=0,this.filletAngleQuantum=null,this.closingSegLengthFactor=1,this.segList=null,this.distance=0,this.precisionModel=null,this.bufParams=null,this.li=null,this.s0=null,this.s1=null,this.s2=null,this.seg0=new he,this.seg1=new he,this.offset0=new he,this.offset1=new he,this.side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.precisionModel=t,this.bufParams=e,this.li=new oe,this.filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===ji.JOIN_ROUND&&(this.closingSegLengthFactor=tr.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)}function er(){this.distance=0,this.precisionModel=null,this.bufParams=null;var t=arguments[0],e=arguments[1];this.precisionModel=t,this.bufParams=e}function nr(){this.subgraphs=null,this.seg=new he,this.cga=new le;var t=arguments[0];this.subgraphs=t}function ir(){this.upwardSeg=null,this.leftDepth=null;var t=arguments[0],e=arguments[1];this.upwardSeg=new he(t),this.leftDepth=e}function rr(){this.inputGeom=null,this.distance=null,this.curveBuilder=null,this.curveList=new I;var t=arguments[0],e=arguments[1],n=arguments[2];this.inputGeom=t,this.distance=e,this.curveBuilder=n}function sr(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.hasInterior=!1,this.properIntersectionPoint=null,this.li=null,this.isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this.li=t}function or(){this.bufParams=null,this.workingPrecisionModel=null,this.workingNoder=null,this.geomFact=null,this.graph=null,this.edgeList=new ei;var t=arguments[0];this.bufParams=t}function ar(){this.li=new oe,this.segStrings=null;var t=arguments[0];this.segStrings=t}function ur(){this.li=null,this.pt=null,this.originalPt=null,this.ptScaled=null,this.p0Scaled=null,this.p1Scaled=null,this.scaleFactor=null,this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,this.corner=new Array(4).fill(null),this.safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this.originalPt=t,this.pt=t,this.scaleFactor=e,this.li=n,e<=0)throw new i("Scale factor must be non-zero");1!==e&&(this.pt=new g(this.scale(t.x),this.scale(t.y)),this.p0Scaled=new g,this.p1Scaled=new g),this.initCorners(this.pt)}function lr(){this.index=null;var t=arguments[0];this.index=t}function hr(){li.apply(this),this.hotPixel=null,this.parentEdge=null,this.hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.hotPixel=t,this.parentEdge=e,this.hotPixelVertexIndex=n}function cr(){this.li=null,this.interiorIntersections=null;var t=arguments[0];this.li=t,this.interiorIntersections=new I}function fr(){this.pm=null,this.li=null,this.scaleFactor=null,this.noder=null,this.pointSnapper=null,this.nodedSegStrings=null;var t=arguments[0];this.pm=t,this.li=new oe,this.li.setPrecisionModel(t),this.scaleFactor=t.getScale()}function gr(){if(this.argGeom=null,this.distance=null,this.bufParams=new ji,this.resultGeometry=null,this.saveException=null,1===arguments.length){var t=arguments[0];this.argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.argGeom=e,this.bufParams=n}}function dr(){this.comps=null;var t=arguments[0];this.comps=t}function pr(){if(this.component=null,this.segIndex=null,this.pt=null,2===arguments.length){var t=arguments[0],e=arguments[1];pr.call(this,t,pr.INSIDE_AREA,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.component=n,this.segIndex=i,this.pt=r}}function mr(){this.pts=null;var t=arguments[0];this.pts=t}function vr(){this.locations=null;var t=arguments[0];this.locations=t}function yr(){if(this.geom=null,this.terminateDistance=0,this.ptLocator=new Re,this.minDistanceLocation=null,this.minDistance=r.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];yr.call(this,t,e,0)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],s=arguments[2];this.geom=new Array(2).fill(null),this.geom[0]=n,this.geom[1]=i,this.terminateDistance=s}}function xr(){this.factory=null,this.directedEdges=new I,this.coordinates=null;var t=arguments[0];this.factory=t}function Er(){this._isMarked=!1,this._isVisited=!1,this.data=null}function Ir(){Er.apply(this),this.parentEdge=null,this.from=null,this.to=null,this.p0=null,this.p1=null,this.sym=null,this.edgeDirection=null,this.quadrant=null,this.angle=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.from=t,this.to=e,this.edgeDirection=i,this.p0=t.getCoordinate(),this.p1=n;var r=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y;this.quadrant=Qe.quadrant(r,s),this.angle=Math.atan2(s,r)}function Nr(){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];Ir.call(this,t,e,n,i)}function Cr(){if(Er.apply(this),this.dirEdge=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this.setDirectedEdges(t,e)}}function Sr(){this.outEdges=new I,this.sorted=!1}function wr(){if(Er.apply(this),this.pt=null,this.deStar=null,1===arguments.length){var t=arguments[0];wr.call(this,t,new Sr)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pt=e,this.deStar=n}}function Lr(){Cr.apply(this),this.line=null;var t=arguments[0];this.line=t}function Rr(){this.nodeMap=new rt}function Tr(){this.edges=new J,this.dirEdges=new J,this.nodeMap=new Rr}function Pr(){Tr.apply(this)}function br(){this.graph=new Pr,this.mergedLineStrings=null,this.factory=null,this.edgeStrings=null}function Or(){this.edgeRing=null,this.next=null,this.label=-1;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];Ir.call(this,t,e,n,i)}function _r(){Cr.apply(this),this.line=null;var t=arguments[0];this.line=t}function Mr(){this.geometryFactory=new ne,this.geomGraph=null,this.disconnectedRingcoord=null;var t=arguments[0];this.geomGraph=t}function Dr(){}function Ar(){if(this.edgeEnds=new I,1===arguments.length){var t=arguments[0];Ar.call(this,null,t)}else if(2===arguments.length){var e=(arguments[0],arguments[1]);xn.call(this,e.getEdge(),e.getCoordinate(),e.getDirectedCoordinate(),new fn(e.getLabel())),this.insert(e)}}function Fr(){Tn.apply(this)}function Gr(){var t=arguments[0],e=arguments[1];vn.call(this,t,e)}function qr(){In.apply(this)}function Br(){this.nodes=new yn(new qr)}function zr(){this.li=new oe,this.geomGraph=null,this.nodeGraph=new Br,this.invalidPoint=null;var t=arguments[0];this.geomGraph=t}function Vr(){this.graph=null,this.rings=new I,this.totalEnv=new C,this.index=null,this.nestedPt=null;var t=arguments[0];this.graph=t}function kr(){if(this.errorType=null,this.pt=null,1===arguments.length){var t=arguments[0];kr.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.errorType=e,null!==n&&(this.pt=n.copy())}}function Yr(){this.parentGeometry=null,this.isSelfTouchingRingFormingHoleValid=!1,this.validErr=null;var t=arguments[0];this.parentGeometry=t}function Ur(){this.factory=null,this.deList=new I,this.lowestEdge=null,this.ring=null,this.ringPts=null,this.holes=null,this.shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var t=arguments[0];this.factory=t}function Xr(){}function Hr(){Tr.apply(this),this.factory=null;var t=arguments[0];this.factory=t}function Wr(){if(this.lineStringAdder=new jr(this),this.graph=null,this.dangles=new I,this.cutEdges=new I,this.invalidRingLines=new I,this.holeList=null,this.shellList=null,this.polyList=null,this.isCheckingRingsValid=!0,this.extractOnlyPolygonal=null,this.geomFactory=null,0===arguments.length)Wr.call(this,!1);else if(1===arguments.length){var t=arguments[0];this.extractOnlyPolygonal=t}}function jr(){this.p=null;var t=arguments[0];this.p=t}function Kr(){this.li=new oe,this.ptLocator=new Re,this.arg=null,this.nodes=new yn(new qr),this.im=null,this.isolatedEdges=new I,this.invalidPoint=null;var t=arguments[0];this.arg=t}function Zr(){this.rectEnv=null;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal()}function Qr(){this.li=new oe,this.rectEnv=null,this.diagUp0=null,this.diagUp1=null,this.diagDown0=null,this.diagDown1=null;var t=arguments[0];this.rectEnv=t,this.diagUp0=new g(t.getMinX(),t.getMinY()),this.diagUp1=new g(t.getMaxX(),t.getMaxY()),this.diagDown0=new g(t.getMinX(),t.getMaxY()),this.diagDown1=new g(t.getMaxX(),t.getMinY())}function Jr(){this._isDone=!1}function $r(){this.rectangle=null,this.rectEnv=null;var t=arguments[0];this.rectangle=t,this.rectEnv=t.getEnvelopeInternal()}function ts(){Jr.apply(this),this.rectEnv=null,this._intersects=!1;var t=arguments[0];this.rectEnv=t}function es(){Jr.apply(this),this.rectSeq=null,this.rectEnv=null,this._containsPoint=!1;var t=arguments[0];this.rectSeq=t.getExteriorRing().getCoordinateSequence(),this.rectEnv=t.getEnvelopeInternal()}function ns(){Jr.apply(this),this.rectEnv=null,this.rectIntersector=null,this.hasIntersection=!1,this.p0=new g,this.p1=new g;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal(),this.rectIntersector=new Qr(this.rectEnv)}function is(){if(this._relate=null,2===arguments.length){var t=arguments[0],e=arguments[1];$n.call(this,t,e),this._relate=new Kr(this.arg)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];$n.call(this,n,i,r),this._relate=new Kr(this.arg)}}function rs(){this.geomFactory=null,this.skipEmpty=!1,this.inputGeoms=null;var t=arguments[0];this.geomFactory=rs.extractFactory(t),this.inputGeoms=t}function ss(){this.pointGeom=null,this.otherGeom=null,this.geomFact=null;var t=arguments[0],e=arguments[1];this.pointGeom=t,this.otherGeom=e,this.geomFact=e.getFactory()}function os(){this.sortIndex=-1,this.comps=null;var t=arguments[0],e=arguments[1];this.sortIndex=t,this.comps=e}function as(){this.inputPolys=null,this.geomFactory=null;var t=arguments[0];this.inputPolys=t,null===this.inputPolys&&(this.inputPolys=new I)}function us(){if(this.polygons=new I,this.lines=new I,this.points=new I,this.geomFact=null,1===arguments.length){if(R(arguments[0],m)){var t=arguments[0];this.extract(t)}else if(arguments[0]instanceof B){var e=arguments[0];this.extract(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.geomFact=i,this.extract(n)}}function ls(){_t.CoordinateOperation.apply(this),this.targetPM=null,this.removeCollapsed=!0;var t=arguments[0],e=arguments[1];this.targetPM=t,this.removeCollapsed=e}function hs(){this.targetPM=null,this.removeCollapsed=!0,this.changePrecisionModel=!1,this.isPointwise=!1;var t=arguments[0];this.targetPM=t}function cs(){this.pts=null,this.usePt=null,this.distanceTolerance=null,this.seg=new he;var t=arguments[0];this.pts=t}function fs(){this.inputGeom=null,this.distanceTolerance=null,this.isEnsureValidTopology=!0;var t=arguments[0];this.inputGeom=t}function gs(){ye.apply(this),this.isEnsureValidTopology=!0,this.distanceTolerance=null;var t=arguments[0],e=arguments[1];this.isEnsureValidTopology=t,this.distanceTolerance=e}function ds(){if(this.parent=null,this.index=null,2===arguments.length){var t=arguments[0],e=arguments[1];ds.call(this,t,e,null,-1)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],s=arguments[3];he.call(this,n,i),this.parent=r,this.index=s}}function ps(){if(this.parentLine=null,this.segs=null,this.resultSegs=new I,this.minimumSize=null,1===arguments.length){var t=arguments[0];ps.call(this,t,2)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.parentLine=e,this.minimumSize=n,this.init()}}function ms(){this.index=new qi}function vs(){this.querySeg=null,this.items=new I;var t=arguments[0];this.querySeg=t}function ys(){this.li=new oe,this.inputIndex=new ms,this.outputIndex=new ms,this.line=null,this.linePts=null,this.distanceTolerance=0;var t=arguments[0],e=arguments[1];this.inputIndex=t,this.outputIndex=e}function xs(){this.inputIndex=new ms,this.outputIndex=new ms,this.distanceTolerance=0}function Es(){this.inputGeom=null,this.lineSimplifier=new xs,this.linestringMap=null;var t=arguments[0];this.inputGeom=t}function Is(){ye.apply(this),this.linestringMap=null;var t=arguments[0];this.linestringMap=t}function Ns(){this.tps=null;var t=arguments[0];this.tps=t}function Cs(){this.seg=null,this.segLen=null,this.splitPt=null,this.minimumLen=0;var t=arguments[0];this.seg=t,this.segLen=t.getLength()}function Ss(){}function ws(){}function Ls(){}function Rs(){if(this.p=null,1===arguments.length){var t=arguments[0];this.p=new g(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p=new g(e,n)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2];this.p=new g(i,r,s)}}function Ts(){this._isOnConstraint=null,this.constraint=null;var t=arguments[0];Rs.call(this,t)}function Ps(){this._rot=null,this.vertex=null,this.next=null,this.data=null}function bs(){this.subdiv=null,this.isUsingTolerance=!1;var t=arguments[0];this.subdiv=t,this.isUsingTolerance=t.getTolerance()>0}function Os(){}function _s(){this.subdiv=null,this.lastEdge=null;var t=arguments[0];this.subdiv=t,this.init()}function Ms(){if(this.seg=null,1===arguments.length){if("string"==typeof arguments[0]){var t=arguments[0];l.call(this,t)}else if(arguments[0]instanceof he){var e=arguments[0];l.call(this,"Locate failed to converge (at edge: "+e+").  Possible causes include invalid Subdivision topology or very close sites"),this.seg=new he(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];l.call(this,Ms.msgWithSpatial(n,i)),this.seg=new he(i)}}function Ds(){}function As(){this.visitedKey=0,this.quadEdges=new I,this.startingEdge=null,this.tolerance=null,this.edgeCoincidenceTolerance=null,this.frameVertex=new Array(3).fill(null),this.frameEnv=null,this.locator=null,this.seg=new he,this.triEdges=new Array(3).fill(null);var t=arguments[0],e=arguments[1];this.tolerance=e,this.edgeCoincidenceTolerance=e/As.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(t),this.startingEdge=this.initSubdiv(),this.locator=new _s(this)}function Fs(){}function Gs(){this.triList=new I}function qs(){this.triList=new I}function Bs(){this.coordList=new N,this.triCoords=new I}function zs(){if(this.ls=null,this.data=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.ls=new he(t,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.ls=new he(n,i),this.data=r}else if(6===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2],u=arguments[3],l=arguments[4],h=arguments[5];zs.call(this,new g(s,o,a),new g(u,l,h))}else if(7===arguments.length){var c=arguments[0],f=arguments[1],d=arguments[2],p=arguments[3],m=arguments[4],v=arguments[5],y=arguments[6];zs.call(this,new g(c,f,d),new g(p,m,v),y)}}function Vs(){}function ks(){if(this.p=null,this.data=null,this.left=null,this.right=null,this.count=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.p=new g(t),this.left=null,this.right=null,this.count=1,this.data=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.p=new g(n,i),this.left=null,this.right=null,this.count=1,this.data=r}}function Ys(){if(this.root=null,this.numberOfNodes=null,this.tolerance=null,0===arguments.length)Ys.call(this,0);else if(1===arguments.length){var t=arguments[0];this.tolerance=t}}function Us(){this.tolerance=null,this.matchNode=null,this.matchDist=0,this.p=null;var t=arguments[0],e=arguments[1];this.p=t,this.tolerance=e}function Xs(){this.initialVertices=null,this.segVertices=null,this.segments=new I,this.subdiv=null,this.incDel=null,this.convexHull=null,this.splitFinder=new ws,this.kdt=null,this.vertexFactory=null,this.computeAreaEnv=null,this.splitPt=null,this.tolerance=null;var t=arguments[0],e=arguments[1];this.initialVertices=new I(t),this.tolerance=e,this.kdt=new Ys(e)}function Hs(){this.siteCoords=null,this.tolerance=0,this.subdiv=null}function Ws(){this.siteCoords=null,this.constraintLines=null,this.tolerance=0,this.subdiv=null,this.constraintVertexMap=new rt}function js(){this.siteCoords=null,this.tolerance=0,this.subdiv=null,this.clipEnv=null,this.diagramEnv=null}function Ks(){}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,i=1 in arguments?parseInt(Number(arguments[1]),10)||0:0;i=i<0?Math.max(n+i,0):Math.min(i,n);var r=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(r=r<0?Math.max(n+arguments[2],0):Math.min(r,n);i<r;)e[i]=t,++i;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!==t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)},e(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n},r.isNaN=function(t){return Number.isNaN(t)},r.doubleToLongBits=function(t){return t},r.longBitsToDouble=function(t){return t},r.isInfinite=function(t){return!Number.isFinite(t)},r.MAX_VALUE=Number.MAX_VALUE,l.prototype=Object.create(Error.prototype),l.prototype.constructor=Error,h(c,l),e(c.prototype,{interfaces_:function(){return[]},getClass:function(){return c}}),e(f.prototype,{interfaces_:function(){return[]},getClass:function(){return f}}),f.shouldNeverReachHere=function(){if(0===arguments.length)f.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new c("Should never reach here"+(null!==t?": "+t:""))}},f.isTrue=function(){if(1===arguments.length){var t=arguments[0];f.isTrue(t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!e)throw null===n?new c:new c(n)}},f.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];f.equals(t,e,null)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(!i.equals(n))throw new c("Expected "+n+" but encountered "+i+(null!==r?": "+r:""))}},e(g.prototype,{setOrdinate:function(t,e){switch(t){case g.X:this.x=e;break;case g.Y:this.y=e;break;case g.Z:this.z=e;break;default:throw new i("Invalid ordinate index: "+t)}},equals2D:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],i=arguments[1];return!!n.equalsWithTolerance(this.x,e.x,i)&&!!n.equalsWithTolerance(this.y,e.y,i)}},getOrdinate:function(t){switch(t){case g.X:return this.x;case g.Y:return this.y;case g.Z:return this.z}throw new i("Invalid ordinate index: "+t)},equals3D:function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||r.isNaN(this.z)&&r.isNaN(t.z))},equals:function(t){return t instanceof g&&this.equals2D(t)},equalInZ:function(t,e){return n.equalsWithTolerance(this.z,t.z,e)},compareTo:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return f.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}},copy:function(){return new g(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},distance:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+g.hashCode(this.x),t=37*t+g.hashCode(this.y)},setCoordinate:function(t){this.x=t.x,this.y=t.y,this.z=t.z},interfaces_:function(){return[s,o,u]},getClass:function(){return g}}),g.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=r.doubleToLongBits(t);return Math.trunc(e^e>>>32)}},e(d.prototype,{compare:function(t,e){var n=t,i=e,r=d.compare(n.x,i.x);if(0!==r)return r;var s=d.compare(n.y,i.y);return 0!==s?s:this.dimensionsToTest<=2?0:d.compare(n.z,i.z)},interfaces_:function(){return[a]},getClass:function(){return d}}),d.compare=function(t,e){return t<e?-1:t>e?1:r.isNaN(t)?r.isNaN(e)?0:-1:r.isNaN(e)?1:0},g.DimensionalComparator=d,g.serialVersionUID=0x5cbf2c235c7e5800,g.NULL_ORDINATE=r.NaN,g.X=0,g.Y=1,g.Z=2,p.prototype.hasNext=function(){},p.prototype.next=function(){},p.prototype.remove=function(){},m.prototype.add=function(){},m.prototype.addAll=function(){},m.prototype.isEmpty=function(){},m.prototype.iterator=function(){},m.prototype.size=function(){},m.prototype.toArray=function(){},m.prototype.remove=function(){},v.prototype=new Error,v.prototype.name="IndexOutOfBoundsException",y.prototype=Object.create(m.prototype),y.prototype.constructor=y,y.prototype.get=function(){},y.prototype.set=function(){},y.prototype.isEmpty=function(){},x.prototype=new Error,x.prototype.name="NoSuchElementException",E.prototype=new Error,E.prototype.name="OperationNotSupported",I.prototype=Object.create(y.prototype),I.prototype.constructor=I,I.prototype.ensureCapacity=function(){},I.prototype.interfaces_=function(){return[y,m]},I.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},I.prototype.clear=function(){this.array_=[]},I.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},I.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},I.prototype.iterator=function(){return new Zs(this)},I.prototype.get=function(t){if(t<0||t>=this.size())throw new v;return this.array_[t]},I.prototype.isEmpty=function(){return 0===this.array_.length},I.prototype.size=function(){return this.array_.length},I.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},I.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e};var Zs=function(t){this.arrayList_=t,this.position_=0};Zs.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new x;return this.arrayList_.get(this.position_++)},Zs.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},Zs.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},Zs.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},h(N,I),e(N.prototype,{getCoordinate:function(t){return this.get(t)},addAll:function(){if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=!1,i=t.iterator();i.hasNext();)this.add(i.next(),e),n=!0;return n}return I.prototype.addAll.apply(this,arguments)},clone:function(){for(var t=I.prototype.clone.call(this),e=0;e<this.size();e++)t.add(e,this.get(e).copy());return t},toCoordinateArray:function(){return this.toArray(N.coordArrayType)},add:function(){if(1===arguments.length){var t=arguments[0];I.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof g&&"boolean"==typeof arguments[1]){var i=arguments[0],r=arguments[1];if(!r&&this.size()>=1){var s=this.get(this.size()-1);if(s.equals2D(i))return null}I.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1];return this.add(o,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var u=arguments[0],l=arguments[1],h=arguments[2];if(h)for(var c=0;c<u.length;c++)this.add(u[c],l);else for(var c=u.length-1;c>=0;c--)this.add(u[c],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof g){var f=arguments[0],d=arguments[1],p=arguments[2];if(!p){var m=this.size();if(m>0){if(f>0){var v=this.get(f-1);if(v.equals2D(d))return null}if(f<m){var y=this.get(f);if(y.equals2D(d))return null}}}I.prototype.add.call(this,f,d)}}else if(4===arguments.length){var x=arguments[0],E=arguments[1],N=arguments[2],C=arguments[3],S=1;N>C&&(S=-1);for(var c=N;c!==C;c+=S)this.add(x[c],E);return!0}},closeRing:function(){this.size()>0&&this.add(new g(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return N}}),N.coordArrayType=new Array(0).fill(null),e(C.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(t){if(!(t instanceof C))return!1;var e=t;return this.isNull()?e.isNull():this.maxx===e.getMaxX()&&this.maxy===e.getMaxY()&&this.minx===e.getMinX()&&this.miny===e.getMinY()},intersection:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new C;var e=this.minx>t.minx?this.minx:t.minx,n=this.miny>t.miny?this.miny:t.miny;return new C(e,this.maxx<t.maxx?this.maxx:t.maxx,n,this.maxy<t.maxy?this.maxy:t.maxy)},isNull:function(){return this.maxx<this.minx},getMaxX:function(){return this.maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof g){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof C){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this.minx&&e.getMaxX()<=this.maxx&&e.getMinY()>=this.miny&&e.getMaxY()<=this.maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&n>=this.minx&&n<=this.maxx&&i>=this.miny&&i<=this.maxy}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t.minx>this.maxx||t.maxx<this.minx||t.miny>this.maxy||t.maxy<this.miny)}if(arguments[0]instanceof g){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this.maxx||n<this.minx||i>this.maxy||i<this.miny)}},getMinY:function(){return this.miny},getMinX:function(){return this.minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof g){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof C){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this.minx=e.getMinX(),this.maxx=e.getMaxX(),this.miny=e.getMinY(),this.maxy=e.getMaxY()):(e.minx<this.minx&&(this.minx=e.minx),e.maxx>this.maxx&&(this.maxx=e.maxx),e.miny<this.miny&&(this.miny=e.miny),e.maxy>this.maxy&&(this.maxy=e.maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this.minx=n,this.maxx=n,this.miny=i,this.maxy=i):(n<this.minx&&(this.minx=n),n>this.maxx&&(this.maxx=n),i<this.miny&&(this.miny=i),i>this.maxy&&(this.maxy=i))}},minExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},getWidth:function(){return this.isNull()?0:this.maxx-this.minx},compareTo:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this.minx<e.minx?-1:this.minx>e.minx?1:this.miny<e.miny?-1:this.miny>e.miny?1:this.maxx<e.maxx?-1:this.maxx>e.maxx?1:this.maxy<e.maxy?-1:this.maxy>e.maxy?1:0},translate:function(t,e){return this.isNull()?null:void this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},toString:function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"},setToNull:function(){this.minx=0,this.maxx=-1,this.miny=0,this.maxy=-1},getHeight:function(){return this.isNull()?0:this.maxy-this.miny},maxExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},expandBy:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this.minx-=e,this.maxx+=e,this.miny-=n,this.maxy+=n,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof g){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.covers(n,i)}},centre:function(){return this.isNull()?null:new g((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof g){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof C){var e=arguments[0];this.minx=e.minx,this.maxx=e.maxx,this.miny=e.miny,this.maxy=e.maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];r<s?(this.minx=r,this.maxx=s):(this.minx=s,this.maxx=r),o<a?(this.miny=o,this.maxy=a):(this.miny=a,this.maxy=o)}},getMaxY:function(){return this.maxy},distance:function(t){if(this.intersects(t))return 0;var e=0;this.maxx<t.minx?e=t.minx-this.maxx:this.minx>t.maxx&&(e=this.minx-t.maxx);var n=0;return this.maxy<t.miny?n=t.miny-this.maxy:this.miny>t.maxy&&(n=this.miny-t.maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+g.hashCode(this.minx),t=37*t+g.hashCode(this.maxx),t=37*t+g.hashCode(this.miny),t=37*t+g.hashCode(this.maxy)},interfaces_:function(){return[s,u]},getClass:function(){return C}}),C.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2],o=arguments[3],a=Math.min(s.x,o.x),u=Math.max(s.x,o.x),l=Math.min(i.x,r.x),h=Math.max(i.x,r.x);return!(l>u||h<a||(a=Math.min(s.y,o.y),u=Math.max(s.y,o.y),l=Math.min(i.y,r.y),h=Math.max(i.y,r.y),l>u||h<a))}},C.serialVersionUID=0x51845cd552189800,h(w,S),e(w.prototype,{interfaces_:function(){return[]},getClass:function(){return w}}),e(L.prototype,{interfaces_:function(){return[]},getClass:function(){return L}}),L.toLocationSymbol=function(t){switch(t){case L.EXTERIOR:return"e";case L.BOUNDARY:return"b";case L.INTERIOR:return"i";case L.NONE:return"-"}throw new i("Unknown location value: "+t)},L.INTERIOR=0,L.BOUNDARY=1,L.EXTERIOR=2,L.NONE=-1,e(T.prototype,{interfaces_:function(){return[]},getClass:function(){return T}}),T.log10=function(t){var e=Math.log(t);return r.isInfinite(e)?e:r.isNaN(e)?e:e/T.LOG_10},T.min=function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r},T.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],s=arguments[2];return i<r?r:i>s?s:i}},T.wrap=function(t,e){
return t<0?e- -t%e:t%e},T.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=t;return e>i&&(i=e),n>i&&(i=n),i}if(4===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3],i=r;return s>i&&(i=s),o>i&&(i=o),a>i&&(i=a),i}},T.average=function(t,e){return(t+e)/2},T.LOG_10=Math.log(10),P.prototype.append=function(t){this.str+=t},P.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},P.prototype.toString=function(t){return this.str},b.prototype.intValue=function(){return this.value},b.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},b.isNaN=function(t){return Number.isNaN(t)},O.isWhitespace=function(t){return t<=32&&t>=0||127==t},O.toUpperCase=function(t){return t.toUpperCase()},e(_.prototype,{le:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<=t.lo},extractSignificantDigits:function(t,e){var n=this.abs(),i=_.magnitude(n.hi),r=_.TEN.pow(i);n=n.divide(r),n.gt(_.TEN)?(n=n.divide(_.TEN),i+=1):n.lt(_.ONE)&&(n=n.multiply(_.TEN),i-=1);for(var s=i+1,o=new P,a=_.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===s&&o.append(".");var l=Math.trunc(n.hi);if(l<0)break;var h=!1,c=0;l>9?(h=!0,c="9"):c="0"+l,o.append(c),n=n.subtract(_.valueOf(l)).multiply(_.TEN),h&&n.selfAdd(_.TEN);var f=!0,g=_.magnitude(n.hi);if(g<0&&Math.abs(g)>=a-u&&(f=!1),!f)break}return e[0]=i,o.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this.hi+this.lo},subtract:function(){if(arguments[0]instanceof _){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},equals:function(){if(1===arguments.length){var t=arguments[0];return this.hi===t.hi&&this.lo===t.lo}},isZero:function(){return 0===this.hi&&0===this.lo},selfSubtract:function(){if(arguments[0]instanceof _){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t.hi,-t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(t){return this.le(t)?this:t},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof _){var t=arguments[0];return this.selfDivide(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,s=null,o=null,a=null,u=null,l=null,h=null,c=null;return u=this.hi/n,l=_.SPLIT*u,r=l-u,c=_.SPLIT*n,r=l-r,s=u-r,o=c-n,h=u*n,o=c-o,a=n-o,c=r*o-h+r*a+s*o+s*a,l=(this.hi-h-c+this.lo-u*i)/n,c=u+l,this.hi=c,this.lo=u-c+l,this}},dump:function(){return"DD<"+this.hi+", "+this.lo+">"},divide:function(){if(arguments[0]instanceof _){var t=arguments[0],e=null,n=null,i=null,s=null,o=null,a=null,u=null,l=null;o=this.hi/t.hi,a=_.SPLIT*o,e=a-o,l=_.SPLIT*t.hi,e=a-e,n=o-e,i=l-t.hi,u=o*t.hi,i=l-i,s=t.hi-i,l=e*i-u+e*s+n*i+n*s,a=(this.hi-u-l+this.lo-o*t.lo)/t.hi,l=o+a;return new _(l,o-l+a)}if("number"==typeof arguments[0]){var h=arguments[0];return r.isNaN(h)?_.createNaN():_.copy(this).selfDivide(h,0)}},ge:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>=t.lo},pow:function(t){if(0===t)return _.valueOf(1);var e=new _(this),n=_.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},ceil:function(){if(this.isNaN())return _.NaN;var t=Math.ceil(this.hi),e=0;return t===this.hi&&(e=Math.ceil(this.lo)),new _(t,e)},compareTo:function(t){var e=t;return this.hi<e.hi?-1:this.hi>e.hi?1:this.lo<e.lo?-1:this.lo>e.lo?1:0},rint:function(){return this.isNaN()?this:this.add(.5).floor()},setValue:function(){if(arguments[0]instanceof _){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},max:function(t){return this.ge(t)?this:t},sqrt:function(){if(this.isZero())return _.valueOf(0);if(this.isNegative())return _.NaN;var t=1/Math.sqrt(this.hi),e=this.hi*t,n=_.valueOf(e),i=this.subtract(n.sqr()),r=i.hi*(.5*t);return n.add(r)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof _){var t=arguments[0];return this.selfAdd(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,r=null,s=null,o=null,a=null;return r=this.hi+e,o=r-this.hi,s=r-o,s=e-o+(this.hi-s),a=s+this.lo,n=r+a,i=a+(r-n),this.hi=n+i,this.lo=i+(n-this.hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],n=null,i=null,h=null,c=null,r=null,s=null,o=null,a=null;r=this.hi+u,h=this.lo+l,o=r-this.hi,a=h-this.lo,s=r-o,c=h-a,s=u-o+(this.hi-s),c=l-a+(this.lo-c),o=s+h,n=r+o,i=o+(r-n),o=c+i;var f=n+o,g=o+(n-f);return this.hi=f,this.lo=g,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof _){var t=arguments[0];return this.selfMultiply(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,s=null,o=null,a=null,u=null,l=null;u=_.SPLIT*this.hi,r=u-this.hi,l=_.SPLIT*n,r=u-r,s=this.hi-r,o=l-n,u=this.hi*n,o=l-o,a=n-o,l=r*o-u+r*a+s*o+s*a+(this.hi*i+this.lo*n);var h=u+l;r=u-h;var c=l+r;return this.hi=h,this.lo=c,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return _.NaN;var t=Math.floor(this.hi),e=0;return t===this.hi&&(e=Math.floor(this.lo)),new _(t,e)},negate:function(){return this.isNaN()?this:new _(-this.hi,-this.lo)},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}},multiply:function(){if(arguments[0]instanceof _){var t=arguments[0];return t.isNaN()?_.createNaN():_.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return r.isNaN(e)?_.createNaN():_.copy(this).selfMultiply(e,0)}},isNaN:function(){return r.isNaN(this.hi)},intValue:function(){return Math.trunc(this.hi)},toString:function(){var t=_.magnitude(this.hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,r=n;if("."===n.charAt(0))r="0"+n;else if(i<0)r="0."+_.stringOfChar("0",-i)+n;else if(-1===n.indexOf(".")){var s=i-n.length,o=_.stringOfChar("0",s);r=n+o+".0"}return this.isNegative()?"-"+r:r},reciprocal:function(){var t=null,e=null,n=null,i=null,r=null,s=null,o=null,a=null;r=1/this.hi,s=_.SPLIT*r,t=s-r,a=_.SPLIT*this.hi,t=s-t,e=r-t,n=a-this.hi,o=r*this.hi,n=a-n,i=this.hi-n,a=t*n-o+t*i+e*n+e*i,s=(1-o-a-r*this.lo)/this.hi;var u=r+s;return new _(u,r-u+s)},toSciNotation:function(){if(this.isZero())return _.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=_.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new IllegalStateException("Found leading zero: "+n);var r="";n.length>1&&(r=n.substring(1));var s=n.charAt(0)+"."+r;return this.isNegative()?"-"+s+i:s+i},abs:function(){return this.isNaN()?_.NaN:this.isNegative()?this.negate():new _(this)},isPositive:function(){return this.hi>0||0===this.hi&&this.lo>0},lt:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<t.lo},add:function(){if(arguments[0]instanceof _){var t=arguments[0];return _.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return _.copy(this).selfAdd(e)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.hi=t,this.lo=0}else if(arguments[0]instanceof _){var e=arguments[0];this.hi=e.hi,this.lo=e.lo}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.hi=n,this.lo=i}},gt:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>t.lo},isNegative:function(){return this.hi<0||0===this.hi&&this.lo<0},trunc:function(){return this.isNaN()?_.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this.hi>0?1:this.hi<0?-1:this.lo>0?1:this.lo<0?-1:0},interfaces_:function(){return[u,s,o]},getClass:function(){return _}}),_.sqr=function(t){return _.valueOf(t).selfMultiply(t)},_.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return _.parse(t)}if("number"==typeof arguments[0]){return new _(arguments[0])}},_.sqrt=function(t){return _.valueOf(t).sqrt()},_.parse=function(t){for(var e=0,n=t.length;O.isWhitespace(t.charAt(e));)e++;var i=!1;if(e<n){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(i=!0))}for(var s=new _,o=0,a=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,O.isDigit(l)){var h=l-"0";s.selfMultiply(_.TEN),s.selfAdd(h),o++}else{if("."!==l){if("e"===l||"E"===l){var c=t.substring(e);try{u=b.parseInt(c)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+c+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+l+"' at position "+e+" in string "+t)}a=o}}var f=s,g=o-a-u;if(0===g)f=s;else if(g>0){var d=_.TEN.pow(g);f=s.divide(d)}else if(g<0){var d=_.TEN.pow(-g);f=s.multiply(d)}return i?f.negate():f},_.createNaN=function(){return new _(r.NaN,r.NaN)},_.copy=function(t){return new _(t)},_.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i},_.stringOfChar=function(t,e){for(var n=new P,i=0;i<e;i++)n.append(t);return n.toString()},_.PI=new _(3.141592653589793,1.2246467991473532e-16),_.TWO_PI=new _(6.283185307179586,2.4492935982947064e-16),_.PI_2=new _(1.5707963267948966,6.123233995736766e-17),_.E=new _(2.718281828459045,1.4456468917292502e-16),_.NaN=new _(r.NaN,r.NaN),_.EPS=1.23259516440783e-32,_.SPLIT=134217729,_.MAX_PRINT_DIGITS=32,_.TEN=_.valueOf(10),_.ONE=_.valueOf(1),_.SCI_NOT_EXPONENT_CHAR="E",_.SCI_NOT_ZERO="0.0E0",e(M.prototype,{interfaces_:function(){return[]},getClass:function(){return M}}),M.orientationIndex=function(t,e,n){var i=M.orientationIndexFilter(t,e,n);if(i<=1)return i;var r=_.valueOf(e.x).selfAdd(-t.x),s=_.valueOf(e.y).selfAdd(-t.y),o=_.valueOf(n.x).selfAdd(-e.x),a=_.valueOf(n.y).selfAdd(-e.y);return r.selfMultiply(a).selfSubtract(s.selfMultiply(o)).signum()},M.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},M.intersection=function(t,e,n,i){var r=_.valueOf(i.y).selfSubtract(n.y).selfMultiply(_.valueOf(e.x).selfSubtract(t.x)),s=_.valueOf(i.x).selfSubtract(n.x).selfMultiply(_.valueOf(e.y).selfSubtract(t.y)),o=r.subtract(s),a=_.valueOf(i.x).selfSubtract(n.x).selfMultiply(_.valueOf(t.y).selfSubtract(n.y)),u=_.valueOf(i.y).selfSubtract(n.y).selfMultiply(_.valueOf(t.x).selfSubtract(n.x)),l=a.subtract(u),h=l.selfDivide(o).doubleValue(),c=_.valueOf(t.x).selfAdd(_.valueOf(e.x).selfSubtract(t.x).selfMultiply(h)).doubleValue(),f=_.valueOf(e.x).selfSubtract(t.x).selfMultiply(_.valueOf(t.y).selfSubtract(n.y)),d=_.valueOf(e.y).selfSubtract(t.y).selfMultiply(_.valueOf(t.x).selfSubtract(n.x)),p=f.subtract(d),m=p.selfDivide(o).doubleValue();return new g(c,_.valueOf(n.y).selfAdd(_.valueOf(i.y).selfSubtract(n.y).selfMultiply(m)).doubleValue())},M.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),s=(t.y-n.y)*(e.x-n.x),o=r-s;if(r>0){if(s<=0)return M.signum(o);i=r+s}else{if(!(r<0))return M.signum(o);if(s>=0)return M.signum(o);i=-r-s}var a=M.DP_SAFE_EPSILON*i;return o>=a||-o>=a?M.signum(o):2},M.signum=function(t){return t>0?1:t<0?-1:0},M.DP_SAFE_EPSILON=1e-15,e(D.prototype,{setOrdinate:function(t,e,n){},size:function(){},getOrdinate:function(t,e){},getCoordinate:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},getCoordinateCopy:function(t){},getDimension:function(){},getX:function(t){},clone:function(){},expandEnvelope:function(t){},copy:function(){},getY:function(t){},toCoordinateArray:function(){},interfaces_:function(){return[o]},getClass:function(){return D}}),D.X=0,D.Y=1,D.Z=2,D.M=3,A.arraycopy=function(t,e,n,i,r){for(var s=0,o=e;o<e+r;o++)n[i+s]=t[o],s++},A.getProperty=function(t){return{"line.separator":"\n"}[t]},e(F.prototype,{getY:function(){var t=this.y/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new w;return t},getX:function(){var t=this.x/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new w;return t},getCoordinate:function(){var t=new g;return t.x=this.getX(),t.y=this.getY(),t},interfaces_:function(){return[]},getClass:function(){return F}}),F.intersection=function(t,e,n,i){var s=t.y-e.y,o=e.x-t.x,a=t.x*e.y-e.x*t.y,u=n.y-i.y,l=i.x-n.x,h=n.x*i.y-i.x*n.y,c=o*h-l*a,f=u*a-s*h,d=s*l-u*o,p=c/d,m=f/d;if(r.isNaN(p)||r.isInfinite(p)||r.isNaN(m)||r.isInfinite(m))throw new w;return new g(p,m)},e(G.prototype,{create:function(){1===arguments.length?arguments[0]instanceof Array?arguments[0]:R(arguments[0],D)&&arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return G}}),e(q.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return q}}),e(B.prototype,{isGeometryCollection:function(){return this.getSortIndex()===B.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this.factory},getGeometryN:function(t){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(1===arguments.length){if(arguments[0]instanceof B){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof B))return!1;var n=e;return this.equalsExact(n)}}},equalsExact:function(t){return this===t||this.equalsExact(t,0)},geometryChanged:function(){this.apply(B.geometryChangedFilter)},geometryChangedAction:function(){this.envelope=null},equalsNorm:function(t){return null!==t&&this.norm().equalsExact(t.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=n;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n,i)}},getUserData:function(){return this.userData},getSRID:function(){return this.SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(t){if(t.getSortIndex()===B.SORTINDEX_GEOMETRYCOLLECTION)throw new i("This method does not support GeometryCollection arguments")},equal:function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},norm:function(){var t=this.copy();return t.normalize(),t},getPrecisionModel:function(){return this.factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this.envelope&&(this.envelope=this.computeEnvelopeInternal()),new C(this.envelope)},setSRID:function(t){this.SRID=t},setUserData:function(t){this.userData=t},compare:function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),s=i.next(),o=r.compareTo(s);if(0!==o)return o}return n.hasNext()?1:i.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===B.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===B.SORTINDEX_MULTIPOINT||this.getSortIndex()===B.SORTINDEX_MULTILINESTRING||this.getSortIndex()===B.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[o,s,u]},getClass:function(){return B}}),B.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},B.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},B.serialVersionUID=0x799ea46522854c00,B.SORTINDEX_POINT=0,B.SORTINDEX_MULTIPOINT=1,B.SORTINDEX_LINESTRING=2,B.SORTINDEX_LINEARRING=3,B.SORTINDEX_MULTILINESTRING=4,B.SORTINDEX_POLYGON=5,B.SORTINDEX_MULTIPOLYGON=6,B.SORTINDEX_GEOMETRYCOLLECTION=7,B.geometryChangedFilter={interfaces_:function(){return[q]},filter:function(t){t.geometryChangedAction()}},e(z.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return z}}),e(V.prototype,{isInBoundary:function(t){},interfaces_:function(){return[]},getClass:function(){return V}}),e(k.prototype,{isInBoundary:function(t){return t%2==1},interfaces_:function(){return[V]},getClass:function(){return k}}),e(Y.prototype,{isInBoundary:function(t){return t>0},interfaces_:function(){return[V]},getClass:function(){return Y}}),e(U.prototype,{isInBoundary:function(t){return t>1},interfaces_:function(){return[V]},getClass:function(){return U}}),e(X.prototype,{isInBoundary:function(t){return 1===t},interfaces_:function(){return[V]},getClass:function(){return X}}),V.Mod2BoundaryNodeRule=k,V.EndPointBoundaryNodeRule=Y,V.MultiValentEndPointBoundaryNodeRule=U,V.MonoValentEndPointBoundaryNodeRule=X,V.MOD2_BOUNDARY_RULE=new k,V.ENDPOINT_BOUNDARY_RULE=new Y,V.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new U,V.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new X,V.OGC_SFS_BOUNDARY_RULE=V.MOD2_BOUNDARY_RULE,e(H.prototype,{interfaces_:function(){return[]},getClass:function(){return H}}),H.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},H.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(H.indexOf(i,e)<0)return i}return null},H.scroll=function(t,e){var n=H.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);A.arraycopy(t,n,i,0,t.length-n),A.arraycopy(t,0,i,t.length-n,n),A.arraycopy(i,0,t,0,t.length)},H.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var n=0;n<i.length;n++)if(0!==s.compare(i[n],r[n]))return!1;return!0}},H.intersection=function(t,e){for(var n=new N,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},H.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},H.removeRepeatedPoints=function(t){return H.hasRepeatedPoints(t)?new N(t,!1).toCoordinateArray():t},H.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},H.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,n=0;n<t.length;n++)null!==t[n]&&(i[r++]=t[n]);return i},H.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new g(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],s=arguments[2],o=arguments[3],a=arguments[4],n=0;n<a;n++)s[o+n]=new g(i[r+n])},H.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0},H.envelope=function(t){for(var e=new C,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},H.toCoordinateArray=function(t){return t.toArray(H.coordArrayType)},H.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},H.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},H.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1},H.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},H.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},H.extract=function(t,e,n){e=T.clamp(e,0,t.length),n=T.clamp(n,-1,t.length);var i=n-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var s=0,o=e;o<=n;o++)r[s++]=t[o];return r},e(W.prototype,{compare:function(t,e){var n=t,i=e;return H.compare(n,i)},interfaces_:function(){return[a]},getClass:function(){return W}}),e(j.prototype,{compare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=H.compare(n,i);return H.isEqualReversed(n,i)?0:r},OLDcompare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=H.increasingDirection(n),s=H.increasingDirection(i),o=r>0?0:n.length-1,a=s>0?0:n.length-1,u=0;u<n.length;u++){var l=n[o].compareTo(i[a]);if(0!==l)return l;o+=r,a+=s}return 0},interfaces_:function(){return[a]},getClass:function(){return j}}),H.ForwardComparator=W,H.BidirectionalComparator=j,H.coordArrayType=new Array(0).fill(null),K.prototype.get=function(){},K.prototype.put=function(){},K.prototype.size=function(){},K.prototype.values=function(){},K.prototype.entrySet=function(){},Z.prototype=new K,Q.prototype=new m,Q.prototype.contains=function(){},J.prototype=new Q,J.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){if(this.array_[e]===t)return!0}return!1},J.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},J.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},J.prototype.remove=function(t){throw new javascript.util.OperationNotSupported},J.prototype.size=function(){return this.array_.length},J.prototype.isEmpty=function(){return 0===this.array_.length},J.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},J.prototype.iterator=function(){return new Qs(this)};var Qs=function(t){this.hashSet_=t,this.position_=0};Qs.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new x;return this.hashSet_.array_[this.position_++]},Qs.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},Qs.prototype.remove=function(){throw new E};var Js=0;rt.prototype=new Z,rt.prototype.get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},rt.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Js,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var s=r.value;return r.value=e,s}r=r.right}}while(null!==r);var o={key:t,left:null,right:null,value:e,parent:n,color:Js,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=o:n.right=o,this.fixAfterInsertion(o),this.size_++,null},rt.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!=this.root_&&1==t.parent.color;)if(tt(t)==nt(tt(tt(t)))){var e=it(tt(tt(t)));1==$(e)?(et(tt(t),Js),et(e,Js),et(tt(tt(t)),1),t=tt(tt(t))):(t==it(tt(t))&&(t=tt(t),this.rotateLeft(t)),et(tt(t),Js),et(tt(tt(t)),1),this.rotateRight(tt(tt(t))))}else{var e=nt(tt(tt(t)));1==$(e)?(et(tt(t),Js),et(e,Js),et(tt(tt(t)),1),t=tt(tt(t))):(t==nt(tt(t))&&(t=tt(t),this.rotateRight(t)),et(tt(t),Js),et(tt(tt(t)),1),this.rotateLeft(tt(tt(t))))}this.root_.color=Js},rt.prototype.values=function(){var t=new I,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=rt.successor(e));)t.add(e.value);return t},rt.prototype.entrySet=function(){var t=new J,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=rt.successor(e));)t.add(e);return t},rt.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left==t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},rt.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right==t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},rt.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},rt.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var e=t.parent,n=t;null!==e&&n===e.right;)n=e,e=e.parent;return e},rt.prototype.size=function(){return this.size_},e(st.prototype,{interfaces_:function(){return[]},getClass:function(){return st}}),ot.prototype=new Q,at.prototype=new ot,at.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){if(0===this.array_[e].compareTo(t))return!0}return!1},at.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++){if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0}return this.array_.push(t),!0},at.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},at.prototype.remove=function(t){throw new E},at.prototype.size=function(){return this.array_.length},at.prototype.isEmpty=function(){return 0===this.array_.length},at.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},at.prototype.iterator=function(){return new $s(this)};var $s=function(t){this.treeSet_=t,this.position_=0};$s.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new x;return this.treeSet_.array_[this.position_++]},$s.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},$s.prototype.remove=function(){throw new E},ut.sort=function(){var t,e,n,i,r=arguments[0];if(1===arguments.length)return i=function(t,e){return t.compareTo(e)},void r.sort(i);if(2===arguments.length)n=arguments[1],i=function(t,e){return n.compare(t,e)},r.sort(i);else{if(3===arguments.length){e=r.slice(arguments[1],arguments[2]),e.sort();var s=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<s.length;t++)r.push(s[t]);return}if(4===arguments.length){for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],i=function(t,e){return n.compare(t,e)},e.sort(i),s=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<s.length;t++)r.push(s[t]);return}}},ut.asList=function(t){for(var e=new I,n=0,i=t.length;n<i;n++)e.add(t[n]);return e},e(lt.prototype,{interfaces_:function(){return[]},getClass:function(){return lt}}),lt.toDimensionSymbol=function(t){switch(t){case lt.FALSE:return lt.SYM_FALSE;case lt.TRUE:return lt.SYM_TRUE;case lt.DONTCARE:return lt.SYM_DONTCARE;case lt.P:return lt.SYM_P;case lt.L:return lt.SYM_L;case lt.A:return lt.SYM_A}throw new i("Unknown dimension value: "+t)},lt.toDimensionValue=function(t){switch(O.toUpperCase(t)){case lt.SYM_FALSE:return lt.FALSE;case lt.SYM_TRUE:return lt.TRUE;case lt.SYM_DONTCARE:return lt.DONTCARE;case lt.SYM_P:return lt.P;case lt.SYM_L:return lt.L;case lt.SYM_A:return lt.A}throw new i("Unknown dimension symbol: "+t)},lt.P=0,lt.L=1,lt.A=2,lt.FALSE=-1,lt.TRUE=-2,lt.DONTCARE=-3,lt.SYM_FALSE="F",lt.SYM_TRUE="T",lt.SYM_DONTCARE="*",lt.SYM_P="0",lt.SYM_L="1",lt.SYM_A="2",e(ht.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return ht}}),e(ct.prototype,{filter:function(t,e){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return ct}}),h(ft,B),e(ft.prototype,{computeEnvelopeInternal:function(){for(var t=new C,e=0;e<this.geometries.length;e++)t.expandToInclude(this.geometries[e].getEnvelopeInternal());return t},getGeometryN:function(t){return this.geometries[t]},getSortIndex:function(){return B.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this.geometries.length;n++)for(var i=this.geometries[n].getCoordinates(),r=0;r<i.length;r++)e++,t[e]=i[r];return t},getArea:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getArea();return t},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.geometries.length!==n.geometries.length)return!1;for(var i=0;i<this.geometries.length;i++)if(!this.geometries[i].equalsExact(n.geometries[i],e))return!1;return!0}return B.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<this.geometries.length;t++)this.geometries[t].normalize();ut.sort(this.geometries)},getCoordinate:function(){return this.isEmpty()?null:this.geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var t=lt.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getBoundaryDimension());return t},getDimension:function(){for(var t=lt.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getDimension());return t},getLength:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getLength();return t},getNumPoints:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getNumPoints();return t},getNumGeometries:function(){return this.geometries.length},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=new at(ut.asList(this.geometries)),n=new at(ut.asList(t.geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],s=i,o=this.getNumGeometries(),a=s.getNumGeometries(),u=0;u<o&&u<a;){var l=this.getGeometryN(u),h=s.getGeometryN(u),c=l.compareToSameClass(h,r);if(0!==c)return c;u++}return u<o?1:u<a?-1:0}},apply:function(){if(R(arguments[0],z))for(var t=arguments[0],e=0;e<this.geometries.length;e++)this.geometries[e].apply(t);else if(R(arguments[0],ct)){var n=arguments[0];if(0===this.geometries.length)return null;for(var e=0;e<this.geometries.length&&(this.geometries[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(R(arguments[0],ht)){var i=arguments[0];i.filter(this);for(var e=0;e<this.geometries.length;e++)this.geometries[e].apply(i)}else if(R(arguments[0],q)){var r=arguments[0];r.filter(this);for(var e=0;e<this.geometries.length;e++)this.geometries[e].apply(r)}},getBoundary:function(){return this.checkNotGeometryCollection(this),f.shouldNeverReachHere(),null},clone:function(){var t=B.prototype.clone.call(this);t.geometries=new Array(this.geometries.length).fill(null);for(var e=0;e<this.geometries.length;e++)t.geometries[e]=this.geometries[e].clone();return t},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new ft(t,this.factory)},isEmpty:function(){for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return ft}}),ft.serialVersionUID=-0x4f07bcb1f857d800,h(gt,ft),e(gt.prototype,{getSortIndex:function(){return B.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ft.prototype.equalsExact.call(this,t,e)}return ft.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?lt.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[t-1-n]=this.geometries[n].reverse();return this.getFactory().createMultiLineString(e)},getBoundary:function(){return new dt(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){
for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new gt(t,this.factory)},interfaces_:function(){return[st]},getClass:function(){return gt}}),gt.serialVersionUID=0x7155d2ab4afa8000,e(dt.prototype,{boundaryMultiLineString:function(t){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this.geomFact.createPoint(e[0]):this.geomFact.createMultiPointFromCoords(e)},getBoundary:function(){return this.geom instanceof St?this.boundaryLineString(this.geom):this.geom instanceof gt?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()},boundaryLineString:function(t){if(this.geom.isEmpty())return this.getEmptyMultiPoint();if(t.isClosed()){return this.bnRule.isInBoundary(2)?t.getStartPoint():this.geomFact.createMultiPoint()}return this.geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},getEmptyMultiPoint:function(){return this.geomFact.createMultiPoint()},computeBoundaryCoordinates:function(t){var e=new I;this.endpointMap=new rt;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this.endpointMap.entrySet().iterator();r.hasNext();){var s=r.next(),o=s.getValue(),a=o.count;this.bnRule.isInBoundary(a)&&e.add(s.getKey())}return H.toCoordinateArray(e)},addEndpoint:function(t){var e=this.endpointMap.get(t);null===e&&(e=new pt,this.endpointMap.put(t,e)),e.count++},interfaces_:function(){return[]},getClass:function(){return dt}}),dt.getBoundary=function(){if(1===arguments.length){var t=arguments[0],e=new dt(t);return e.getBoundary()}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=new dt(n,i);return e.getBoundary()}},e(pt.prototype,{interfaces_:function(){return[]},getClass:function(){return pt}}),e(Nt.prototype,{interfaces_:function(){return[]},getClass:function(){return Nt}}),Nt.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return new String(n)},Nt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new xt,n=new mt(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],s="",o=new vt(Nt.getStackTrace(i)),a=new It(o),u=0;u<r;u++)try{s+=a.readLine()+Nt.NEWLINE}catch(t){if(!(t instanceof Et))throw t;f.shouldNeverReachHere()}return s}},Nt.split=function(t,e){for(var n=e.length,i=new I,r=""+t,s=r.indexOf(e);s>=0;){var o=r.substring(0,s);i.add(o),r=r.substring(s+n),s=r.indexOf(e)}r.length>0&&i.add(r);for(var a=new Array(i.size()).fill(null),u=0;u<a.length;u++)a[u]=i.get(u);return a},Nt.toString=function(){if(1===arguments.length){var t=arguments[0];return Nt.SIMPLE_ORDINATE_FORMAT.format(t)}},Nt.spaces=function(t){return Nt.chars(" ",t)},Nt.NEWLINE=A.getProperty("line.separator"),Nt.SIMPLE_ORDINATE_FORMAT=new yt("0.#"),e(Ct.prototype,{interfaces_:function(){return[]},getClass:function(){return Ct}}),Ct.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),s=0;s<r;s++)n.setOrdinate(i,s,t.getOrdinate(e,s))},Ct.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,D.X)===t.getOrdinate(e-1,D.X)&&t.getOrdinate(0,D.Y)===t.getOrdinate(e-1,D.Y)},Ct.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),s=0;s<n;s++)for(var o=0;o<i;o++){var a=t.getOrdinate(s,o),u=e.getOrdinate(s,o);if(!(t.getOrdinate(s,o)===e.getOrdinate(s,o)||r.isNaN(a)&&r.isNaN(u)))return!1}return!0},Ct.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(Ct.copy(e,0,i,0,r),r>0)for(var s=r;s<n;s++)Ct.copy(e,r-1,i,s,1);return i},Ct.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)Ct.swap(t,i,e-i)},Ct.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},Ct.copy=function(t,e,n,i,r){for(var s=0;s<r;s++)Ct.copyCoord(t,e+s,n,i+s)},Ct.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new P;i.append("(");for(var r=0;r<e;r++){r>0&&i.append(" ");for(var s=0;s<n;s++)s>0&&i.append(","),i.append(Nt.toString(t.getOrdinate(r,s)))}return i.append(")"),i.toString()}},Ct.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Ct.createClosedRing(t,e,4):e.getOrdinate(0,D.X)===e.getOrdinate(n-1,D.X)&&e.getOrdinate(0,D.Y)===e.getOrdinate(n-1,D.Y)?e:Ct.createClosedRing(t,e,n+1)},Ct.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();Ct.copy(e,0,i,0,r);for(var s=r;s<n;s++)Ct.copy(e,0,i,s,1);return i},h(St,B),e(St.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new C:this.points.expandEnvelope(new C)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return B.SORTINDEX_LINESTRING},getCoordinates:function(){return this.points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.points.size()!==n.points.size())return!1;for(var i=0;i<this.points.size();i++)if(!this.equal(this.points.getCoordinate(i),n.points.getCoordinate(i),e))return!1;return!0}return B.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<Math.trunc(this.points.size()/2);t++){var e=this.points.size()-1-t;if(!this.points.getCoordinate(t).equals(this.points.getCoordinate(e)))return this.points.getCoordinate(t).compareTo(this.points.getCoordinate(e))>0&&Ct.reverse(this.points),null}},getCoordinate:function(){return this.isEmpty()?null:this.points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?lt.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return le.computeLength(this.points)},getNumPoints:function(){return this.points.size()},reverse:function(){var t=this.points.copy();return Ct.reverse(t),this.getFactory().createLineString(t)},compareToSameClass:function(){if(1===arguments.length){for(var t=arguments[0],e=t,n=0,i=0;n<this.points.size()&&i<e.points.size();){var r=this.points.getCoordinate(n).compareTo(e.points.getCoordinate(i));if(0!==r)return r;n++,i++}return n<this.points.size()?1:i<e.points.size()?-1:0}if(2===arguments.length){var s=arguments[0],o=arguments[1],e=s;return o.compare(this.points,e.points)}},apply:function(){if(R(arguments[0],z))for(var t=arguments[0],e=0;e<this.points.size();e++)t.filter(this.points.getCoordinate(e));else if(R(arguments[0],ct)){var n=arguments[0];if(0===this.points.size())return null;for(var e=0;e<this.points.size()&&(n.filter(this.points,e),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(R(arguments[0],ht)){var i=arguments[0];i.filter(this)}else if(R(arguments[0],q)){var r=arguments[0];r.filter(this)}},getBoundary:function(){return new dt(this).getBoundary()},isEquivalentClass:function(t){return t instanceof St},clone:function(){var t=B.prototype.clone.call(this);return t.points=this.points.clone(),t},getCoordinateN:function(t){return this.points.getCoordinate(t)},getGeometryType:function(){return"LineString"},copy:function(){return new St(this.points.copy(),this.factory)},getCoordinateSequence:function(){return this.points},isEmpty:function(){return 0===this.points.size()},init:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new i("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this.points=t},isCoordinate:function(t){for(var e=0;e<this.points.size();e++)if(this.points.getCoordinate(e).equals(t))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(t){return this.getFactory().createPoint(this.points.getCoordinate(t))},interfaces_:function(){return[st]},getClass:function(){return St}}),St.serialVersionUID=0x2b2b51ba435c8e00,e(wt.prototype,{interfaces_:function(){return[]},getClass:function(){return wt}}),h(Lt,B),e(Lt.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new C;var t=new C;return t.expandToInclude(this.coordinates.getX(0),this.coordinates.getY(0)),t},getSortIndex:function(){return B.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return B.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this.coordinates.size()?this.coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return lt.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=n;return i.compare(this.coordinates,e.coordinates)}},apply:function(){if(R(arguments[0],z)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(R(arguments[0],ct)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(R(arguments[0],ht)){var n=arguments[0];n.filter(this)}else if(R(arguments[0],q)){var i=arguments[0];i.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var t=B.prototype.clone.call(this);return t.coordinates=this.coordinates.clone(),t},getGeometryType:function(){return"Point"},copy:function(){return new Lt(this.coordinates.copy(),this.factory)},getCoordinateSequence:function(){return this.coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this.coordinates.size()},init:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),f.isTrue(t.size()<=1),this.coordinates=t},isSimple:function(){return!0},interfaces_:function(){return[wt]},getClass:function(){return Lt}}),Lt.serialVersionUID=0x44077bad161cbc00,e(Rt.prototype,{interfaces_:function(){return[]},getClass:function(){return Rt}}),h(Tt,B),e(Tt.prototype,{computeEnvelopeInternal:function(){return this.shell.getEnvelopeInternal()},getSortIndex:function(){return B.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this.shell.getCoordinates(),i=0;i<n.length;i++)e++,t[e]=n[i];for(var r=0;r<this.holes.length;r++)for(var s=this.holes[r].getCoordinates(),o=0;o<s.length;o++)e++,t[e]=s[o];return t},getArea:function(){var t=0;t+=Math.abs(le.signedArea(this.shell.getCoordinateSequence()));for(var e=0;e<this.holes.length;e++)t-=Math.abs(le.signedArea(this.holes[e].getCoordinateSequence()));return t},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this.shell)return!1;if(5!==this.shell.getNumPoints())return!1;for(var t=this.shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var s=t.getX(0),o=t.getY(0),n=1;n<=4;n++){var i=t.getX(n),r=t.getY(n);if(i!==s===(r!==o))return!1;s=i,o=r}return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,i=this.shell,r=n.shell;if(!i.equalsExact(r,e))return!1;if(this.holes.length!==n.holes.length)return!1;for(var s=0;s<this.holes.length;s++)if(!this.holes[s].equalsExact(n.holes[s],e))return!1;return!0}return B.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this.shell,!0);for(var t=0;t<this.holes.length;t++)this.normalize(this.holes[t],!1);ut.sort(this.holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);A.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=H.minCoordinate(e.getCoordinates());H.scroll(i,r),A.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],le.isCCW(e.getCoordinates())===n&&H.reverse(e.getCoordinates())}},getCoordinate:function(){return this.shell.getCoordinate()},getNumInteriorRing:function(){return this.holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var t=0;t+=this.shell.getLength();for(var e=0;e<this.holes.length;e++)t+=this.holes[e].getLength();return t},getNumPoints:function(){for(var t=this.shell.getNumPoints(),e=0;e<this.holes.length;e++)t+=this.holes[e].getNumPoints();return t},reverse:function(){var t=this.copy();t.shell=this.shell.copy().reverse(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].copy().reverse();return t},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=this.shell,n=t.shell;return e.compareToSameClass(n)}if(2===arguments.length){var i=arguments[0],r=arguments[1],s=i,e=this.shell,n=s.shell,o=e.compareToSameClass(n,r);if(0!==o)return o;for(var a=this.getNumInteriorRing(),u=s.getNumInteriorRing(),l=0;l<a&&l<u;){var h=this.getInteriorRingN(l),c=s.getInteriorRingN(l),f=h.compareToSameClass(c,r);if(0!==f)return f;l++}return l<a?1:l<u?-1:0}},apply:function(){if(R(arguments[0],z)){var t=arguments[0];this.shell.apply(t);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(t)}else if(R(arguments[0],ct)){var n=arguments[0];if(this.shell.apply(n),!n.isDone())for(var e=0;e<this.holes.length&&(this.holes[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(R(arguments[0],ht)){var i=arguments[0];i.filter(this)}else if(R(arguments[0],q)){var r=arguments[0];r.filter(this),this.shell.apply(r);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(r)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this.holes.length+1).fill(null);t[0]=this.shell;for(var e=0;e<this.holes.length;e++)t[e+1]=this.holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},clone:function(){var t=B.prototype.clone.call(this);t.shell=this.shell.clone(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].clone();return t},getGeometryType:function(){return"Polygon"},copy:function(){for(var t=this.shell.copy(),e=new Array(this.holes.length).fill(null),n=0;n<e.length;n++)e[n]=this.holes[n].copy();return new Tt(t,e,this.factory)},getExteriorRing:function(){return this.shell},isEmpty:function(){return this.shell.isEmpty()},getInteriorRingN:function(t){return this.holes[t]},interfaces_:function(){return[Rt]},getClass:function(){return Tt}}),Tt.serialVersionUID=-0x307ffefd8dc97200,h(Pt,ft),e(Pt.prototype,{getSortIndex:function(){return B.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ft.prototype.equalsExact.call(this,t,e)}return ft.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this.geometries[t].getCoordinate()}return ft.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return lt.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new Pt(t,this.factory)},interfaces_:function(){return[wt]},getClass:function(){return Pt}}),Pt.serialVersionUID=-0x6fb1ed4162e0fc00,h(bt,St),e(bt.prototype,{getSortIndex:function(){return B.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return lt.FALSE},isClosed:function(){return!!this.isEmpty()||St.prototype.isClosed.call(this)},reverse:function(){var t=this.points.copy();return Ct.reverse(t),this.getFactory().createLinearRing(t)},validateConstruction:function(){if(!this.isEmpty()&&!St.prototype.isClosed.call(this))throw new i("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<bt.MINIMUM_VALID_SIZE)throw new i("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new bt(this.points.copy(),this.factory)},interfaces_:function(){return[]},getClass:function(){return bt}}),bt.MINIMUM_VALID_SIZE=4,bt.serialVersionUID=-0x3b229e262367a600,h(Ot,ft),e(Ot.prototype,{getSortIndex:function(){return B.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ft.prototype.equalsExact.call(this,t,e)}return ft.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new I,e=0;e<this.geometries.length;e++)for(var n=this.geometries[e],i=n.getBoundary(),r=0;r<i.getNumGeometries();r++)t.add(i.getGeometryN(r));var s=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(s))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new Ot(t,this.factory)},interfaces_:function(){return[Rt]},getClass:function(){return Ot}}),Ot.serialVersionUID=-0x7a5aa1369171980,e(_t.prototype,{setCopyUserData:function(t){this.isUserDataCopied=t},edit:function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this.isUserDataCopied&&n.setUserData(t.getUserData()),n},editInternal:function(t,e){return null===this.factory&&(this.factory=t.getFactory()),t instanceof ft?this.editGeometryCollection(t,e):t instanceof Tt?this.editPolygon(t,e):t instanceof Lt?e.edit(t,this.factory):t instanceof St?e.edit(t,this.factory):(f.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},editGeometryCollection:function(t,e){for(var n=e.edit(t,this.factory),i=new I,r=0;r<n.getNumGeometries();r++){var s=this.edit(n.getGeometryN(r),e);null===s||s.isEmpty()||i.add(s)}return n.getClass()===Pt?this.factory.createMultiPoint(i.toArray([])):n.getClass()===gt?this.factory.createMultiLineString(i.toArray([])):n.getClass()===Ot?this.factory.createMultiPolygon(i.toArray([])):this.factory.createGeometryCollection(i.toArray([]))},editPolygon:function(t,e){var n=e.edit(t,this.factory);if(null===n&&(n=this.factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this.factory.createPolygon();for(var r=new I,s=0;s<n.getNumInteriorRing();s++){var o=this.edit(n.getInteriorRingN(s),e);null===o||o.isEmpty()||r.add(o)}return this.factory.createPolygon(i,r.toArray([]))},interfaces_:function(){return[]},getClass:function(){return _t}}),_t.GeometryEditorOperation=Mt,e(Dt.prototype,{edit:function(t,e){return t},interfaces_:function(){return[Mt]},getClass:function(){return Dt}}),e(At.prototype,{edit:function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof bt?e.createLinearRing(n):t instanceof St?e.createLineString(n):t instanceof Lt?n.length>0?e.createPoint(n[0]):e.createPoint():t},interfaces_:function(){return[Mt]},getClass:function(){return At}}),e(Ft.prototype,{edit:function(t,e){return t instanceof bt?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof St?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Lt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},interfaces_:function(){return[Mt]},getClass:function(){return Ft}}),_t.NoOpGeometryOperation=Dt,_t.CoordinateOperation=At,_t.CoordinateSequenceOperation=Ft,e(Gt.prototype,{setOrdinate:function(t,e,n){switch(e){case D.X:this.coordinates[t].x=n;break;case D.Y:this.coordinates[t].y=n;break;case D.Z:this.coordinates[t].z=n;break;default:throw new i("invalid ordinateIndex")}},size:function(){return this.coordinates.length},getOrdinate:function(t,e){switch(e){case D.X:return this.coordinates[t].x;case D.Y:return this.coordinates[t].y;case D.Z:return this.coordinates[t].z}return r.NaN},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this.coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this.coordinates[e].x,n.y=this.coordinates[e].y,n.z=this.coordinates[e].z}},getCoordinateCopy:function(t){return new g(this.coordinates[t])},getDimension:function(){return this.dimension},getX:function(t){return this.coordinates[t].x},clone:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].clone();return new Gt(t,this.dimension)},expandEnvelope:function(t){for(var e=0;e<this.coordinates.length;e++)t.expandToInclude(this.coordinates[e]);return t},copy:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].copy();return new Gt(t,this.dimension)},toString:function(){if(this.coordinates.length>0){var t=new P(17*this.coordinates.length);t.append("("),t.append(this.coordinates[0]);for(var e=1;e<this.coordinates.length;e++)t.append(", "),t.append(this.coordinates[e]);return t.append(")"),t.toString()}return"()"},getY:function(t){return this.coordinates[t].y},toCoordinateArray:function(){return this.coordinates},interfaces_:function(){return[D,u]},getClass:function(){return Gt}}),Gt.serialVersionUID=-0xcb44a778db18e00,e(qt.prototype,{readResolve:function(){return qt.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array){return new Gt(arguments[0])}if(R(arguments[0],D)){return new Gt(arguments[0])}}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),e<2?new Gt(t):new Gt(t,e)}},interfaces_:function(){return[G,u]},getClass:function(){return qt}}),qt.instance=function(){return qt.instanceObject},qt.serialVersionUID=-0x38e49fa6cf6f2e00,qt.instanceObject=new qt;var to,eo=Object.defineProperty,no=function(t,e){function n(t){return this&&this.constructor===n?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,void(t&&zt.call(this,t))):new n(t)}return e||eo(t,"size",{get:Qt}),t.constructor=n,n.prototype=t,n}({delete:Vt,has:Ut,get:kt,set:Xt,keys:Wt,values:jt,entries:Kt,forEach:Jt,clear:Ht}),io="undefined"!=typeof Map&&Map.prototype.values?Map:no;$t.prototype=new K,$t.prototype.get=function(t){return this.map_.get(t)||null},$t.prototype.put=function(t,e){return this.map_.set(t,e),e},$t.prototype.values=function(){for(var t=new I,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},$t.prototype.entrySet=function(){var t=new J;return this.map_.entries().forEach(function(e){return t.add(e)}),t},$t.prototype.size=function(){return this.map_.size()},e(te.prototype,{equals:function(t){if(!(t instanceof te))return!1;var e=t;return this.modelType===e.modelType&&this.scale===e.scale},compareTo:function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new b(n).compareTo(new b(i))},getScale:function(){return this.scale},isFloating:function(){return this.modelType===te.FLOATING||this.modelType===te.FLOATING_SINGLE},getType:function(){return this.modelType},toString:function(){var t="UNKNOWN";return this.modelType===te.FLOATING?t="Floating":this.modelType===te.FLOATING_SINGLE?t="Floating-Single":this.modelType===te.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},makePrecise:function(){if("number"==typeof arguments[0]){var t=arguments[0];if(r.isNaN(t))return t;if(this.modelType===te.FLOATING_SINGLE){return t}return this.modelType===te.FIXED?Math.round(t*this.scale)/this.scale:t}if(arguments[0]instanceof g){var e=arguments[0];if(this.modelType===te.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},getMaximumSignificantDigits:function(){var t=16;return this.modelType===te.FLOATING?t=16:this.modelType===te.FLOATING_SINGLE?t=6:this.modelType===te.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},setScale:function(t){this.scale=Math.abs(t)},interfaces_:function(){return[u,s]},getClass:function(){return te}}),te.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},e(ee.prototype,{readResolve:function(){return ee.nameToTypeMap.get(this.name)},toString:function(){return this.name},interfaces_:function(){return[u]},getClass:function(){return ee}}),ee.serialVersionUID=-552860263173159e4,ee.nameToTypeMap=new $t,te.Type=ee,te.serialVersionUID=0x6bee6404e9a25c00,te.FIXED=new ee("FIXED"),te.FLOATING=new ee("FLOATING"),te.FLOATING_SINGLE=new ee("FLOATING SINGLE"),te.maximumPreciseValue=9007199254740992,e(ne.prototype,{toGeometry:function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new g(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new g(t.getMinX(),t.getMinY()),new g(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new g(t.getMinX(),t.getMinY()),new g(t.getMinX(),t.getMaxY()),new g(t.getMaxX(),t.getMaxY()),new g(t.getMaxX(),t.getMinY()),new g(t.getMinX(),t.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(R(arguments[0],D)){return new St(arguments[0],this)}}},createMultiLineString:function(){if(0===arguments.length)return new gt(null,this);if(1===arguments.length){return new gt(arguments[0],this)}},buildGeometry:function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var s=r.next(),o=s.getClass();null===e&&(e=o),o!==e&&(n=!0),s.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(ne.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof Tt)return this.createMultiPolygon(ne.toPolygonArray(t));if(a instanceof St)return this.createMultiLineString(ne.toLineStringArray(t));if(a instanceof Lt)return this.createMultiPoint(ne.toPointArray(t));f.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},createMultiPointFromCoords:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof g){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(R(arguments[0],D)){return new Lt(arguments[0],this)}}},getCoordinateSequenceFactory:function(){return this.coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new Tt(null,null,this);if(1===arguments.length){if(R(arguments[0],D)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof bt){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return new Tt(i,r,this)}},getSRID:function(){return this.SRID},createGeometryCollection:function(){if(0===arguments.length)return new ft(null,this);if(1===arguments.length){return new ft(arguments[0],this)}},createGeometry:function(t){return new _t(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return arguments[1],this.coordinateSequenceFactory.create(t)}}})},getPrecisionModel:function(){return this.precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(R(arguments[0],D)){return new bt(arguments[0],this)}}},createMultiPolygon:function(){if(0===arguments.length)return new Ot(null,this);if(1===arguments.length){return new Ot(arguments[0],this)}},createMultiPoint:function(){if(0===arguments.length)return new Pt(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){return new Pt(arguments[0],this)}if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(R(arguments[0],D)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),i=0;i<e.size();i++){var r=this.getCoordinateSequenceFactory().create(1,e.getDimension());Ct.copy(e,i,r,0,1),n[i]=this.createPoint(r)}return this.createMultiPoint(n)}}},interfaces_:function(){return[u]},getClass:function(){return ne}}),ne.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.getDefaultCoordinateSequenceFactory=function(){return qt.instance()},ne.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},ne.serialVersionUID=-0x5ea75f2051eeb400;var ro={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};e(ie.prototype,{read:function(t){var e,n,i;t=t.replace(/[\n\r]/g," ");var r=ro.typeStr.exec(t);if(-1!==t.search("EMPTY")&&(r=ro.emptyTypeStr.exec(t),r[2]=void 0),r&&(n=r[1].toLowerCase(),i=r[2],oo[n]&&(e=oo[n].apply(this,[i]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},write:function(t){return this.extractGeometry(t)},extractGeometry:function(t){var e=t.getGeometryType().toLowerCase();if(!so[e])return null;var n=e.toUpperCase()
;return t.isEmpty()?n+" EMPTY":n+"("+so[e].apply(this,[t])+")"}});var so={coordinate:function(t){return t.x+" "+t.y},point:function(t){return so.coordinate.call(this,t.coordinates.coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t.geometries.length;n<i;++n)e.push("("+so.point.apply(this,[t.geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t.points.coordinates.length;n<i;++n)e.push(so.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t.points.coordinates.length;n<i;++n)e.push(so.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t.geometries.length;n<i;++n)e.push("("+so.linestring.apply(this,[t.geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+so.linestring.apply(this,[t.shell])+")");for(var n=0,i=t.holes.length;n<i;++n)e.push("("+so.linestring.apply(this,[t.holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t.geometries.length;n<i;++n)e.push("("+so.polygon.apply(this,[t.geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t.geometries.length;n<i;++n)e.push(this.extractGeometry(t.geometries[n]));return e.join(",")}},oo={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(ro.spaces);return this.geometryFactory.createPoint(new g(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,s=n.length;r<s;++r)e=n[r].replace(ro.trimParens,"$1"),i.push(oo.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,s=n.length;r<s;++r)e=n[r].trim().split(ro.spaces),i.push(new g(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,s=n.length;r<s;++r)e=n[r].trim().split(ro.spaces),i.push(new g(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(ro.parenComma),i=[],r=0,s=n.length;r<s;++r)e=n[r].replace(ro.trimParens,"$1"),i.push(oo.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,s=t.trim().split(ro.parenComma),o=[],a=0,u=s.length;a<u;++a)e=s[a].replace(ro.trimParens,"$1"),n=oo.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n.points),0===a?r=i:o.push(i);return this.geometryFactory.createPolygon(r,o)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(ro.doubleParenComma),i=[],r=0,s=n.length;r<s;++r)e=n[r].replace(ro.trimParens,"$1"),i.push(oo.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();t=t.replace(/,\s*([A-Za-z])/g,"|$1");for(var e=t.trim().split("|"),n=[],i=0,r=e.length;i<r;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}};e(re.prototype,{write:function(t){return this.parser.write(t)}}),e(re,{toLineString:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}),e(se.prototype,{getIndexAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intLineIndex[t][e]},getTopologySummary:function(){var t=new P;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},computeIntersection:function(t,e,n,i){this.inputLines[0][0]=t,this.inputLines[0][1]=e,this.inputLines[1][0]=n,this.inputLines[1][1]=i,this.result=this.computeIntersect(t,e,n,i)},getIntersectionNum:function(){return this.result},computeIntLineIndex:function(){if(0===arguments.length)null===this.intLineIndex&&(this.intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0],e=this.getEdgeDistance(t,0),n=this.getEdgeDistance(t,1);e>n?(this.intLineIndex[t][0]=0,this.intLineIndex[t][1]=1):(this.intLineIndex[t][0]=1,this.intLineIndex[t][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(t){this.precisionModel=t},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this.result;e++)if(!this.intPt[e].equals2D(this.inputLines[t][0])&&!this.intPt[e].equals2D(this.inputLines[t][1]))return!0;return!1}},getIntersection:function(t){return this.intPt[t]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this.result!==se.NO_INTERSECTION},getEdgeDistance:function(t,e){return se.computeEdgeDistance(this.intPt[e],this.inputLines[t][0],this.inputLines[t][1])},isCollinear:function(){return this.result===se.COLLINEAR_INTERSECTION},toString:function(){return re.toLineString(this.inputLines[0][0],this.inputLines[0][1])+" - "+re.toLineString(this.inputLines[1][0],this.inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(t,e){return this.inputLines[t][e]},isIntersection:function(t){for(var e=0;e<this.result;e++)if(this.intPt[e].equals2D(t))return!0;return!1},getIntersectionAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intPt[this.intLineIndex[t][e]]},interfaces_:function(){return[]},getClass:function(){return se}}),se.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),s=-1;if(t.equals(e))s=0;else if(t.equals(n))s=i>r?i:r;else{var o=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(s=i>r?o:a)||t.equals(e)||(s=Math.max(o,a))}return f.isTrue(!(0===s&&!t.equals(e)),"Bad distance calculation"),s},se.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,s=Math.sqrt(i*i+r*r);return f.isTrue(!(0===s&&!t.equals(e)),"Invalid distance calculation"),s},se.DONT_INTERSECT=0,se.DO_INTERSECT=1,se.COLLINEAR=2,se.NO_INTERSECTION=0,se.POINT_INTERSECTION=1,se.COLLINEAR_INTERSECTION=2,h(oe,se),e(oe.prototype,{isInSegmentEnvelopes:function(t){var e=new C(this.inputLines[0][0],this.inputLines[0][1]),n=new C(this.inputLines[1][0],this.inputLines[1][1]);return e.contains(t)&&n.contains(t)},computeIntersection:function(){if(3!==arguments.length)return se.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];return this._isProper=!1,C.intersects(e,n,t)&&0===le.orientationIndex(e,n,t)&&0===le.orientationIndex(n,e,t)?(this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this.result=se.POINT_INTERSECTION,null):void(this.result=se.NO_INTERSECTION)},normalizeToMinimum:function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},safeHCoordinateIntersection:function(t,e,n,i){var r=null;try{r=F.intersection(t,e,n,i)}catch(s){if(!(s instanceof w))throw s;r=oe.nearestEndpoint(t,e,n,i)}return r},intersection:function(t,e,n,i){var r=this.intersectionWithNormalization(t,e,n,i);return this.isInSegmentEnvelopes(r)||(r=new g(oe.nearestEndpoint(t,e,n,i))),null!==this.precisionModel&&this.precisionModel.makePrecise(r),r},smallestInAbsValue:function(t,e,n,i){var r=t,s=Math.abs(r);return Math.abs(e)<s&&(r=e,s=Math.abs(e)),Math.abs(n)<s&&(r=n,s=Math.abs(n)),Math.abs(i)<s&&(r=i),r},checkDD:function(t,e,n,i,r){var s=M.intersection(t,e,n,i),o=this.isInSegmentEnvelopes(s);A.out.println("DD in env = "+o+"  --------------------- "+s),r.distance(s)>1e-4&&A.out.println("Distance = "+r.distance(s))},intersectionWithNormalization:function(t,e,n,i){var r=new g(t),s=new g(e),o=new g(n),a=new g(i),u=new g;this.normalizeToEnvCentre(r,s,o,a,u);var l=this.safeHCoordinateIntersection(r,s,o,a);return l.x+=u.x,l.y+=u.y,l},computeCollinearIntersection:function(t,e,n,i){var r=C.intersects(t,e,n),s=C.intersects(t,e,i),o=C.intersects(n,i,t),a=C.intersects(n,i,e);return r&&s?(this.intPt[0]=n,this.intPt[1]=i,se.COLLINEAR_INTERSECTION):o&&a?(this.intPt[0]=t,this.intPt[1]=e,se.COLLINEAR_INTERSECTION):r&&o?(this.intPt[0]=n,this.intPt[1]=t,!n.equals(t)||s||a?se.COLLINEAR_INTERSECTION:se.POINT_INTERSECTION):r&&a?(this.intPt[0]=n,this.intPt[1]=e,!n.equals(e)||s||o?se.COLLINEAR_INTERSECTION:se.POINT_INTERSECTION):s&&o?(this.intPt[0]=i,this.intPt[1]=t,!i.equals(t)||r||a?se.COLLINEAR_INTERSECTION:se.POINT_INTERSECTION):s&&a?(this.intPt[0]=i,this.intPt[1]=e,!i.equals(e)||r||o?se.COLLINEAR_INTERSECTION:se.POINT_INTERSECTION):se.NO_INTERSECTION},normalizeToEnvCentre:function(t,e,n,i,r){var s=t.x<e.x?t.x:e.x,o=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<i.x?n.x:i.x,h=n.y<i.y?n.y:i.y,c=n.x>i.x?n.x:i.x,f=n.y>i.y?n.y:i.y,g=s>l?s:l,d=a<c?a:c,p=o>h?o:h,m=u<f?u:f,v=(g+d)/2,y=(p+m)/2;r.x=v,r.y=y,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},computeIntersect:function(t,e,n,i){if(this._isProper=!1,!C.intersects(t,e,n,i))return se.NO_INTERSECTION;var r=le.orientationIndex(t,e,n),s=le.orientationIndex(t,e,i);if(r>0&&s>0||r<0&&s<0)return se.NO_INTERSECTION;var o=le.orientationIndex(n,i,t),a=le.orientationIndex(n,i,e);return o>0&&a>0||o<0&&a<0?se.NO_INTERSECTION:0===r&&0===s&&0===o&&0===a?this.computeCollinearIntersection(t,e,n,i):(0===r||0===s||0===o||0===a?(this._isProper=!1,t.equals2D(n)||t.equals2D(i)?this.intPt[0]=t:e.equals2D(n)||e.equals2D(i)?this.intPt[0]=e:0===r?this.intPt[0]=new g(n):0===s?this.intPt[0]=new g(i):0===o?this.intPt[0]=new g(t):0===a&&(this.intPt[0]=new g(e))):(this._isProper=!0,this.intPt[0]=this.intersection(t,e,n,i)),se.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return oe}}),oe.nearestEndpoint=function(t,e,n,i){var r=t,s=le.distancePointLine(t,n,i),o=le.distancePointLine(e,n,i);return o<s&&(s=o,r=e),o=le.distancePointLine(n,t,e),o<s&&(s=o,r=n),o=le.distancePointLine(i,t,e),o<s&&(s=o,r=i),r},e(ae.prototype,{interfaces_:function(){return[]},getClass:function(){return ae}}),ae.orientationIndex=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,s=n.x-e.x,o=n.y-e.y;return ae.signOfDet2x2(i,r,s,o)},ae.signOfDet2x2=function(t,e,n,i){var r=null,s=null,o=null,a=0;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(0<e?0<i?e<=i||(r=-r,s=t,t=n,n=s,s=e,e=i,i=s):e<=-i?(r=-r,n=-n,i=-i):(s=t,t=-n,n=s,s=e,e=-i,i=s):0<i?-e<=i?(r=-r,t=-t,e=-e):(s=-t,t=n,n=s,s=-e,e=i,i=s):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,s=-t,t=-n,n=s,s=-e,e=-i,i=s),0<t){if(!(0<n))return r;if(!(t<=n))return r}else{if(0<n)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if(a+=1,o=Math.floor(n/t),n-=o*t,(i-=o*e)<0)return-r;if(i>e)return r;if(t>n+n){if(e<i+i)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if(o=Math.floor(t/n),t-=o*n,(e-=o*i)<0)return r;if(e>i)return-r;if(n>t+t){if(i<e+e)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}},e(ue.prototype,{countSegment:function(t,e){if(t.x<this.p.x&&e.x<this.p.x)return null;if(this.p.x===e.x&&this.p.y===e.y)return this.isPointOnSegment=!0,null;if(t.y===this.p.y&&e.y===this.p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this.p.x>=n&&this.p.x<=i&&(this.isPointOnSegment=!0),null}if(t.y>this.p.y&&e.y<=this.p.y||e.y>this.p.y&&t.y<=this.p.y){var r=t.x-this.p.x,s=t.y-this.p.y,o=e.x-this.p.x,a=e.y-this.p.y,u=ae.signOfDet2x2(r,s,o,a);if(0===u)return this.isPointOnSegment=!0,null;a<s&&(u=-u),u>0&&this.crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==L.EXTERIOR},getLocation:function(){return this.isPointOnSegment?L.BOUNDARY:this.crossingCount%2==1?L.INTERIOR:L.EXTERIOR},isOnSegment:function(){return this.isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return ue}}),ue.locatePointInRing=function(){if(arguments[0]instanceof g&&R(arguments[1],D)){for(var t=arguments[0],e=arguments[1],n=new ue(t),i=new g,r=new g,s=1;s<e.size();s++)if(e.getCoordinate(s,i),e.getCoordinate(s-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof g&&arguments[1]instanceof Array){for(var o=arguments[0],a=arguments[1],n=new ue(o),s=1;s<a.length;s++){var i=a[s],r=a[s-1];if(n.countSegment(i,r),n.isOnSegment())return n.getLocation()}return n.getLocation()}},e(le.prototype,{interfaces_:function(){return[]},getClass:function(){return le}}),le.orientationIndex=function(t,e,n){return M.orientationIndex(t,e,n)},le.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,s=t[i+1].y;e+=r*(t[i-1].y-s)}return e/2}if(R(arguments[0],D)){var o=arguments[0],a=o.size();if(a<3)return 0;var u=new g,l=new g,h=new g;o.getCoordinate(0,l),o.getCoordinate(1,h);var n=l.x;h.x-=n;for(var e=0,i=1;i<a-1;i++)u.y=l.y,l.x=h.x,l.y=h.y,o.getCoordinate(i+1,h),h.x-=n,e+=l.x*(u.y-h.y);return e/2}},le.distanceLineLine=function(t,e,n,i){if(t.equals(e))return le.distancePointLine(t,n,i);if(n.equals(i))return le.distancePointLine(i,t,e);var r=!1;if(C.intersects(t,e,n,i)){var s=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===s)r=!0;else{var o=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),a=(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y),u=a/s,l=o/s;(l<0||l>1||u<0||u>1)&&(r=!0)}}else r=!0;return r?T.min(le.distancePointLine(t,n,i),le.distancePointLine(e,n,i),le.distancePointLine(n,t,e),le.distancePointLine(i,t,e)):0},le.isPointInRing=function(t,e){return le.locatePointInRing(t,e)!==L.EXTERIOR},le.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new g;t.getCoordinate(0,i);for(var r=i.x,s=i.y,o=1;o<e;o++){t.getCoordinate(o,i);var a=i.x,u=i.y,l=a-r,h=u-s;n+=Math.sqrt(l*l+h*h),r=a,s=u}return n},le.isCCW=function(t){var e=t.length-1;if(e<3)throw new i("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,s=1;s<=e;s++){var o=t[s];o.y>n.y&&(n=o,r=s)}var a=r;do{(a-=1)<0&&(a=e)}while(t[a].equals2D(n)&&a!==r);var u=r;do{u=(u+1)%e}while(t[u].equals2D(n)&&u!==r);var l=t[a],h=t[u];if(l.equals2D(n)||h.equals2D(n)||l.equals2D(h))return!1;var c=le.computeOrientation(l,n,h);return 0===c?l.x>h.x:c>0},le.locatePointInRing=function(t,e){return ue.locatePointInRing(t,e)},le.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)},le.computeOrientation=function(t,e,n){return le.orientationIndex(t,e,n)},le.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new i("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var s=le.distancePointLine(t,e[r],e[r+1]);s<n&&(n=s)}return n}if(3===arguments.length){var o=arguments[0],a=arguments[1],u=arguments[2];if(a.x===u.x&&a.y===u.y)return o.distance(a);var l=(u.x-a.x)*(u.x-a.x)+(u.y-a.y)*(u.y-a.y),h=((o.x-a.x)*(u.x-a.x)+(o.y-a.y)*(u.y-a.y))/l;if(h<=0)return o.distance(a);if(h>=1)return o.distance(u);var c=((a.y-o.y)*(u.x-a.x)-(a.x-o.x)*(u.y-a.y))/l;return Math.abs(c)*Math.sqrt(l)}},le.isOnLine=function(t,e){for(var n=new oe,i=1;i<e.length;i++){var r=e[i-1],s=e[i];if(n.computeIntersection(t,r,s),n.hasIntersection())return!0}return!1},le.CLOCKWISE=-1,le.RIGHT=le.CLOCKWISE,le.COUNTERCLOCKWISE=1,le.LEFT=le.COUNTERCLOCKWISE,le.COLLINEAR=0,le.STRAIGHT=le.COLLINEAR,e(he.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof he){var t=arguments[0],e=le.orientationIndex(this.p0,this.p1,t.p0),n=le.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof g){var i=arguments[0];return le.orientationIndex(this.p0,this.p1,i)}},toGeometry:function(t){return t.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(t){if(!(t instanceof he))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},intersection:function(t){var e=new oe;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},project:function(){if(arguments[0]instanceof g){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new g(t);var e=this.projectionFactor(t),n=new g;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof he){var i=arguments[0],r=this.projectionFactor(i.p0),s=this.projectionFactor(i.p1);if(r>=1&&s>=1)return null;if(r<=0&&s<=0)return null;var o=this.project(i.p0);r<0&&(o=this.p0),r>1&&(o=this.p1);var a=this.project(i.p1);return s<0&&(a=this.p0),s>1&&(a=this.p1),new he(o,a)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(t){return 0===t?this.p0:this.p1},distancePerpendicular:function(t){return le.distancePointLinePerpendicular(t,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return he.midPoint(this.p0,this.p1)},projectionFactor:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?r.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},closestPoints:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=r.MAX_VALUE,s=null,o=this.closestPoint(t.p0);i=o.distance(t.p0),n[0]=o,n[1]=t.p0;var a=this.closestPoint(t.p1);(s=a.distance(t.p1))<i&&(i=s,n[0]=a,n[1]=t.p1);var u=t.closestPoint(this.p0);(s=u.distance(this.p0))<i&&(i=s,n[0]=this.p0,n[1]=u);var l=t.closestPoint(this.p1);return s=l.distance(this.p1),s<i&&(i=s,n[0]=this.p1,n[1]=l),n},closestPoint:function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},reverse:function(){var t=this.p0;this.p0=this.p1,this.p1=t},equalsTopo:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)},lineIntersection:function(t){try{return F.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof w))throw t}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,o=Math.sqrt(r*r+s*s),a=0,u=0;if(0!==e){if(o<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");a=e*r/o,u=e*s/o}return new g(n-u,i+a)},setCoordinates:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},segmentFraction:function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||r.isNaN(e))&&(e=1),e},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof he){var t=arguments[0];return le.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof g){var e=arguments[0];return le.distancePointLine(e,this.p0,this.p1)}},pointAlong:function(t){var e=new g;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},hashCode:function(){var t=java.lang.Double.doubleToLongBits(this.p0.x);t^=31*java.lang.Double.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=java.lang.Double.doubleToLongBits(this.p1.x);return n^=31*java.lang.Double.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},interfaces_:function(){return[s,u]},getClass:function(){return he}}),he.midPoint=function(t,e){return new g((t.x+e.x)/2,(t.y+e.y)/2)},he.serialVersionUID=0x2d2172135f411c00,e(ce.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){return(ce.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])||ce.isTrue(this.matrix[L.INTERIOR][L.BOUNDARY])||ce.isTrue(this.matrix[L.BOUNDARY][L.INTERIOR])||ce.isTrue(this.matrix[L.BOUNDARY][L.BOUNDARY]))&&this.matrix[L.EXTERIOR][L.INTERIOR]===lt.FALSE&&this.matrix[L.EXTERIOR][L.BOUNDARY]===lt.FALSE},isCoveredBy:function(){return(ce.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])||ce.isTrue(this.matrix[L.INTERIOR][L.BOUNDARY])||ce.isTrue(this.matrix[L.BOUNDARY][L.INTERIOR])||ce.isTrue(this.matrix[L.BOUNDARY][L.BOUNDARY]))&&this.matrix[L.INTERIOR][L.EXTERIOR]===lt.FALSE&&this.matrix[L.BOUNDARY][L.EXTERIOR]===lt.FALSE},set:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this.matrix[n][i]=lt.toDimensionValue(t.charAt(e))}else if(3===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2];this.matrix[r][s]=o}},isContains:function(){return ce.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])&&this.matrix[L.EXTERIOR][L.INTERIOR]===lt.FALSE&&this.matrix[L.EXTERIOR][L.BOUNDARY]===lt.FALSE},setAtLeast:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this.setAtLeast(n,i,lt.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2];this.matrix[r][s]<o&&(this.matrix[r][s]=o)}},setAtLeastIfValid:function(t,e,n){t>=0&&e>=0&&this.setAtLeast(t,e,n)},isWithin:function(){return ce.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])&&this.matrix[L.INTERIOR][L.EXTERIOR]===lt.FALSE&&this.matrix[L.BOUNDARY][L.EXTERIOR]===lt.FALSE},isTouches:function(t,e){return t>e?this.isTouches(e,t):(t===lt.A&&e===lt.A||t===lt.L&&e===lt.L||t===lt.L&&e===lt.A||t===lt.P&&e===lt.A||t===lt.P&&e===lt.L)&&this.matrix[L.INTERIOR][L.INTERIOR]===lt.FALSE&&(ce.isTrue(this.matrix[L.INTERIOR][L.BOUNDARY])||ce.isTrue(this.matrix[L.BOUNDARY][L.INTERIOR])||ce.isTrue(this.matrix[L.BOUNDARY][L.BOUNDARY]))},isOverlaps:function(t,e){return t===lt.P&&e===lt.P||t===lt.A&&e===lt.A?ce.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])&&ce.isTrue(this.matrix[L.INTERIOR][L.EXTERIOR])&&ce.isTrue(this.matrix[L.EXTERIOR][L.INTERIOR]):t===lt.L&&e===lt.L&&1===this.matrix[L.INTERIOR][L.INTERIOR]&&ce.isTrue(this.matrix[L.INTERIOR][L.EXTERIOR])&&ce.isTrue(this.matrix[L.EXTERIOR][L.INTERIOR])},isEquals:function(t,e){return t===e&&ce.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])&&this.matrix[L.INTERIOR][L.EXTERIOR]===lt.FALSE&&this.matrix[L.BOUNDARY][L.EXTERIOR]===lt.FALSE&&this.matrix[L.EXTERIOR][L.INTERIOR]===lt.FALSE&&this.matrix[L.EXTERIOR][L.BOUNDARY]===lt.FALSE},toString:function(){for(var t=new P("123456789"),e=0;e<3;e++)for(var n=0;n<3;n++)t.setCharAt(3*e+n,lt.toDimensionSymbol(this.matrix[e][n]));return t.toString()},setAll:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.matrix[e][n]=t},get:function(t,e){return this.matrix[t][e]},transpose:function(){var t=this.matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=t,t=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=t,t=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=t,this},matches:function(t){if(9!==t.length)throw new i("Should be length 9: "+t);for(var e=0;e<3;e++)for(var n=0;n<3;n++)if(!ce.matches(this.matrix[e][n],t.charAt(3*e+n)))return!1;return!0},add:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.setAtLeast(e,n,t.get(e,n))},isDisjoint:function(){return this.matrix[L.INTERIOR][L.INTERIOR]===lt.FALSE&&this.matrix[L.INTERIOR][L.BOUNDARY]===lt.FALSE&&this.matrix[L.BOUNDARY][L.INTERIOR]===lt.FALSE&&this.matrix[L.BOUNDARY][L.BOUNDARY]===lt.FALSE},isCrosses:function(t,e){return t===lt.P&&e===lt.L||t===lt.P&&e===lt.A||t===lt.L&&e===lt.A?ce.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])&&ce.isTrue(this.matrix[L.INTERIOR][L.EXTERIOR]):t===lt.L&&e===lt.P||t===lt.A&&e===lt.P||t===lt.A&&e===lt.L?ce.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])&&ce.isTrue(this.matrix[L.EXTERIOR][L.INTERIOR]):t===lt.L&&e===lt.L&&0===this.matrix[L.INTERIOR][L.INTERIOR]},interfaces_:function(){return[o]},getClass:function(){return ce}}),ce.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],e=arguments[1];return e===lt.SYM_DONTCARE||e===lt.SYM_TRUE&&(t>=0||t===lt.TRUE)||e===lt.SYM_FALSE&&t===lt.FALSE||e===lt.SYM_P&&t===lt.P||e===lt.SYM_L&&t===lt.L||e===lt.SYM_A&&t===lt.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var n=arguments[0],i=arguments[1];return new ce(n).matches(i)}},ce.isTrue=function(t){return t>=0||t===lt.TRUE};var ao=Object.freeze({Coordinate:g,CoordinateList:N,Envelope:C,LineSegment:he,GeometryFactory:ne,Geometry:B,Point:Lt,LineString:St,LinearRing:bt,Polygon:Tt,GeometryCollection:ft,MultiPoint:Pt,MultiLineString:gt,MultiPolygon:Ot,Dimension:lt,IntersectionMatrix:ce,PrecisionModel:te});e(fe.prototype,{addPoint:function(t){this.ptCount+=1,this.ptCentSum.x+=t.x,this.ptCentSum.y+=t.y},setBasePoint:function(t){null===this.areaBasePt&&(this.areaBasePt=t)},addLineSegments:function(t){for(var e=0,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);if(0!==i){e+=i;var r=(t[n].x+t[n+1].x)/2;this.lineCentSum.x+=i*r;var s=(t[n].y+t[n+1].y)/2;this.lineCentSum.y+=i*s}}this.totalLength+=e,0===e&&t.length>0&&this.addPoint(t[0])},addHole:function(t){for(var e=le.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},getCentroid:function(){var t=new g;if(Math.abs(this.areasum2)>0)t.x=this.cg3.x/3/this.areasum2,t.y=this.cg3.y/3/this.areasum2;else if(this.totalLength>0)t.x=this.lineCentSum.x/this.totalLength,t.y=this.lineCentSum.y/this.totalLength;else{if(!(this.ptCount>0))return null;t.x=this.ptCentSum.x/this.ptCount,t.y=this.ptCentSum.y/this.ptCount}return t},addShell:function(t){t.length>0&&this.setBasePoint(t[0]);for(var e=!le.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},addTriangle:function(t,e,n,i){var r=i?1:-1;fe.centroid3(t,e,n,this.triangleCent3);var s=fe.area2(t,e,n);this.cg3.x+=r*s*this.triangleCent3.x,this.cg3.y+=r*s*this.triangleCent3.y,this.areasum2+=r*s},add:function(){if(arguments[0]instanceof Tt){var t=arguments[0];this.addShell(t.getExteriorRing().getCoordinates());for(var e=0;e<t.getNumInteriorRing();e++)this.addHole(t.getInteriorRingN(e).getCoordinates())}else if(arguments[0]instanceof B){var n=arguments[0];if(n.isEmpty())return null;if(n instanceof Lt)this.addPoint(n.getCoordinate());else if(n instanceof St)this.addLineSegments(n.getCoordinates());else if(n instanceof Tt){var i=n;this.add(i)}else if(n instanceof ft)for(var r=n,e=0;e<r.getNumGeometries();e++)this.add(r.getGeometryN(e))}},interfaces_:function(){return[]},getClass:function(){return fe}}),fe.area2=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)},fe.centroid3=function(t,e,n,i){return i.x=t.x+e.x+n.x,i.y=t.y+e.y+n.y,null},fe.getCentroid=function(t){return new fe(t).getCentroid()},ge.prototype=new Error,ge.prototype.name="EmptyStackException",de.prototype=new y,de.prototype.add=function(t){return this.array_.push(t),!0},de.prototype.get=function(t){if(t<0||t>=this.size())throw new IndexOutOfBoundsException;return this.array_[t]},de.prototype.push=function(t){return this.array_.push(t),t},de.prototype.pop=function(t){if(0===this.array_.length)throw new ge;return this.array_.pop()},de.prototype.peek=function(){if(0===this.array_.length)throw new ge;return this.array_[this.array_.length-1]},de.prototype.empty=function(){return 0===this.array_.length},de.prototype.isEmpty=function(){return this.empty()},de.prototype.search=function(t){return this.array_.indexOf(t)},de.prototype.size=function(){return this.array_.length},de.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e(pe.prototype,{filter:function(t){this.treeSet.contains(t)||(this.list.add(t),this.treeSet.add(t))},getCoordinates:function(){var t=new Array(this.list.size()).fill(null);return this.list.toArray(t)},interfaces_:function(){return[z]},getClass:function(){return pe}}),pe.filterCoordinates=function(t){for(var e=new pe,n=0;n<t.length;n++)e.filter(t[n]);return e.getCoordinates()},e(me.prototype,{preSort:function(t){for(var e=null,n=1;n<t.length;n++)(t[n].y<t[0].y||t[n].y===t[0].y&&t[n].x<t[0].x)&&(e=t[0],t[0]=t[n],t[n]=e);return ut.sort(t,1,t.length,new ve(t[0])),t},computeOctRing:function(t){var e=this.computeOctPts(t),n=new N;return n.add(e,!1),n.size()<3?null:(n.closeRing(),n.toCoordinateArray())},lineOrPolygon:function(t){if(t=this.cleanRing(t),3===t.length)return this.geomFactory.createLineString([t[0],t[1]]);var e=this.geomFactory.createLinearRing(t);return this.geomFactory.createPolygon(e,null)},cleanRing:function(t){f.equals(t[0],t[t.length-1]);for(var e=new I,n=null,i=0;i<=t.length-2;i++){var r=t[i],s=t[i+1];r.equals(s)||null!==n&&this.isBetween(n,r,s)||(e.add(r),n=r)}e.add(t[t.length-1]);var o=new Array(e.size()).fill(null);return e.toArray(o)},isBetween:function(t,e,n){if(0!==le.computeOrientation(t,e,n))return!1;if(t.x!==n.x){if(t.x<=e.x&&e.x<=n.x)return!0;if(n.x<=e.x&&e.x<=t.x)return!0}if(t.y!==n.y){if(t.y<=e.y&&e.y<=n.y)return!0;if(n.y<=e.y&&e.y<=t.y)return!0}return!1},reduce:function(t){var e=this.computeOctRing(t);if(null===e)return t;for(var n=new at,i=0;i<e.length;i++)n.add(e[i]);for(var i=0;i<t.length;i++)le.isPointInRing(t[i],e)||n.add(t[i]);var r=H.toCoordinateArray(n);return r.length<3?this.padArray3(r):r},getConvexHull:function(){if(0===this.inputPts.length)return this.geomFactory.createGeometryCollection(null);if(1===this.inputPts.length)return this.geomFactory.createPoint(this.inputPts[0]);if(2===this.inputPts.length)return this.geomFactory.createLineString(this.inputPts);var t=this.inputPts;this.inputPts.length>50&&(t=this.reduce(this.inputPts));var e=this.preSort(t),n=this.grahamScan(e),i=this.toCoordinateArray(n);return this.lineOrPolygon(i)},padArray3:function(t){for(var e=new Array(3).fill(null),n=0;n<e.length;n++)n<t.length?e[n]=t[n]:e[n]=t[0];return e},computeOctPts:function(t){for(var e=new Array(8).fill(null),n=0;n<e.length;n++)e[n]=t[0];for(var i=1;i<t.length;i++)t[i].x<e[0].x&&(e[0]=t[i]),t[i].x-t[i].y<e[1].x-e[1].y&&(e[1]=t[i]),t[i].y>e[2].y&&(e[2]=t[i]),t[i].x+t[i].y>e[3].x+e[3].y&&(e[3]=t[i]),t[i].x>e[4].x&&(e[4]=t[i]),t[i].x-t[i].y>e[5].x-e[5].y&&(e[5]=t[i]),t[i].y<e[6].y&&(e[6]=t[i]),t[i].x+t[i].y<e[7].x+e[7].y&&(e[7]=t[i]);return e},toCoordinateArray:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var i=t.get(n);e[n]=i}return e},grahamScan:function(t){var e=null,n=new de;e=n.push(t[0]),e=n.push(t[1]),e=n.push(t[2]);for(var i=3;i<t.length;i++){for(e=n.pop();!n.empty()&&le.computeOrientation(n.peek(),e,t[i])>0;)e=n.pop();e=n.push(e),e=n.push(t[i])}return e=n.push(t[0]),n},interfaces_:function(){return[]},getClass:function(){return me}}),me.extractCoordinates=function(t){var e=new pe;return t.apply(e),e.getCoordinates()},e(ve.prototype,{compare:function(t,e){var n=t,i=e;return ve.polarCompare(this.origin,n,i)},interfaces_:function(){return[a]},getClass:function(){return ve}}),ve.polarCompare=function(t,e,n){
var i=e.x-t.x,r=e.y-t.y,s=n.x-t.x,o=n.y-t.y,a=le.computeOrientation(t,e,n);if(a===le.COUNTERCLOCKWISE)return 1;if(a===le.CLOCKWISE)return-1;var u=i*i+r*r,l=s*s+o*o;return u<l?-1:u>l?1:0},me.RadialComparator=ve,e(ye.prototype,{transformPoint:function(t,e){return this.factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},transformPolygon:function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof bt&&!i.isEmpty()||(n=!1);for(var r=new I,s=0;s<t.getNumInteriorRing();s++){var o=this.transformLinearRing(t.getInteriorRingN(s),t);null===o||o.isEmpty()||(o instanceof bt||(n=!1),r.add(o))}if(n)return this.factory.createPolygon(i,r.toArray([]));var a=new I;return null!==i&&a.add(i),a.addAll(r),this.factory.buildGeometry(a)},createCoordinateSequence:function(t){return this.factory.getCoordinateSequenceFactory().create(t)},getInputGeometry:function(){return this.inputGeom},transformMultiLineString:function(t,e){for(var n=new I,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},transformCoordinates:function(t,e){return this.copy(t)},transformLineString:function(t,e){return this.factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},transformMultiPoint:function(t,e){for(var n=new I,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},transformMultiPolygon:function(t,e){for(var n=new I,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},copy:function(t){return t.copy()},transformGeometryCollection:function(t,e){for(var n=new I,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this.pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(ne.toGeometryArray(n)):this.factory.buildGeometry(n)},transform:function(t){if(this.inputGeom=t,this.factory=t.getFactory(),t instanceof Lt)return this.transformPoint(t,null);if(t instanceof Pt)return this.transformMultiPoint(t,null);if(t instanceof bt)return this.transformLinearRing(t,null);if(t instanceof St)return this.transformLineString(t,null);if(t instanceof gt)return this.transformMultiLineString(t,null);if(t instanceof Tt)return this.transformPolygon(t,null);if(t instanceof Ot)return this.transformMultiPolygon(t,null);if(t instanceof ft)return this.transformGeometryCollection(t,null);throw new i("Unknown Geometry subtype: "+t.getClass().getName())},transformLinearRing:function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this.factory.createLinearRing(null);var i=n.size();return i>0&&i<4&&!this.preserveType?this.factory.createLineString(n):this.factory.createLinearRing(n)},interfaces_:function(){return[]},getClass:function(){return ye}}),e(xe.prototype,{snapVertices:function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var r=t.get(i),s=this.findSnapForVertex(r,e);null!==s&&(t.set(i,new g(s)),0===i&&this._isClosed&&t.set(t.size()-1,new g(s)))}},findSnapForVertex:function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this.snapTolerance)return e[n]}return null},snapTo:function(t){var e=new N(this.srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},snapSegments:function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var r=e[i],s=this.findSegmentIndexToSnap(r,t);s>=0&&t.add(s+1,new g(r),!1)}},findSegmentIndexToSnap:function(t,e){for(var n=r.MAX_VALUE,i=-1,s=0;s<e.size()-1;s++){if(this.seg.p0=e.get(s),this.seg.p1=e.get(s+1),this.seg.p0.equals2D(t)||this.seg.p1.equals2D(t)){if(this.allowSnappingToSourceVertices)continue;return-1}var o=this.seg.distance(t);o<this.snapTolerance&&o<n&&(n=o,i=s)}return i},setAllowSnappingToSourceVertices:function(t){this.allowSnappingToSourceVertices=t},interfaces_:function(){return[]},getClass:function(){return xe}}),xe.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])},e(Ee.prototype,{snapTo:function(t,e){return new Ie(e,this.extractTargetCoordinates(t)).transform(this.srcGeom)},snapToSelf:function(t,e){var n=this.extractTargetCoordinates(this.srcGeom),i=new Ie(t,n,!0),r=i.transform(this.srcGeom),s=r;return e&&R(s,Rt)&&(s=r.buffer(0)),s},computeSnapTolerance:function(t){return this.computeMinimumSegmentLength(t)/10},extractTargetCoordinates:function(t){for(var e=new at,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(t){for(var e=r.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},interfaces_:function(){return[]},getClass:function(){return Ee}}),Ee.snap=function(t,e,n){var i=new Array(2).fill(null),r=new Ee(t);i[0]=r.snapTo(e,n);var s=new Ee(e);return i[1]=s.snapTo(i[0],n),i},Ee.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Ee.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===te.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var r=arguments[0],s=arguments[1];return Math.min(Ee.computeOverlaySnapTolerance(r),Ee.computeOverlaySnapTolerance(s))}},Ee.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Ee.SNAP_PRECISION_FACTOR},Ee.snapToSelf=function(t,e,n){return new Ee(t).snapToSelf(e,n)},Ee.SNAP_PRECISION_FACTOR=1e-9,h(Ie,ye),e(Ie.prototype,{snapLine:function(t,e){var n=new xe(t,this.snapTolerance);return n.setAllowSnappingToSourceVertices(this.isSelfSnap),n.snapTo(e)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this.snapPts);return this.factory.getCoordinateSequenceFactory().create(i)},interfaces_:function(){return[]},getClass:function(){return Ie}}),e(Ne.prototype,{getCommon:function(){return r.longBitsToDouble(this.commonBits)},add:function(t){var e=r.doubleToLongBits(t);return this.isFirst?(this.commonBits=e,this.commonSignExp=Ne.signExpBits(this.commonBits),this.isFirst=!1,null):Ne.signExpBits(e)!==this.commonSignExp?(this.commonBits=0,null):(this.commonMantissaBitsCount=Ne.numCommonMostSigMantissaBits(this.commonBits,e),void(this.commonBits=Ne.zeroLowerBits(this.commonBits,64-(12+this.commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var t=arguments[0],e=r.longBitsToDouble(t),n=Long.toBinaryString(t),i="0000000000000000000000000000000000000000000000000000000000000000"+n,s=i.substring(i.length-64);return s.substring(0,1)+"  "+s.substring(1,12)+"(exp) "+s.substring(12)+" [ "+e+" ]"}},interfaces_:function(){return[]},getClass:function(){return Ne}}),Ne.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Ne.signExpBits=function(t){return t>>52},Ne.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Ne.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if(Ne.getBit(t,i)!==Ne.getBit(e,i))return n;n++}return 52},e(Ce.prototype,{addCommonBits:function(t){var e=new we(this.commonCoord);t.apply(e),t.geometryChanged()},removeCommonBits:function(t){if(0===this.commonCoord.x&&0===this.commonCoord.y)return t;var e=new g(this.commonCoord);e.x=-e.x,e.y=-e.y;var n=new we(e);return t.apply(n),t.geometryChanged(),t},getCommonCoordinate:function(){return this.commonCoord},add:function(t){t.apply(this.ccFilter),this.commonCoord=this.ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return Ce}}),e(Se.prototype,{filter:function(t){this.commonBitsX.add(t.x),this.commonBitsY.add(t.y)},getCommonCoordinate:function(){return new g(this.commonBitsX.getCommon(),this.commonBitsY.getCommon())},interfaces_:function(){return[z]},getClass:function(){return Se}}),e(we.prototype,{filter:function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[ct]},getClass:function(){return we}}),Ce.CommonCoordinateFilter=Se,Ce.Translater=we,e(Le.prototype,{next:function(){if(this.atStart)return this.atStart=!1,Le.isAtomic(this.parent)&&this.index++,this.parent;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return this.subcollectionIterator.next();this.subcollectionIterator=null}if(this.index>=this.max)throw new x;var t=this.parent.getGeometryN(this.index++);return t instanceof ft?(this.subcollectionIterator=new Le(t),this.subcollectionIterator.next()):t},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this.atStart)return!0;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return!0;this.subcollectionIterator=null}return!(this.index>=this.max)},interfaces_:function(){return[p]},getClass:function(){return Le}}),Le.isAtomic=function(t){return!(t instanceof ft)},e(Re.prototype,{locateInternal:function(){if(arguments[0]instanceof g&&arguments[1]instanceof Tt){var t=arguments[0],e=arguments[1];if(e.isEmpty())return L.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===L.EXTERIOR)return L.EXTERIOR;if(i===L.BOUNDARY)return L.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var s=e.getInteriorRingN(r),o=this.locateInPolygonRing(t,s);if(o===L.INTERIOR)return L.EXTERIOR;if(o===L.BOUNDARY)return L.BOUNDARY}return L.INTERIOR}if(arguments[0]instanceof g&&arguments[1]instanceof St){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return L.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!a.equals(l[0])&&!a.equals(l[l.length-1])?le.isOnLine(a,l)?L.INTERIOR:L.EXTERIOR:L.BOUNDARY}if(arguments[0]instanceof g&&arguments[1]instanceof Lt){var h=arguments[0];return arguments[1].getCoordinate().equals2D(h)?L.INTERIOR:L.EXTERIOR}},locateInPolygonRing:function(t,e){return e.getEnvelopeInternal().intersects(t)?le.locatePointInRing(t,e.getCoordinates()):L.EXTERIOR},intersects:function(t,e){return this.locate(t,e)!==L.EXTERIOR},updateLocationInfo:function(t){t===L.INTERIOR&&(this.isIn=!0),t===L.BOUNDARY&&this.numBoundaries++},computeLocation:function(t,e){if(e instanceof Lt&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof St)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Tt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof gt)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof Ot)for(var s=e,i=0;i<s.getNumGeometries();i++){var o=s.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,o))}else if(e instanceof ft)for(var a=new Le(e);a.hasNext();){var u=a.next();u!==e&&this.computeLocation(t,u)}},locate:function(t,e){return e.isEmpty()?L.EXTERIOR:e instanceof St?this.locateInternal(t,e):e instanceof Tt?this.locateInternal(t,e):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(t,e),this.boundaryRule.isInBoundary(this.numBoundaries)?L.BOUNDARY:this.numBoundaries>0||this.isIn?L.INTERIOR:L.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return Re}}),e(Te.prototype,{interfaces_:function(){return[]},getClass:function(){return Te}}),Te.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new i("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof g&&arguments[1]instanceof g){var s=arguments[0],o=arguments[1],a=o.x-s.x,u=o.y-s.y;if(0===a&&0===u)throw new i("Cannot compute the octant for two identical points "+s);return Te.octant(a,u)}},e(Pe.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(t){},isClosed:function(){},setData:function(t){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return Pe}}),e(be.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:Te.octant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},getData:function(){return this.data},toString:function(){return re.toLineString(new Gt(this.pts))},interfaces_:function(){return[Pe]},getClass:function(){return be}}),e(Oe.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return Oe}}),e(_e.prototype,{getItem:function(){return this.item},getBounds:function(){return this.bounds},interfaces_:function(){return[Oe,u]},getClass:function(){return _e}}),e(Me.prototype,{poll:function(){if(this.isEmpty())return null;var t=this.items.get(1);return this.items.set(1,this.items.get(this._size)),this._size-=1,this.reorder(1),t},size:function(){return this._size},reorder:function(t){for(var e=null,n=this.items.get(t);2*t<=this._size&&(e=2*t,e!==this._size&&this.items.get(e+1).compareTo(this.items.get(e))<0&&e++,this.items.get(e).compareTo(n)<0);t=e)this.items.set(t,this.items.get(e));this.items.set(t,n)},clear:function(){this._size=0,this.items.clear()},isEmpty:function(){return 0===this._size},add:function(t){this.items.add(null),this._size+=1;var e=this._size;for(this.items.set(0,t);t.compareTo(this.items.get(Math.trunc(e/2)))<0;e/=2)this.items.set(e,this.items.get(Math.trunc(e/2)));this.items.set(e,t)},interfaces_:function(){return[]},getClass:function(){return Me}}),e(De.prototype,{visitItem:function(t){},interfaces_:function(){return[]},getClass:function(){return De}}),e(Ae.prototype,{insert:function(t,e){},remove:function(t,e){},query:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return Ae}}),e(Fe.prototype,{getLevel:function(){return this.level},size:function(){return this.childBoundables.size()},getChildBoundables:function(){return this.childBoundables},addChildBoundable:function(t){f.isTrue(null===this.bounds),this.childBoundables.add(t)},isEmpty:function(){return this.childBoundables.isEmpty()},getBounds:function(){return null===this.bounds&&(this.bounds=this.computeBounds()),this.bounds},interfaces_:function(){return[Oe,u]},getClass:function(){return Fe}}),Fe.serialVersionUID=0x5a1e55ec41369800;var uo={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return uo.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?ut.sort(n,e):ut.sort(n);for(var i=t.iterator(),r=0,s=n.length;r<s;r++)i.next(),i.set(n[r])},singletonList:function(t){var e=new I;return e.add(t),e}};e(Ge.prototype,{expandToQueue:function(t,e){var n=Ge.isComposite(this.boundable1),r=Ge.isComposite(this.boundable2);if(n&&r)return Ge.area(this.boundable1)>Ge.area(this.boundable2)?(this.expand(this.boundable1,this.boundable2,t,e),null):(this.expand(this.boundable2,this.boundable1,t,e),null);if(n)return this.expand(this.boundable1,this.boundable2,t,e),null;if(r)return this.expand(this.boundable2,this.boundable1,t,e),null;throw new i("neither boundable is composite")},isLeaves:function(){return!(Ge.isComposite(this.boundable1)||Ge.isComposite(this.boundable2))},compareTo:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},expand:function(t,e,n,i){for(var r=t.getChildBoundables(),s=r.iterator();s.hasNext();){var o=s.next(),a=new Ge(o,e,this.itemDistance);a.getDistance()<i&&n.add(a)}},getBoundable:function(t){return 0===t?this.boundable1:this.boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this.itemDistance.distance(this.boundable1,this.boundable2):this.boundable1.getBounds().distance(this.boundable2.getBounds())},interfaces_:function(){return[s]},getClass:function(){return Ge}}),Ge.area=function(t){return t.getBounds().getArea()},Ge.isComposite=function(t){return t instanceof Fe},e(qe.prototype,{getNodeCapacity:function(){return this.nodeCapacity},lastNode:function(t){return t.get(t.size()-1)},size:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this.root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var i=n.next();i instanceof Fe?e+=this.size(i):i instanceof _e&&(e+=1)}return e}},removeItem:function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof _e&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},itemsTree:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this.root);return null===t?new I:t}if(1===arguments.length){for(var e=arguments[0],n=new I,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof Fe){var s=this.itemsTree(r);null!==s&&n.add(s)}else r instanceof _e?n.add(r.getItem()):f.shouldNeverReachHere()}return n.size()<=0?null:n}},insert:function(t,e){f.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built."),this.itemBoundables.add(new _e(t,e))},boundablesAtLevel:function(){if(1===arguments.length){var t=arguments[0],e=new I;return this.boundablesAtLevel(t,this.root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(f.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var s=i.getChildBoundables().iterator();s.hasNext();){var o=s.next();o instanceof Fe?this.boundablesAtLevel(n,o,r):(f.isTrue(o instanceof _e),-1===n&&r.add(o))}return null}},query:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new I;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.query(t,this.root,e),e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this.root.getBounds(),n)&&this.query(n,this.root,i)}else if(3===arguments.length)if(R(arguments[2],De)&&arguments[0]instanceof Object&&arguments[1]instanceof Fe)for(var r=arguments[0],s=arguments[1],o=arguments[2],a=s.getChildBoundables(),u=0;u<a.size();u++){var l=a.get(u);this.getIntersectsOp().intersects(l.getBounds(),r)&&(l instanceof Fe?this.query(r,l,o):l instanceof _e?o.visitItem(l.getItem()):f.shouldNeverReachHere())}else if(R(arguments[2],y)&&arguments[0]instanceof Object&&arguments[1]instanceof Fe)for(var h=arguments[0],c=arguments[1],g=arguments[2],a=c.getChildBoundables(),u=0;u<a.size();u++){var l=a.get(u);this.getIntersectsOp().intersects(l.getBounds(),h)&&(l instanceof Fe?this.query(h,l,g):l instanceof _e?g.add(l.getItem()):f.shouldNeverReachHere())}},build:function(){return this.built?null:(this.root=this.itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1),this.itemBoundables=null,void(this.built=!0))},getRoot:function(){return this.build(),this.root},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.remove(t,this.root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],s=this.removeItem(i,r);if(s)return!0;for(var o=null,a=i.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Fe&&(s=this.remove(n,u,r))){o=u;break}}return null!==o&&o.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(o),s}},createHigherLevels:function(t,e){f.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this.root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var i=n.next();if(i instanceof Fe){var r=this.depth(i);r>e&&(e=r)}}return e+1}},createParentBoundables:function(t,e){f.isTrue(!t.isEmpty());var n=new I;n.add(this.createNode(e));var i=new I(t);uo.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var s=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(s)}return n},isEmpty:function(){return this.built?this.root.isEmpty():this.itemBoundables.isEmpty()},interfaces_:function(){return[u]},getClass:function(){return qe}}),qe.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},qe.IntersectsOp=Be,qe.serialVersionUID=-0x35ef64c82d4c5400,qe.DEFAULT_NODE_CAPACITY=10,e(ze.prototype,{distance:function(t,e){},interfaces_:function(){return[]},getClass:function(){return ze}}),h(Ve,qe),e(Ve.prototype,{createParentBoundablesFromVerticalSlices:function(t,e){f.isTrue(t.length>0);for(var n=new I,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},createNode:function(t){return new ke(t)},size:function(){return 0===arguments.length?qe.prototype.size.call(this):qe.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return qe.prototype.insert.apply(this,arguments);var t=arguments[0],e=arguments[1];return t.isNull()?null:void qe.prototype.insert.call(this,t,e)},getIntersectsOp:function(){return Ve.intersectsOp},verticalSlices:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),s=0;s<e;s++){i[s]=new I;for(var o=0;r.hasNext()&&o<n;){var a=r.next();i[s].add(a),o++}}return i},query:function(){if(1===arguments.length){var t=arguments[0];return qe.prototype.query.call(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];qe.prototype.query.call(this,e,n)}else if(3===arguments.length)if(R(arguments[2],De)&&arguments[0]instanceof Object&&arguments[1]instanceof Fe){var i=arguments[0],r=arguments[1],s=arguments[2];qe.prototype.query.call(this,i,r,s)}else if(R(arguments[2],y)&&arguments[0]instanceof Object&&arguments[1]instanceof Fe){var o=arguments[0],a=arguments[1],u=arguments[2];qe.prototype.query.call(this,o,a,u)}},getComparator:function(){return Ve.yComparator},createParentBoundablesFromVerticalSlice:function(t,e){return qe.prototype.createParentBoundables.call(this,t,e)},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return qe.prototype.remove.call(this,t,e)}return qe.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?qe.prototype.depth.call(this):qe.prototype.depth.apply(this,arguments)},createParentBoundables:function(t,e){f.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new I(t);uo.sort(i,Ve.xComparator);var r=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(r,e)},nearestNeighbour:function(){if(1===arguments.length){if(R(arguments[0],ze)){var t=arguments[0],e=new Ge(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof Ge){var n=arguments[0];return this.nearestNeighbour(n,r.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof Ve&&R(arguments[1],ze)){var i=arguments[0],s=arguments[1],e=new Ge(this.getRoot(),i.getRoot(),s);return this.nearestNeighbour(e)}if(arguments[0]instanceof Ge&&"number"==typeof arguments[1]){var o=arguments[0],a=arguments[1],u=a,l=null,h=new Me;for(h.add(o);!h.isEmpty()&&u>0;){var c=h.poll(),f=c.getDistance();if(f>=u)break;c.isLeaves()?(u=f,l=c):c.expandToQueue(h,u)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var g=arguments[0],d=arguments[1],p=arguments[2],m=new _e(g,d),e=new Ge(this.getRoot(),m,p);return this.nearestNeighbour(e)[0]}},interfaces_:function(){return[Ae,u]},getClass:function(){return Ve}}),Ve.centreX=function(t){return Ve.avg(t.getMinX(),t.getMaxX())},Ve.avg=function(t,e){return(t+e)/2},Ve.centreY=function(t){return Ve.avg(t.getMinY(),t.getMaxY())},h(ke,Fe),e(ke.prototype,{computeBounds:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new C(n.getBounds()):t.expandToInclude(n.getBounds())}return t},interfaces_:function(){return[]},getClass:function(){return ke}}),Ve.STRtreeNode=ke,Ve.serialVersionUID=0x39920f7d5f261e0,Ve.xComparator={interfaces_:function(){return[a]},compare:function(t,e){return qe.compareDoubles(Ve.centreX(t.getBounds()),Ve.centreX(e.getBounds()))}},Ve.yComparator={interfaces_:function(){return[a]},compare:function(t,e){return qe.compareDoubles(Ve.centreY(t.getBounds()),Ve.centreY(e.getBounds()))}},Ve.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(t,e){return t.intersects(e)}},Ve.DEFAULT_NODE_CAPACITY=10,e(Ye.prototype,{interfaces_:function(){return[]},getClass:function(){return Ye}}),Ye.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Ye.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=Ye.relativeSign(e.x,n.x),r=Ye.relativeSign(e.y,n.y);switch(t){case 0:return Ye.compareValue(i,r);case 1:return Ye.compareValue(r,i);case 2:return Ye.compareValue(r,-i);case 3:return Ye.compareValue(-i,r);case 4:return Ye.compareValue(-i,-r);case 5:return Ye.compareValue(-r,-i);case 6:return Ye.compareValue(-r,i);case 7:return Ye.compareValue(i,-r)}return f.shouldNeverReachHere("invalid octant value"),0},Ye.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0},e(Ue.prototype,{getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},compareTo:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Ye.compare(this.segmentOctant,this.coord,e.coord)},isEndPoint:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},isInterior:function(){return this._isInterior},interfaces_:function(){return[s]},getClass:function(){return Ue}}),e(Xe.prototype,{getSplitCoordinates:function(){var t=new N;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},addCollapsedNodes:function(){var t=new I;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this.edge.getCoordinate(n),n)}},print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},findCollapsesFromExistingVertices:function(t){for(var e=0;e<this.edge.size()-2;e++){var n=this.edge.getCoordinate(e),i=(this.edge.getCoordinate(e+1),this.edge.getCoordinate(e+2));n.equals2D(i)&&t.add(new b(e+1))}},addEdgeCoordinates:function(t,e,n){var i=e.segmentIndex-t.segmentIndex+2,r=this.edge.getCoordinate(e.segmentIndex),s=e.isInterior()||!e.coord.equals2D(r);s||i--,n.add(new g(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this.edge.getCoordinate(o));s&&n.add(new g(e.coord))},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},findCollapseIndex:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new b(e[0])),i=r}},getEdge:function(){return this.edge},addEndpoints:function(){var t=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0),this.add(this.edge.getCoordinate(t),t)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var s=new Array(n).fill(null),o=0;s[o++]=new g(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)s[o++]=this.edge.getCoordinate(a);return r&&(s[o]=new g(e.coord)),new je(s,this.edge.getData())},add:function(t,e){var n=new Ue(this.edge,t,e,this.edge.getSegmentOctant(e)),i=this.nodeMap.get(n);return null!==i?(f.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this.nodeMap.put(n,n),n)},checkSplitEdgesCorrectness:function(t){var e=this.edge.getCoordinates(),n=t.get(0),i=n.getCoordinate(0);if(!i.equals2D(e[0]))throw new l("bad split edge start point at "+i);var r=t.get(t.size()-1),s=r.getCoordinates(),o=s[s.length-1];if(!o.equals2D(e[e.length-1]))throw new l("bad split edge end point at "+o)},interfaces_:function(){return[]},getClass:function(){return Xe}}),e(He.prototype,{next:function(){return null===this.currNode?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):null===this.nextNode?null:this.nextNode.segmentIndex===this.currNode.segmentIndex?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):(this.nextNode.segmentIndex,this.currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this.nextNode},readNextNode:function(){this.nodeIt.hasNext()?this.nextNode=this.nodeIt.next():this.nextNode=null},interfaces_:function(){return[p]},getClass:function(){return He}}),e(We.prototype,{addIntersection:function(t,e){},interfaces_:function(){return[Pe]},getClass:function(){return We}}),e(je.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},safeOctant:function(t,e){return t.equals2D(e)?0:Te.octant(t,e)},getData:function(){return this.data},addIntersection:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=(arguments[2],arguments[3]),s=new g(n.getIntersection(r));this.addIntersection(s,i)}},toString:function(){return re.toLineString(new Gt(this.pts))},getNodeList:function(){return this.nodeList},addIntersectionNode:function(t,e){var n=e,i=n+1;if(i<this.pts.length){var r=this.pts[i];t.equals2D(r)&&(n=i)}return this.nodeList.add(t,n)},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[We]},getClass:function(){return je}}),je.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new I;return je.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();){var s=r.next();s.getNodeList().addSplitEdges(i)}},e(Ke.prototype,{overlap:function(){if(2===arguments.length)arguments[0],arguments[1];else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];t.getLineSegment(e,this.overlapSeg1),n.getLineSegment(i,this.overlapSeg2),this.overlap(this.overlapSeg1,this.overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return Ke}}),e(Ze.prototype,{getLineSegment:function(t,e){e.p0=this.pts[t],e.p1=this.pts[t+1]},computeSelect:function(t,e,n,i){var r=this.pts[e],s=this.pts[n];if(i.tempEnv1.init(r,s),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var o=Math.trunc((e+n)/2);e<o&&this.computeSelect(t,e,o,i),
o<n&&this.computeSelect(t,o,n,i)},getCoordinates:function(){for(var t=new Array(this.end-this.start+1).fill(null),e=0,n=this.start;n<=this.end;n++)t[e++]=this.pts[n];return t},computeOverlaps:function(t,e){this.computeOverlapsInternal(this.start,this.end,t,t.start,t.end,e)},setId:function(t){this.id=t},select:function(t,e){this.computeSelect(t,this.start,this.end,e)},getEnvelope:function(){if(null===this.env){var t=this.pts[this.start],e=this.pts[this.end];this.env=new C(t,e)}return this.env},getEndIndex:function(){return this.end},getStartIndex:function(){return this.start},getContext:function(){return this.context},getId:function(){return this.id},computeOverlapsInternal:function(t,e,n,i,r,s){var o=this.pts[t],a=this.pts[e],u=n.pts[i],l=n.pts[r];if(e-t==1&&r-i==1)return s.overlap(this,t,n,i),null;if(s.tempEnv1.init(o,a),s.tempEnv2.init(u,l),!s.tempEnv1.intersects(s.tempEnv2))return null;var h=Math.trunc((t+e)/2),c=Math.trunc((i+r)/2);t<h&&(i<c&&this.computeOverlapsInternal(t,h,n,i,c,s),c<r&&this.computeOverlapsInternal(t,h,n,c,r,s)),h<e&&(i<c&&this.computeOverlapsInternal(h,e,n,i,c,s),c<r&&this.computeOverlapsInternal(h,e,n,c,r,s))},interfaces_:function(){return[]},getClass:function(){return Ze}}),e(Qe.prototype,{interfaces_:function(){return[]},getClass:function(){return Qe}}),Qe.isNorthern=function(t){return t===Qe.NE||t===Qe.NW},Qe.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},Qe.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e,i=t>e?t:e;return 0===n&&3===i?3:n},Qe.isInHalfPlane=function(t,e){return e===Qe.SE?t===Qe.SE||t===Qe.SW:t===e||t===e+1},Qe.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new i("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Qe.NE:Qe.SE:e>=0?Qe.NW:Qe.SW}if(arguments[0]instanceof g&&arguments[1]instanceof g){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new i("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Qe.NE:Qe.SE:r.y>=n.y?Qe.NW:Qe.SW}},Qe.NE=0,Qe.NW=1,Qe.SW=2,Qe.SE=3,e(Je.prototype,{interfaces_:function(){return[]},getClass:function(){return Je}}),Je.getChainStartIndices=function(t){var e=0,n=new I;n.add(new b(e));do{var i=Je.findChainEnd(t,e);n.add(new b(i)),e=i}while(e<t.length-1);return Je.toIntArray(n)},Je.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=Qe.quadrant(t[n],t[n+1]),r=e+1;r<t.length;){if(!t[r-1].equals2D(t[r])){if(Qe.quadrant(t[r-1],t[r])!==i)break}r++}return r-1},Je.getChains=function(){if(1===arguments.length){var t=arguments[0];return Je.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new I,r=Je.getChainStartIndices(e),s=0;s<r.length-1;s++){var o=new Ze(e,r[s],r[s+1],n);i.add(o)}return i}},Je.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},e($e.prototype,{computeNodes:function(t){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return $e}}),e(tn.prototype,{setSegmentIntersector:function(t){this.segInt=t},interfaces_:function(){return[$e]},getClass:function(){return tn}}),h(en,tn),e(en.prototype,{getMonotoneChains:function(){return this.monoChains},getNodedSubstrings:function(){return je.getNodedSubstrings(this.nodedSegStrings)},getIndex:function(){return this.index},add:function(t){for(var e=Je.getChains(t.getCoordinates(),t),n=e.iterator();n.hasNext();){var i=n.next();i.setId(this.idCounter++),this.index.insert(i.getEnvelope(),i),this.monoChains.add(i)}},computeNodes:function(t){this.nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},intersectChains:function(){for(var t=new nn(this.segInt),e=this.monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this.index.query(n.getEnvelope()),r=i.iterator();r.hasNext();){var s=r.next();if(s.getId()>n.getId()&&(n.computeOverlaps(s,t),this.nOverlaps++),this.segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return en}}),h(nn,Ke),e(nn.prototype,{overlap:function(){if(4!==arguments.length)return Ke.prototype.overlap.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],r=t.getContext(),s=n.getContext();this.si.processIntersections(r,e,s,i)},interfaces_:function(){return[]},getClass:function(){return nn}}),en.SegmentOverlapAction=nn,h(rn,l),e(rn.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return rn}}),rn.msgWithCoord=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(sn.prototype,{processIntersections:function(t,e,n,i){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return sn}}),e(on.prototype,{getInteriorIntersection:function(){return this.interiorIntersection},setCheckEndSegmentsOnly:function(t){this.isCheckEndSegmentsOnly=t},getIntersectionSegments:function(){return this.intSegments},count:function(){return this.intersectionCount},getIntersections:function(){return this.intersections},setFindAllIntersections:function(t){this.findAllIntersections=t},setKeepIntersections:function(t){this.keepIntersections=t},processIntersections:function(t,e,n,i){if(!this.findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this.isCheckEndSegmentsOnly){if(!(this.isEndSegment(t,e)||this.isEndSegment(n,i)))return null}var r=t.getCoordinates()[e],s=t.getCoordinates()[e+1],o=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this.li.computeIntersection(r,s,o,a),this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=new Array(4).fill(null),this.intSegments[0]=r,this.intSegments[1]=s,this.intSegments[2]=o,this.intSegments[3]=a,this.interiorIntersection=this.li.getIntersection(0),this.keepIntersections&&this.intersections.add(this.interiorIntersection),this.intersectionCount++)},isEndSegment:function(t,e){return 0===e||e>=t.size()-2},hasIntersection:function(){return null!==this.interiorIntersection},isDone:function(){return!this.findAllIntersections&&null!==this.interiorIntersection},interfaces_:function(){return[sn]},getClass:function(){return on}}),on.createAllIntersectionsFinder=function(t){var e=new on(t);return e.setFindAllIntersections(!0),e},on.createAnyIntersectionFinder=function(t){return new on(t)},on.createIntersectionCounter=function(t){var e=new on(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e},e(an.prototype,{execute:function(){return null!==this.segInt?null:void this.checkInteriorIntersections()},getIntersections:function(){return this.segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(t){this.findAllIntersections=t},checkInteriorIntersections:function(){this._isValid=!0,this.segInt=new on(this.li),this.segInt.setFindAllIntersections(this.findAllIntersections);var t=new en;if(t.setSegmentIntersector(this.segInt),t.computeNodes(this.segStrings),this.segInt.hasIntersection())return this._isValid=!1,null},checkValid:function(){if(this.execute(),!this._isValid)throw new rn(this.getErrorMessage(),this.segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var t=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+re.toLineString(t[0],t[1])+" and "+re.toLineString(t[2],t[3])},interfaces_:function(){return[]},getClass:function(){return an}}),an.computeIntersections=function(t){var e=new an(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()},e(un.prototype,{checkValid:function(){this.nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return un}}),un.toSegmentStrings=function(t){for(var e=new I,n=t.iterator();n.hasNext();){var i=n.next();e.add(new be(i.getCoordinates(),i))}return e},un.checkValid=function(t){new un(t).checkValid()},e(ln.prototype,{map:function(t){for(var e=new I,n=0;n<t.getNumGeometries();n++){var i=this.mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(ne.toGeometryArray(e))},interfaces_:function(){return[]},getClass:function(){return ln}}),ln.map=function(t,e){return new ln(e).map(t)},e(hn.prototype,{interfaces_:function(){return[]},getClass:function(){return hn}}),hn.opposite=function(t){return t===hn.LEFT?hn.RIGHT:t===hn.RIGHT?hn.LEFT:t},hn.ON=0,hn.LEFT=1,hn.RIGHT=2,e(cn.prototype,{setAllLocations:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},isNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==L.NONE)return!1;return!0},setAllLocationsIfNull:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===L.NONE&&(this.location[e]=t)},isLine:function(){return 1===this.location.length},merge:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[hn.ON]=this.location[hn.ON],e[hn.LEFT]=L.NONE,e[hn.RIGHT]=L.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===L.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var t=this.location[hn.LEFT];this.location[hn.LEFT]=this.location[hn.RIGHT],this.location[hn.RIGHT]=t},toString:function(){var t=new P;return this.location.length>1&&t.append(L.toLocationSymbol(this.location[hn.LEFT])),t.append(L.toLocationSymbol(this.location[hn.ON])),this.location.length>1&&t.append(L.toLocationSymbol(this.location[hn.RIGHT])),t.toString()},setLocations:function(t,e,n){this.location[hn.ON]=t,this.location[hn.LEFT]=e,this.location[hn.RIGHT]=n},get:function(t){return t<this.location.length?this.location[t]:L.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===L.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var t=arguments[0];this.setLocation(hn.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},init:function(t){this.location=new Array(t).fill(null),this.setAllLocations(L.NONE)},isEqualOnSide:function(t,e){return this.location[e]===t.location[e]},allPositionsEqual:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return cn}}),e(fn.prototype,{getGeometryCount:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},setAllLocations:function(t,e){this.elt[t].setAllLocations(e)},isNull:function(t){return this.elt[t].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},isLine:function(t){return this.elt[t].isLine()},merge:function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new cn(t.elt[e]):this.elt[e].merge(t.elt[e])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(hn.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},toString:function(){var t=new P;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},isAnyNull:function(t){return this.elt[t].isAnyNull()},setLocation:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(hn.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}},isEqualOnSide:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},allPositionsEqual:function(t,e){return this.elt[t].allPositionsEqual(e)},toLine:function(t){this.elt[t].isArea()&&(this.elt[t]=new cn(this.elt[t].location[0]))},interfaces_:function(){return[]},getClass:function(){return fn}}),fn.toLineLabel=function(t){for(var e=new fn(L.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e},e(gn.prototype,{computeRing:function(){if(null!==this.ring)return null;for(var t=new Array(this.pts.size()).fill(null),e=0;e<this.pts.size();e++)t[e]=this.pts.get(e);this.ring=this.geometryFactory.createLinearRing(t),this._isHole=le.isCCW(this.ring.getCoordinates())},isIsolated:function(){return 1===this.label.getGeometryCount()},computePoints:function(t){this.startDe=t;var e=t,n=!0;do{if(null===e)throw new rn("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new rn("Directed Edge visited twice during ring-building at "+e.getCoordinate());this.edges.add(e);var i=e.getLabel();f.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this.startDe)},getLinearRing:function(){return this.ring},getCoordinate:function(t){return this.pts.get(t)},computeMaxNodeDegree:function(){this.maxNodeDegree=0;var t=this.startDe;do{var e=t.getNode(),n=e.getEdges().getOutgoingDegree(this);n>this.maxNodeDegree&&(this.maxNodeDegree=n),t=this.getNext(t)}while(t!==this.startDe);this.maxNodeDegree*=2},addPoints:function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var s=r;s<i.length;s++)this.pts.add(i[s])}else{var r=i.length-2;n&&(r=i.length-1);for(var s=r;s>=0;s--)this.pts.add(i[s])}},isHole:function(){return this._isHole},setInResult:function(){var t=this.startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this.startDe)},containsPoint:function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!le.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this.holes.iterator();n.hasNext();){if(n.next().containsPoint(t))return!1}return!0},addHole:function(t){this.holes.add(t)},isShell:function(){return null===this.shell},getLabel:function(){return this.label},getEdges:function(){return this.edges},getMaxNodeDegree:function(){return this.maxNodeDegree<0&&this.computeMaxNodeDegree(),this.maxNodeDegree},getShell:function(){return this.shell},mergeLabel:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=e.getLocation(n,hn.RIGHT);if(i===L.NONE)return null;if(this.label.getLocation(n)===L.NONE)return this.label.setLocation(n,i),null}},setShell:function(t){this.shell=t,null!==t&&t.addHole(this)},toPolygon:function(t){for(var e=new Array(this.holes.size()).fill(null),n=0;n<this.holes.size();n++)e[n]=this.holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},interfaces_:function(){return[]},getClass:function(){return gn}}),h(dn,gn),e(dn.prototype,{setEdgeRing:function(t,e){t.setMinEdgeRing(e)},getNext:function(t){return t.getNextMin()},interfaces_:function(){return[]},getClass:function(){return dn}}),h(pn,gn),e(pn.prototype,{buildMinimalRings:function(){var t=new I,e=this.startDe;do{if(null===e.getMinEdgeRing()){var n=new dn(e,this.geometryFactory);t.add(n)}e=e.getNext()}while(e!==this.startDe);return t},setEdgeRing:function(t,e){t.setEdgeRing(e)},linkDirectedEdgesForMinimalEdgeRings:function(){var t=this.startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this.startDe)},getNext:function(t){return t.getNext()},interfaces_:function(){return[]},getClass:function(){return pn}}),e(mn.prototype,{setVisited:function(t){this._isVisited=t},setInResult:function(t){this._isInResult=t},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setCovered:function(t){this._isCovered=t,this._isCoveredSet=!0},updateIM:function(t){f.isTrue(this.label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return mn}}),h(vn,mn),e(vn.prototype,{isIncidentEdgeInResult:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();){if(t.next().getEdge().isInResult())return!0}return!1},isIsolated:function(){return 1===this.label.getGeometryCount()},getCoordinate:function(){return this.coord},print:function(t){t.println("node "+this.coord+" lbl: "+this.label)},computeIM:function(t){},computeMergedLocation:function(t,e){var n=L.NONE;if(n=this.label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==L.BOUNDARY&&(n=i)}return n},setLabel:function(){if(2!==arguments.length)return mn.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];null===this.label?this.label=new fn(t,e):this.label.setLocation(t,e)},getEdges:function(){return this.edges},mergeLabel:function(){if(arguments[0]instanceof vn){var t=arguments[0];this.mergeLabel(t.label)}else if(arguments[0]instanceof fn)for(var e=arguments[0],n=0;n<2;n++){var i=this.computeMergedLocation(e,n),r=this.label.getLocation(n);r===L.NONE&&this.label.setLocation(n,i)}},add:function(t){this.edges.insert(t),t.setNode(this)},setLabelBoundary:function(t){if(null===this.label)return null;var e=L.NONE;null!==this.label&&(e=this.label.getLocation(t));var n=null;switch(e){case L.BOUNDARY:n=L.INTERIOR;break;case L.INTERIOR:n=L.BOUNDARY;break;default:n=L.BOUNDARY}this.label.setLocation(t,n)},interfaces_:function(){return[]},getClass:function(){return vn}}),e(yn.prototype,{find:function(t){return this.nodeMap.get(t)},addNode:function(){if(arguments[0]instanceof g){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof vn){var n=arguments[0],e=this.nodeMap.get(n.getCoordinate());return null===e?(this.nodeMap.put(n.getCoordinate(),n),n):(e.mergeLabel(n),e)}},print:function(t){for(var e=this.iterator();e.hasNext();){e.next().print(t)}},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(t){for(var e=new I,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===L.BOUNDARY&&e.add(i)}return e},add:function(t){var e=t.getCoordinate();this.addNode(e).add(t)},interfaces_:function(){return[]},getClass:function(){return yn}}),e(xn.prototype,{compareDirection:function(t){return this.dx===t.dx&&this.dy===t.dy?0:this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:le.computeOrientation(t.p0,t.p1,this.p1)},getDy:function(){return this.dy},getCoordinate:function(){return this.p0},setNode:function(t){this.node=t},print:function(t){var e=Math.atan2(this.dy,this.dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+e+"   "+this.label)},compareTo:function(t){var e=t;return this.compareDirection(e)},getDirectedCoordinate:function(){return this.p1},getDx:function(){return this.dx},getLabel:function(){return this.label},getEdge:function(){return this.edge},getQuadrant:function(){return this.quadrant},getNode:function(){return this.node},toString:function(){var t=Math.atan2(this.dy,this.dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+t+"   "+this.label},computeLabel:function(t){},init:function(t,e){this.p0=t,this.p1=e,this.dx=e.x-t.x,this.dy=e.y-t.y,this.quadrant=Qe.quadrant(this.dx,this.dy),f.isTrue(!(0===this.dx&&0===this.dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[s]},getClass:function(){return xn}}),h(En,xn),e(En.prototype,{getNextMin:function(){return this.nextMin},getDepth:function(t){return this.depth[t]},setVisited:function(t){this._isVisited=t},computeDirectedLabel:function(){this.label=new fn(this.edge.getLabel()),this._isForward||this.label.flip()},getNext:function(){return this.next},setDepth:function(t,e){if(-999!==this.depth[t]&&this.depth[t]!==e)throw new rn("assigned depths do not match",this.getCoordinate());this.depth[t]=e},isInteriorAreaEdge:function(){for(var t=!0,e=0;e<2;e++)this.label.isArea(e)&&this.label.getLocation(e,hn.LEFT)===L.INTERIOR&&this.label.getLocation(e,hn.RIGHT)===L.INTERIOR||(t=!1);return t},setNextMin:function(t){this.nextMin=t},print:function(t){xn.prototype.print.call(this,t),t.print(" "+this.depth[hn.LEFT]+"/"+this.depth[hn.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},setMinEdgeRing:function(t){this.minEdgeRing=t},isLineEdge:function(){var t=this.label.isLine(0)||this.label.isLine(1),e=!this.label.isArea(0)||this.label.allPositionsEqual(0,L.EXTERIOR),n=!this.label.isArea(1)||this.label.allPositionsEqual(1,L.EXTERIOR);return t&&e&&n},setEdgeRing:function(t){this.edgeRing=t},getMinEdgeRing:function(){return this.minEdgeRing},getDepthDelta:function(){var t=this.edge.getDepthDelta();return this._isForward||(t=-t),t},setInResult:function(t){this._isInResult=t},getSym:function(){return this.sym},isForward:function(){return this._isForward},getEdge:function(){return this.edge},printEdge:function(t){this.print(t),t.print(" "),this._isForward?this.edge.print(t):this.edge.printReverse(t)},setSym:function(t){this.sym=t},setVisitedEdge:function(t){this.setVisited(t),this.sym.setVisited(t)},setEdgeDepths:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===hn.LEFT&&(i=-1);var r=hn.opposite(t),s=n*i,o=e+s;this.setDepth(t,e),this.setDepth(r,o)},getEdgeRing:function(){return this.edgeRing},isInResult:function(){return this._isInResult},setNext:function(t){this.next=t},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return En}}),En.depthFactor=function(t,e){return t===L.EXTERIOR&&e===L.INTERIOR?1:t===L.INTERIOR&&e===L.EXTERIOR?-1:0},e(In.prototype,{createNode:function(t){return new vn(t,null)},interfaces_:function(){return[]},getClass:function(){return In}}),e(Nn.prototype,{printEdges:function(t){t.println("Edges:");for(var e=0;e<this.edges.size();e++){t.println("edge "+e+":");var n=this.edges.get(e);n.print(t),n.eiList.print(t)}},find:function(t){return this.nodes.find(t)},addNode:function(){if(arguments[0]instanceof vn){var t=arguments[0];return this.nodes.addNode(t)}if(arguments[0]instanceof g){var e=arguments[0];return this.nodes.addNode(e)}},getNodeIterator:function(){return this.nodes.iterator()},linkResultDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){t.next().getEdges().linkResultDirectedEdges()}},debugPrintln:function(t){A.out.println(t)},isBoundaryNode:function(t,e){var n=this.nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===L.BOUNDARY},linkAllDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){t.next().getEdges().linkAllDirectedEdges()}},matchInSameDirection:function(t,e,n,i){return!!t.equals(n)&&le.computeOrientation(t,e,i)===le.COLLINEAR&&Qe.quadrant(t,e)===Qe.quadrant(n,i)},getEdgeEnds:function(){return this.edgeEndList},debugPrint:function(t){A.out.print(t)},getEdgeIterator:function(){return this.edges.iterator()},findEdgeInSameDirection:function(t,e){for(var n=0;n<this.edges.size();n++){var i=this.edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},insertEdge:function(t){this.edges.add(t)},findEdgeEnd:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},addEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.edges.add(n);var i=new En(n,!0),r=new En(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},add:function(t){this.nodes.add(t),this.edgeEndList.add(t)},getNodes:function(){return this.nodes.values()},findEdge:function(t,e){for(var n=0;n<this.edges.size();n++){var i=this.edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},interfaces_:function(){return[]},getClass:function(){return Nn}}),Nn.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();){e.next().getEdges().linkResultDirectedEdges()}},e(Cn.prototype,{sortShellsAndHoles:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},computePolygons:function(t){for(var e=new I,n=t.iterator();n.hasNext();){var i=n.next(),r=i.toPolygon(this.geometryFactory);e.add(r)}return e},placeFreeHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new rn("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},buildMinimalEdgeRings:function(t,e,n){for(var i=new I,r=t.iterator();r.hasNext();){var s=r.next();if(s.getMaxNodeDegree()>2){s.linkDirectedEdgesForMinimalEdgeRings();var o=s.buildMinimalRings(),a=this.findShell(o);null!==a?(this.placePolygonHoles(a,o),e.add(a)):n.addAll(o)}else i.add(s)}return i},containsPoint:function(t){for(var e=this.shellList.iterator();e.hasNext();){if(e.next().containsPoint(t))return!0}return!1},buildMaximalEdgeRings:function(t){for(var e=new I,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new pn(i,this.geometryFactory);e.add(r),r.setInResult()}}return e},placePolygonHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},getPolygons:function(){return this.computePolygons(this.shellList)},findEdgeRingContaining:function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),s=null,o=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),h=l.getEnvelopeInternal();null!==s&&(o=s.getLinearRing().getEnvelopeInternal());var c=!1;h.contains(i)&&le.isPointInRing(r,l.getCoordinates())&&(c=!0),c&&(null===s||o.contains(h))&&(s=u)}return s},findShell:function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return f.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Nn.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new I,s=this.buildMinimalEdgeRings(i,this.shellList,r);this.sortShellsAndHoles(s,this.shellList,r),this.placeFreeHoles(this.shellList,r)}},interfaces_:function(){return[]},getClass:function(){return Cn}}),e(Sn.prototype,{collectLines:function(t){for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this.lineEdgesList),this.collectBoundaryTouchEdge(n,t,this.lineEdgesList)}},labelIsolatedLine:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.op.getArgGeometry(e));t.getLabel().setLocation(e,n)},build:function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this.resultLineList},collectLineEdge:function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!ni.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var t=this.op.getGraph().getNodes().iterator();t.hasNext();){t.next().getEdges().findCoveredLineEdges()}for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var r=this.op.isCoveredByA(n.getCoordinate());i.setCovered(r)}}},labelIsolatedLines:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},buildLines:function(t){for(var e=this.lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=(n.getLabel(),this.geometryFactory.createLineString(n.getCoordinates()));this.resultLineList.add(i),n.setInResult(!0)}},collectBoundaryTouchEdge:function(t,e,n){var i=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(f.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(ni.isResultOfOp(i,e)&&e===ni.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return Sn}}),e(wn.prototype,{filterCoveredNodeToPoint:function(t){var e=t.getCoordinate();if(!this.op.isCoveredByLA(e)){var n=this.geometryFactory.createPoint(e);this.resultPointList.add(n)}},extractNonCoveredResultNodes:function(t){for(var e=this.op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==ni.INTERSECTION)){var i=n.getLabel();ni.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},build:function(t){return this.extractNonCoveredResultNodes(t),this.resultPointList},interfaces_:function(){return[]},getClass:function(){return wn}}),e(Ln.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return Ln}}),e(Rn.prototype,{locate:function(t){return Rn.locate(t,this.geom)},interfaces_:function(){return[Ln]},getClass:function(){return Rn}}),Rn.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&le.isPointInRing(t,e.getCoordinates())},Rn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!Rn.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(Rn.isPointInRing(t,r))return!1}return!0},Rn.containsPoint=function(t,e){if(e instanceof Tt)return Rn.containsPointInPolygon(t,e);if(e instanceof ft)for(var n=new Le(e);n.hasNext();){var i=n.next();if(i!==e&&Rn.containsPoint(t,i))return!0}return!1},Rn.locate=function(t,e){return e.isEmpty()?L.EXTERIOR:Rn.containsPoint(t,e)?L.INTERIOR:L.EXTERIOR},e(Tn.prototype,{getNextCW:function(t){this.getEdges();var e=this.edgeList.indexOf(t),n=e-1;return 0===e&&(n=this.edgeList.size()-1),this.edgeList.get(n)},propagateSideLabels:function(t){for(var e=L.NONE,n=this.iterator();n.hasNext();){var i=n.next(),r=i.getLabel();r.isArea(t)&&r.getLocation(t,hn.LEFT)!==L.NONE&&(e=r.getLocation(t,hn.LEFT))}if(e===L.NONE)return null;for(var s=e,n=this.iterator();n.hasNext();){var i=n.next(),r=i.getLabel();if(r.getLocation(t,hn.ON)===L.NONE&&r.setLocation(t,hn.ON,s),r.isArea(t)){var o=r.getLocation(t,hn.LEFT),a=r.getLocation(t,hn.RIGHT);if(a!==L.NONE){if(a!==s)throw new rn("side location conflict",i.getCoordinate());o===L.NONE&&f.shouldNeverReachHere("found single null side (at "+i.getCoordinate()+")"),s=o}else f.isTrue(r.getLocation(t,hn.LEFT)===L.NONE,"found single null side"),r.setLocation(t,hn.RIGHT,s),r.setLocation(t,hn.LEFT,s)}}},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},print:function(t){A.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){e.next().print(t)}},isAreaLabelsConsistent:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel(),r=i.getLocation(t,hn.LEFT);f.isTrue(r!==L.NONE,"Found unlabelled area edge");for(var s=r,o=this.iterator();o.hasNext();){var a=o.next(),u=a.getLabel();f.isTrue(u.isArea(t),"Found non-area edge");var l=u.getLocation(t,hn.LEFT),h=u.getLocation(t,hn.RIGHT);if(l===h)return!1;if(h!==s)return!1;s=l}return!0},findIndex:function(t){this.iterator();for(var e=0;e<this.edgeList.size();e++){
if(this.edgeList.get(e)===t)return e}return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this.edgeList&&(this.edgeList=new I(this.edgeMap.values())),this.edgeList},getLocation:function(t,e,n){return this.ptInAreaLocation[t]===L.NONE&&(this.ptInAreaLocation[t]=Rn.locate(e,n[t].getGeometry())),this.ptInAreaLocation[t]},toString:function(){var t=new P;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},computeEdgeEndLabels:function(t){for(var e=this.iterator();e.hasNext();){e.next().computeLabel(t)}},computeLabelling:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next(),r=i.getLabel(),s=0;s<2;s++)r.isLine(s)&&r.getLocation(s)===L.BOUNDARY&&(e[s]=!0);for(var n=this.iterator();n.hasNext();)for(var i=n.next(),r=i.getLabel(),s=0;s<2;s++)if(r.isAnyNull(s)){var o=L.NONE;if(e[s])o=L.EXTERIOR;else{var a=i.getCoordinate();o=this.getLocation(s,a,t)}r.setAllLocationsIfNull(s,o)}},getDegree:function(){return this.edgeMap.size()},insertEdgeEnd:function(t,e){this.edgeMap.put(t,e),this.edgeList=null},interfaces_:function(){return[]},getClass:function(){return Tn}}),h(Pn,Tn),e(Pn.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this.SCANNING_FOR_INCOMING,i=0;i<this.resultAreaEdgeList.size();i++){var r=this.resultAreaEdgeList.get(i),s=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this.SCANNING_FOR_INCOMING:if(!s.isInResult())continue;e=s,n=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this.SCANNING_FOR_INCOMING}}if(n===this.LINKING_TO_OUTGOING){if(null===t)throw new rn("no outgoing dirEdge found",this.getCoordinate());f.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},insert:function(t){var e=t;this.insertEdgeEnd(e,e)},getRightmostEdge:function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),s=i.getQuadrant();return Qe.isNorthern(r)&&Qe.isNorthern(s)?n:Qe.isNorthern(r)||Qe.isNorthern(s)?0!==n.getDy()?n:0!==i.getDy()?i:(f.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},print:function(t){A.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},getResultAreaEdges:function(){if(null!==this.resultAreaEdgeList)return this.resultAreaEdgeList;this.resultAreaEdgeList=new I;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this.resultAreaEdgeList.add(e)}return this.resultAreaEdgeList},updateLabelling:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();i.setAllLocationsIfNull(0,t.getLocation(0)),i.setAllLocationsIfNull(1,t.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var t=null,e=null,n=this.edgeList.size()-1;n>=0;n--){var i=this.edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},computeDepths:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=(t.getLabel(),t.getDepth(hn.LEFT)),i=t.getDepth(hn.RIGHT),r=this.computeDepths(e+1,this.edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new rn("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var s=arguments[0],o=arguments[1],a=arguments[2],u=a,l=s;l<o;l++){var h=this.edgeList.get(l);h.getLabel(),h.setEdgeDepths(hn.RIGHT,u),u=h.getDepth(hn.LEFT)}return u}},mergeSymLabels:function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},linkMinimalDirectedEdges:function(t){for(var e=null,n=null,i=this.SCANNING_FOR_INCOMING,r=this.resultAreaEdgeList.size()-1;r>=0;r--){var s=this.resultAreaEdgeList.get(r),o=s.getSym();switch(null===e&&s.getEdgeRing()===t&&(e=s),i){case this.SCANNING_FOR_INCOMING:if(o.getEdgeRing()!==t)continue;n=o,i=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(s.getEdgeRing()!==t)continue;n.setNextMin(s),i=this.SCANNING_FOR_INCOMING}}i===this.LINKING_TO_OUTGOING&&(f.isTrue(null!==e,"found null for first outgoing dirEdge"),f.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},getOutgoingDegree:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();){var n=e.next();n.isInResult()&&t++}return t}if(1===arguments.length){for(var i=arguments[0],t=0,e=this.iterator();e.hasNext();){var n=e.next();n.getEdgeRing()===i&&t++}return t}},getLabel:function(){return this.label},findCoveredLineEdges:function(){for(var t=L.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=L.INTERIOR;break}if(i.isInResult()){t=L.EXTERIOR;break}}}if(t===L.NONE)return null;for(var r=t,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();n.isLineEdge()?n.getEdge().setCovered(r===L.INTERIOR):(n.isInResult()&&(r=L.EXTERIOR),i.isInResult()&&(r=L.INTERIOR))}},computeLabelling:function(t){Tn.prototype.computeLabelling.call(this,t),this.label=new fn(L.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next(),i=n.getEdge(),r=i.getLabel(),s=0;s<2;s++){var o=r.getLocation(s);o!==L.INTERIOR&&o!==L.BOUNDARY||this.label.setLocation(s,L.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Pn}}),h(bn,In),e(bn.prototype,{createNode:function(t){return new vn(t,new Pn)},interfaces_:function(){return[]},getClass:function(){return bn}}),e(On.prototype,{computeIntersections:function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},interfaces_:function(){return[]},getClass:function(){return On}}),e(_n.prototype,{isDelete:function(){return this.eventType===_n.DELETE},setDeleteEventIndex:function(t){this.deleteEventIndex=t},getObject:function(){return this.obj},compareTo:function(t){var e=t;return this.xValue<e.xValue?-1:this.xValue>e.xValue?1:this.eventType<e.eventType?-1:this.eventType>e.eventType?1:0},getInsertEvent:function(){return this.insertEvent},isInsert:function(){return this.eventType===_n.INSERT},isSameLabel:function(t){return null!==this.label&&this.label===t.label},getDeleteEventIndex:function(){return this.deleteEventIndex},interfaces_:function(){return[s]},getClass:function(){return _n}}),_n.INSERT=1,_n.DELETE=2,e(Mn.prototype,{interfaces_:function(){return[]},getClass:function(){return Mn}}),e(Dn.prototype,{isTrivialIntersection:function(t,e,n,i){if(t===n&&1===this.li.getIntersectionNum()){if(Dn.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},setIsDoneIfProperInt:function(t){this.isDoneWhenProperInt=t},hasProperInteriorIntersection:function(){return this.hasProperInterior},isBoundaryPointInternal:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next(),r=i.getCoordinate();if(t.isIntersection(r))return!0}return!1},hasProperIntersection:function(){return this.hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},setBoundaryNodes:function(t,e){this.bdyNodes=new Array(2).fill(null),this.bdyNodes[0]=t,this.bdyNodes[1]=e},addIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],s=t.getCoordinates()[e+1],o=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this.li.computeIntersection(r,s,o,a),this.li.hasIntersection()&&(this.recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this.includeProper&&this.li.isProper()||(t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).copy(),this.hasProper=!0,this.isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return Dn}}),Dn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},h(An,Mn),e(An.prototype,{prepareEvents:function(){uo.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},computeIntersections:function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Dn&&R(arguments[0],y)&&R(arguments[1],y)){var i=arguments[0],r=arguments[1],s=arguments[2];this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(s)}else if("boolean"==typeof arguments[2]&&R(arguments[0],y)&&arguments[1]instanceof Dn){var o=arguments[0],a=arguments[1],u=arguments[2];u?this.addEdges(o,null):this.addEdges(o),this.computeIntersections(a)}},addEdge:function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var s=new On(n,r),o=new _n(e,n.getMinX(r),s);this.events.add(o),this.events.add(new _n(n.getMaxX(r),o))}},processOverlaps:function(t,e,n,i){for(var r=n.getObject(),s=t;s<e;s++){var o=this.events.get(s);if(o.isInsert()){var a=o.getObject();n.isSameLabel(o)||(r.computeIntersections(a,i),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.addEdge(n,n)}else if(2===arguments.length)for(var i=arguments[0],r=arguments[1],e=i.iterator();e.hasNext();){var n=e.next();this.addEdge(n,r)}},interfaces_:function(){return[]},getClass:function(){return An}}),e(Fn.prototype,{getMin:function(){return this.min},intersects:function(t,e){return!(this.min>e||this.max<t)},getMax:function(){return this.max},toString:function(){return re.toLineString(new g(this.min,0),new g(this.max,0))},interfaces_:function(){return[]},getClass:function(){return Fn}}),e(Gn.prototype,{compare:function(t,e){var n=t,i=e,r=(n.min+n.max)/2,s=(i.min+i.max)/2;return r<s?-1:r>s?1:0},interfaces_:function(){return[a]},getClass:function(){return Gn}}),Fn.NodeComparator=Gn,h(qn,Fn),e(qn.prototype,{query:function(t,e,n){return this.intersects(t,e)?void n.visitItem(this.item):null},interfaces_:function(){return[]},getClass:function(){return qn}}),h(Bn,Fn),e(Bn.prototype,{buildExtent:function(t,e){this.min=Math.min(t.min,e.min),this.max=Math.max(t.max,e.max)},query:function(t,e,n){return this.intersects(t,e)?(null!==this.node1&&this.node1.query(t,e,n),void(null!==this.node2&&this.node2.query(t,e,n))):null},interfaces_:function(){return[]},getClass:function(){return Bn}}),e(zn.prototype,{buildTree:function(){uo.sort(this.leaves,new IntervalRTreeNode.NodeComparator);for(var t=this.leaves,e=null,n=new I;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},insert:function(t,e,n){if(null!==this.root)throw new IllegalStateException("Index cannot be added to once it has been queried");this.leaves.add(new qn(t,e,n))},query:function(t,e,n){this.init(),this.root.query(t,e,n)},buildRoot:function(){return null!==this.root?null:void(this.root=this.buildTree())},printNode:function(t){A.out.println(re.toLineString(new g(t.min,this.level),new g(t.max,this.level)))},init:function(){return null!==this.root?null:void this.buildRoot()},buildLevel:function(t,e){this.level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var r=new Bn(t.get(n),t.get(n+1));e.add(r)}}},interfaces_:function(){return[]},getClass:function(){return zn}}),e(Vn.prototype,{filter:function(t){if(this.isForcedToLineString&&t instanceof bt){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this.lines.add(e),null}t instanceof St&&this.lines.add(t)},setForceToLineString:function(t){this.isForcedToLineString=t},interfaces_:function(){return[q]},getClass:function(){return Vn}}),Vn.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Vn.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Vn.getLines(e,n))}},Vn.getLines=function(){if(1===arguments.length){var t=arguments[0];return Vn.getLines(t,!1)}if(2===arguments.length){if(R(arguments[0],m)&&R(arguments[1],m)){for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();){var r=i.next();Vn.getLines(r,n)}return n}if(arguments[0]instanceof B&&"boolean"==typeof arguments[1]){var s=arguments[0],o=arguments[1],a=new I;return s.apply(new Vn(a,o)),a}if(arguments[0]instanceof B&&R(arguments[1],m)){var u=arguments[0],l=arguments[1];return u instanceof St?l.add(u):u.apply(new Vn(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&R(arguments[0],m)&&R(arguments[1],m)){for(var h=arguments[0],c=arguments[1],f=arguments[2],i=h.iterator();i.hasNext();){var r=i.next();Vn.getLines(r,c,f)}return c}if("boolean"==typeof arguments[2]&&arguments[0]instanceof B&&R(arguments[1],m)){var g=arguments[0],d=arguments[1],p=arguments[2];return g.apply(new Vn(d,p)),d}}},e(kn.prototype,{visitItem:function(t){this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[De]},getClass:function(){return kn}}),e(Yn.prototype,{locate:function(t){var e=new ue(t),n=new Un(e);return this.index.query(t.y,t.y,n),e.getLocation()},interfaces_:function(){return[Ln]},getClass:function(){return Yn}}),e(Un.prototype,{visitItem:function(t){var e=t;this.counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},interfaces_:function(){return[De]},getClass:function(){return Un}}),e(Xn.prototype,{init:function(t){for(var e=Vn.getLines(t),n=e.iterator();n.hasNext();){var i=n.next(),r=i.getCoordinates();this.addLine(r)}},addLine:function(t){for(var e=1;e<t.length;e++){var n=new he(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this.index.insert(i,r,n)}},query:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new kn;return this.index.query(t,e,n),n.getItems()}if(3===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2];this.index.query(i,r,s)}},interfaces_:function(){return[]},getClass:function(){return Xn}}),Yn.SegmentVisitor=Un,Yn.IntervalIndexedGeometry=Xn,e(Hn.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},compareTo:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},isEndPoint:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},interfaces_:function(){return[s]},getClass:function(){return Hn}}),e(Wn.prototype,{print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},addEndpoints:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var s=new Array(n).fill(null),o=0;s[o++]=new g(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)s[o++]=this.edge.pts[a];return r&&(s[o]=e.coord),new Qn(s,new fn(this.edge.label))},add:function(t,e,n){var i=new Hn(t,e,n),r=this.nodeMap.get(i);return null!==r?r:(this.nodeMap.put(i,i),i)},isIntersection:function(t){for(var e=this.iterator();e.hasNext();){if(e.next().coord.equals(t))return!0}return!1},interfaces_:function(){return[]},getClass:function(){return Wn}}),e(jn.prototype,{getChainStartIndices:function(t){var e=0,n=new I;n.add(new b(e));do{var i=this.findChainEnd(t,e);n.add(new b(i)),e=i}while(e<t.length-1);return jn.toIntArray(n)},findChainEnd:function(t,e){for(var n=Qe.quadrant(t[e],t[e+1]),i=e+1;i<t.length;){if(Qe.quadrant(t[i-1],t[i])!==n)break;i++}return i-1},interfaces_:function(){return[]},getClass:function(){return jn}}),jn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},e(Kn.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},getMinX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},computeIntersectsForChain:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5],h=this.pts[r],c=this.pts[s],f=o.pts[a],g=o.pts[u];if(s-r==1&&u-a==1)return l.addIntersections(this.e,r,o.e,a),null;if(this.env1.init(h,c),this.env2.init(f,g),!this.env1.intersects(this.env2))return null;var d=Math.trunc((r+s)/2),p=Math.trunc((a+u)/2);r<d&&(a<p&&this.computeIntersectsForChain(r,d,o,a,p,l),p<u&&this.computeIntersectsForChain(r,d,o,p,u,l)),d<s&&(a<p&&this.computeIntersectsForChain(d,s,o,a,p,l),p<u&&this.computeIntersectsForChain(d,s,o,p,u,l))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},interfaces_:function(){return[]},getClass:function(){return Kn}}),e(Zn.prototype,{getDepth:function(t,e){return this.depth[t][e]},setDepth:function(t,e,n){this.depth[t][e]=n},isNull:function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this.depth[t][e]!==Zn.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this.depth[n][1]===Zn.NULL_VALUE}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this.depth[i][r]===Zn.NULL_VALUE}},normalize:function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this.depth[t][1];this.depth[t][2]<e&&(e=this.depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this.depth[t][n]>e&&(i=1),this.depth[t][n]=i}}},getDelta:function(t){return this.depth[t][hn.RIGHT]-this.depth[t][hn.LEFT]},getLocation:function(t,e){return this.depth[t][e]<=0?L.EXTERIOR:L.INTERIOR},toString:function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]},add:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var i=t.getLocation(e,n);i!==L.EXTERIOR&&i!==L.INTERIOR||(this.isNull(e,n)?this.depth[e][n]=Zn.depthAtLocation(i):this.depth[e][n]+=Zn.depthAtLocation(i))}else if(3===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2];o===L.INTERIOR&&this.depth[r][s]++}},interfaces_:function(){return[]},getClass:function(){return Zn}}),Zn.depthAtLocation=function(t){return t===L.EXTERIOR?0:t===L.INTERIOR?1:Zn.NULL_VALUE},Zn.NULL_VALUE=-1,h(Qn,mn),e(Qn.prototype,{getDepth:function(){return this.depth},getCollapsedEdge:function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new Qn(t,fn.toLineLabel(this.label))},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(t){this._isIsolated=t},setName:function(t){this.name=t},equals:function(t){if(!(t instanceof Qn))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,i=!0,r=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(e.pts[s])||(n=!1),this.pts[s].equals2D(e.pts[--r])||(i=!1),!n&&!i)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},print:function(t){t.print("edge "+this.name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this.label+" "+this.depthDelta)},computeIM:function(t){Qn.updateIM(this.label,t)},isCollapsed:function(){return!!this.label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this.depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(t){t.print("edge "+this.name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},getMonotoneChainEdge:function(){return null===this.mce&&(this.mce=new Kn(this)),this.mce},getEnvelope:function(){if(null===this.env){this.env=new C;for(var t=0;t<this.pts.length;t++)this.env.expandToInclude(this.pts[t])}return this.env},addIntersection:function(t,e,n,i){var r=new g(t.getIntersection(i)),s=e,o=t.getEdgeDistance(n,i),a=s+1;if(a<this.pts.length){var u=this.pts[a];r.equals2D(u)&&(s=a,o=0)}this.eiList.add(r,s,o)},toString:function(){var t=new P;t.append("edge "+this.name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this.label+" "+this.depthDelta),t.toString()},isPointwiseEqual:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},setDepthDelta:function(t){this.depthDelta=t},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[]},getClass:function(){return Qn}}),Qn.updateIM=function(){if(2!==arguments.length)return mn.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,hn.ON),t.getLocation(1,hn.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,hn.LEFT),t.getLocation(1,hn.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,hn.RIGHT),t.getLocation(1,hn.RIGHT),2))},h(Jn,Nn),e(Jn.prototype,{insertBoundaryPoint:function(t,e){var n=this.nodes.addNode(e),i=n.getLabel(),r=1;L.NONE;i.getLocation(t,hn.ON)===L.BOUNDARY&&r++;var s=Jn.determineBoundary(this.boundaryNodeRule,r);i.setLocation(t,s)},computeSelfNodes:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],s=new Dn(n,!0,!1);s.setIsDoneIfProperInt(r);var o=this.createEdgeSetIntersector(),a=this.parentGeom instanceof bt||this.parentGeom instanceof Tt||this.parentGeom instanceof Ot,u=i||!a;return o.computeIntersections(this.edges,s,u),this.addSelfIntersectionNodes(this.argIndex),s}},computeSplitEdges:function(t){for(var e=this.edges.iterator();e.hasNext();){e.next().eiList.addSplitEdges(t)}},computeEdgeIntersections:function(t,e,n){var i=new Dn(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this.edges,t.edges,i),i},getGeometry:function(){return this.parentGeom},getBoundaryNodeRule:function(){return this.boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof Lt){var t=arguments[0],e=t.getCoordinate();this.insertPoint(this.argIndex,e,L.INTERIOR)}else if(arguments[0]instanceof g){var n=arguments[0];this.insertPoint(this.argIndex,n,L.INTERIOR)}},addPolygon:function(t){this.addPolygonRing(t.getExteriorRing(),L.EXTERIOR,L.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,L.INTERIOR,L.EXTERIOR)}},addEdge:function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this.argIndex,e[0],L.BOUNDARY),this.insertPoint(this.argIndex,e[e.length-1],L.BOUNDARY)},addLineString:function(t){var e=H.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this.invalidPoint=e[0],null;var n=new Qn(e,new fn(this.argIndex,L.INTERIOR));this.lineEdgeMap.put(t,n),this.insertEdge(n),f.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this.argIndex,e[0]),this.insertBoundaryPoint(this.argIndex,e[e.length-1])},getInvalidPoint:function(){return this.invalidPoint},getBoundaryPoints:function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},getBoundaryNodes:function(){return null===this.boundaryNodes&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes},addSelfIntersectionNode:function(t,e,n){return this.isBoundaryNode(t,e)?null:void(n===L.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n))},addPolygonRing:function(t,e,n){if(t.isEmpty())return null;var i=H.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this.invalidPoint=i[0],null;var r=e,s=n;le.isCCW(i)&&(r=n,s=e);var o=new Qn(i,new fn(this.argIndex,L.BOUNDARY,r,s));this.lineEdgeMap.put(t,o),this.insertEdge(o),this.insertPoint(this.argIndex,i[0],L.BOUNDARY)},insertPoint:function(t,e,n){var i=this.nodes.addNode(e),r=i.getLabel();null===r?i.label=new fn(t,n):r.setLocation(t,n)},createEdgeSetIntersector:function(){return new An},addSelfIntersectionNodes:function(t){for(var e=this.edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var s=r.next();this.addSelfIntersectionNode(t,s.coord,i)}},add:function(){if(1!==arguments.length)return Nn.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof Ot&&(this.useBoundaryDeterminationRule=!1),t instanceof Tt)this.addPolygon(t);else if(t instanceof St)this.addLineString(t);else if(t instanceof Lt)this.addPoint(t);else if(t instanceof Pt)this.addCollection(t);else if(t instanceof gt)this.addCollection(t);else if(t instanceof Ot)this.addCollection(t);else{if(!(t instanceof ft))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},locate:function(t){return R(this.parentGeom,Rt)&&this.parentGeom.getNumGeometries()>50?(null===this.areaPtLocator&&(this.areaPtLocator=new Yn(this.parentGeom)),this.areaPtLocator.locate(t)):this.ptLocator.locate(t,this.parentGeom)},findEdge:function(){if(1===arguments.length){var t=arguments[0];return this.lineEdgeMap.get(t)}return Nn.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return Jn}}),Jn.determineBoundary=function(t,e){return t.isInBoundary(e)?L.BOUNDARY:L.INTERIOR},e($n.prototype,{getArgGeometry:function(t){return this.arg[t].getGeometry()},setComputationPrecision:function(t){this.resultPrecisionModel=t,this.li.setPrecisionModel(this.resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return $n}}),e(ti.prototype,{compareTo:function(t){var e=t;return ti.compareOriented(this.pts,this._orientation,e.pts,e._orientation)},interfaces_:function(){return[s]},getClass:function(){return ti}}),ti.orientation=function(t){return 1===H.increasingDirection(t)},ti.compareOriented=function(t,e,n,i){for(var r=e?1:-1,s=i?1:-1,o=e?t.length:-1,a=i?n.length:-1,u=e?0:t.length-1,l=i?0:n.length-1;;){var h=t[u].compareTo(n[l]);if(0!==h)return h;u+=r,l+=s;var c=u===o,f=l===a;if(c&&!f)return-1;if(!c&&f)return 1;if(c&&f)return 0}},e(ei.prototype,{print:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this.edges.size();e++){var n=this.edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},addAll:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},findEdgeIndex:function(t){for(var e=0;e<this.edges.size();e++)if(this.edges.get(e).equals(t))return e;return-1},iterator:function(){return this.edges.iterator()},getEdges:function(){return this.edges},get:function(t){return this.edges.get(t)},findEqualEdge:function(t){var e=new ti(t.getCoordinates());return this.ocaMap.get(e)},add:function(t){this.edges.add(t);var e=new ti(t.getCoordinates());this.ocaMap.put(e,t)},interfaces_:function(){return[]},getClass:function(){return ei}}),h(ni,$n),e(ni.prototype,{insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new fn(t.getLabel()),i.flip());var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this.edgeList.add(t)},getGraph:function(){return this.graph},cancelDuplicateResultEdges:function(){for(var t=this.graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},isCoveredByLA:function(t){return!!this.isCovered(t,this.resultLineList)||!!this.isCovered(t,this.resultPolyList)},computeGeometry:function(t,e,n,i){var r=new I;return r.addAll(t),r.addAll(e),r.addAll(n),r.isEmpty()?ni.createEmptyResult(i,this.arg[0].getGeometry(),this.arg[1].getGeometry(),this.geomFact):this.geomFact.buildGeometry(r)},mergeSymLabels:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){t.next().getEdges().mergeSymLabels()}},isCovered:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this.ptLocator.locate(t,i)!==L.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var t=new I,e=this.edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this.edgeList.addAll(t)},updateNodeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},getResultGeometry:function(t){return this.computeOverlay(t),this.resultGeom},insertUniqueEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},computeOverlay:function(t){this.copyPoints(0),this.copyPoints(1),this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);var e=new I;this.arg[0].computeSplitEdges(e),this.arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),un.checkValid(this.edgeList.getEdges()),this.graph.addEdges(this.edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Cn(this.geomFact);n.add(this.graph),this.resultPolyList=n.getPolygons();var i=new Sn(this,this.geomFact,this.ptLocator);this.resultLineList=i.build(t);var r=new wn(this,this.geomFact,this.ptLocator);this.resultPointList=r.build(t),this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,t)},labelIncompleteNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setLocation(e,n)},copyPoints:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next()
;this.graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},findResultAreaEdges:function(t){for(var e=this.graph.getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getLabel();i.isArea()&&!n.isInteriorAreaEdge()&&ni.isResultOfOp(i.getLocation(0,hn.RIGHT),i.getLocation(1,hn.RIGHT),t)&&n.setInResult(!0)}},computeLabelsFromDepths:function(){for(var t=this.edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;r<2;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(f.isTrue(!i.isNull(r,hn.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,hn.LEFT,i.getLocation(r,hn.LEFT)),f.isTrue(!i.isNull(r,hn.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,hn.RIGHT,i.getLocation(r,hn.RIGHT))))}}},computeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){t.next().getEdges().computeLabelling(this.arg)}this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var t=0,e=this.graph.getNodes().iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(t++,i.isNull(0)?this.labelIncompleteNode(n,0):this.labelIncompleteNode(n,1)),n.getEdges().updateLabelling(i)}},isCoveredByA:function(t){return!!this.isCovered(t,this.resultPolyList)},interfaces_:function(){return[]},getClass:function(){return ni}}),ni.overlayOp=function(t,e,n){return new ni(t,e).getResultGeometry(n)},ni.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return ni.createEmptyResult(ni.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return ln.map(t,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ri.overlayOp(t,e,ni.INTERSECTION)},ni.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ni.createEmptyResult(ni.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ri.overlayOp(t,e,ni.SYMDIFFERENCE)},ni.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),s=-1;switch(t){case ni.INTERSECTION:s=Math.min(i,r);break;case ni.UNION:s=Math.max(i,r);break;case ni.DIFFERENCE:s=i;break;case ni.SYMDIFFERENCE:s=Math.max(i,r)}return s},ni.createEmptyResult=function(t,e,n,i){var r=null;switch(ni.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},ni.difference=function(t,e){return t.isEmpty()?ni.createEmptyResult(ni.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ri.overlayOp(t,e,ni.DIFFERENCE))},ni.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return ni.isResultOfOp(n,i,e)}if(3===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2];switch(r===L.BOUNDARY&&(r=L.INTERIOR),s===L.BOUNDARY&&(s=L.INTERIOR),o){case ni.INTERSECTION:return r===L.INTERIOR&&s===L.INTERIOR;case ni.UNION:return r===L.INTERIOR||s===L.INTERIOR;case ni.DIFFERENCE:return r===L.INTERIOR&&s!==L.INTERIOR;case ni.SYMDIFFERENCE:return r===L.INTERIOR&&s!==L.INTERIOR||r!==L.INTERIOR&&s===L.INTERIOR}return!1}},ni.INTERSECTION=1,ni.UNION=2,ni.DIFFERENCE=3,ni.SYMDIFFERENCE=4,e(ii.prototype,{selfSnap:function(t){return new Ee(t).snapTo(t,this.snapTolerance)},removeCommonBits:function(t){this.cbr=new Ce,this.cbr.add(t[0]),this.cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this.cbr.removeCommonBits(t[0].copy()),e[1]=this.cbr.removeCommonBits(t[1].copy()),e},prepareResult:function(t){return this.cbr.addCommonBits(t),t},getResultGeometry:function(t){var e=this.snap(this.geom),n=ni.overlayOp(e[0],e[1],t);return this.prepareResult(n)},checkValid:function(t){t.isValid()||A.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this.snapTolerance=Ee.computeOverlaySnapTolerance(this.geom[0],this.geom[1])},snap:function(t){var e=this.removeCommonBits(t);return Ee.snap(e[0],e[1],this.snapTolerance)},interfaces_:function(){return[]},getClass:function(){return ii}}),ii.overlayOp=function(t,e,n){return new ii(t,e).getResultGeometry(n)},ii.union=function(t,e){return ii.overlayOp(t,e,ni.UNION)},ii.intersection=function(t,e){return ii.overlayOp(t,e,ni.INTERSECTION)},ii.symDifference=function(t,e){return ii.overlayOp(t,e,ni.SYMDIFFERENCE)},ii.difference=function(t,e){return ii.overlayOp(t,e,ni.DIFFERENCE)},e(ri.prototype,{getResultGeometry:function(t){var e=null,n=!1,i=null;try{e=ni.overlayOp(this.geom[0],this.geom[1],t);n=!0}catch(t){if(!(t instanceof l))throw t;i=t}if(!n)try{e=ii.overlayOp(this.geom[0],this.geom[1],t)}catch(t){throw t instanceof l?i:t}return e},interfaces_:function(){return[]},getClass:function(){return ri}}),ri.overlayOp=function(t,e,n){return new ri(t,e).getResultGeometry(n)},ri.union=function(t,e){return ri.overlayOp(t,e,ni.UNION)},ri.intersection=function(t,e){return ri.overlayOp(t,e,ni.INTERSECTION)},ri.symDifference=function(t,e){return ri.overlayOp(t,e,ni.SYMDIFFERENCE)},ri.difference=function(t,e){return ri.overlayOp(t,e,ni.DIFFERENCE)},e(si.prototype,{addPolygon:function(t){if(t.isEmpty())return null;var e=null,n=0,i=this.horizontalBisector(t);if(0===i.getLength())n=0,e=i.getCoordinate();else{var r=ri.overlayOp(i,t,ni.INTERSECTION),s=this.widestGeometry(r);n=s.getEnvelopeInternal().getWidth(),e=si.centre(s.getEnvelopeInternal())}(null===this.interiorPoint||n>this.maxWidth)&&(this.interiorPoint=e,this.maxWidth=n)},getInteriorPoint:function(){return this.interiorPoint},widestGeometry:function(){if(arguments[0]instanceof ft){var t=arguments[0];if(t.isEmpty())return t;for(var e=t.getGeometryN(0),n=1;n<t.getNumGeometries();n++)t.getGeometryN(n).getEnvelopeInternal().getWidth()>e.getEnvelopeInternal().getWidth()&&(e=t.getGeometryN(n));return e}if(arguments[0]instanceof B){var i=arguments[0];return i instanceof ft?this.widestGeometry(i):i}},horizontalBisector:function(t){var e=t.getEnvelopeInternal(),n=oi.getBisectorY(t);return this.factory.createLineString([new g(e.getMinX(),n),new g(e.getMaxX(),n)])},add:function(t){if(t instanceof Tt)this.addPolygon(t);else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))},interfaces_:function(){return[]},getClass:function(){return si}}),si.centre=function(t){return new g(si.avg(t.getMinX(),t.getMaxX()),si.avg(t.getMinY(),t.getMaxY()))},si.avg=function(t,e){return(t+e)/2},e(oi.prototype,{updateInterval:function(t){t<=this.centreY?t>this.loY&&(this.loY=t):t>this.centreY&&t<this.hiY&&(this.hiY=t)},getBisectorY:function(){this.process(this.poly.getExteriorRing());for(var t=0;t<this.poly.getNumInteriorRing();t++)this.process(this.poly.getInteriorRingN(t));return si.avg(this.hiY,this.loY)},process:function(t){for(var e=t.getCoordinateSequence(),n=0;n<e.size();n++){var i=e.getY(n);this.updateInterval(i)}},interfaces_:function(){return[]},getClass:function(){return oi}}),oi.getBisectorY=function(t){return new oi(t).getBisectorY()},si.SafeBisectorFinder=oi,e(ai.prototype,{addEndpoints:function(){if(arguments[0]instanceof B){var t=arguments[0];if(t instanceof St)this.addEndpoints(t.getCoordinates());else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addEndpoints(e.getGeometryN(n))}else if(arguments[0]instanceof Array){var i=arguments[0];this.add(i[0]),this.add(i[i.length-1])}},getInteriorPoint:function(){return this.interiorPoint},addInterior:function(){if(arguments[0]instanceof B){var t=arguments[0];if(t instanceof St)this.addInterior(t.getCoordinates());else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addInterior(e.getGeometryN(n))}else if(arguments[0]instanceof Array)for(var i=arguments[0],n=1;n<i.length-1;n++)this.add(i[n])},add:function(t){var e=t.distance(this.centroid);e<this.minDistance&&(this.interiorPoint=new g(t),this.minDistance=e)},interfaces_:function(){return[]},getClass:function(){return ai}}),e(ui.prototype,{getInteriorPoint:function(){return this.interiorPoint},add:function(){if(arguments[0]instanceof B){var t=arguments[0];if(t instanceof Lt)this.add(t.getCoordinate());else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))}else if(arguments[0]instanceof g){var i=arguments[0],r=i.distance(this.centroid);r<this.minDistance&&(this.interiorPoint=new g(i),this.minDistance=r)}},interfaces_:function(){return[]},getClass:function(){return ui}}),e(li.prototype,{select:function(){if(1===arguments.length)arguments[0];else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return li}}),e(hi.prototype,{hasChildren:function(){for(var t=0;t<2;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;e<2;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},size:function(){for(var t=0,e=0;e<2;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){return null===t||this.isSearchMatch(t)?(e.addAll(this.items),null!==this.subnode[0]&&this.subnode[0].addAllItemsFromOverlapping(t,e),void(null!==this.subnode[1]&&this.subnode[1].addAllItemsFromOverlapping(t,e))):null},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;i<2;i++)if(null!==this.subnode[i]&&(n=this.subnode[i].remove(t,e))){this.subnode[i].isPrunable()&&(this.subnode[i]=null);break}return n||(n=this.items.remove(e))},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;e<2;e++)if(null!==this.subnode[e]){var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},nodeSize:function(){for(var t=0,e=0;e<2;e++)null!==this.subnode[e]&&(t+=this.subnode[e].nodeSize());return t+1},add:function(t){this.items.add(t)},interfaces_:function(){return[]},getClass:function(){return hi}}),hi.getSubnodeIndex=function(t,e){var n=-1;return t.min>=e&&(n=1),t.max<=e&&(n=0),n},e(ci.prototype,{expandToInclude:function(t){t.max>this.max&&(this.max=t.max),t.min<this.min&&(this.min=t.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var t=arguments[0];return this.overlaps(t.min,t.max)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!(this.min>n||this.max<e)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof ci){var t=arguments[0];return this.contains(t.min,t.max)}if("number"==typeof arguments[0]){var e=arguments[0];return e>=this.min&&e<=this.max}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return n>=this.min&&i<=this.max}},init:function(t,e){this.min=t,this.max=e,t>e&&(this.min=e,this.max=t)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return ci}}),fi.exponent=function(t){return gi(64,t)-1023},fi.powerOf2=function(t){return Math.pow(2,t)},e(di.prototype,{getInterval:function(){return this.interval},getLevel:function(){return this.level},computeKey:function(t){for(this.level=di.computeLevel(t),this.interval=new ci,this.computeInterval(this.level,t);!this.interval.contains(t);)this.level+=1,this.computeInterval(this.level,t)},computeInterval:function(t,e){var n=fi.powerOf2(t);this.pt=Math.floor(e.getMin()/n)*n,this.interval.init(this.pt,this.pt+n)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return di}}),di.computeLevel=function(t){var e=t.getWidth();return fi.exponent(e)+1},h(pi,hi),e(pi.prototype,{getInterval:function(){return this.interval},find:function(t){var e=hi.getSubnodeIndex(t,this.centre);if(-1===e)return this;if(null!==this.subnode[e]){return this.subnode[e].find(t)}return this},insert:function(t){f.isTrue(null===this.interval||this.interval.contains(t.interval));var e=hi.getSubnodeIndex(t.interval,this.centre);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insert(t),this.subnode[e]=n}},isSearchMatch:function(t){return t.overlaps(this.interval)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getNode:function(t){var e=hi.getSubnodeIndex(t,this.centre);if(-1!==e){return this.getSubnode(e).getNode(t)}return this},createSubnode:function(t){var e=0,n=0;switch(t){case 0:e=this.interval.getMin(),n=this.centre;break;case 1:e=this.centre,n=this.interval.getMax()}return new pi(new ci(e,n),this.level-1)},interfaces_:function(){return[]},getClass:function(){return pi}}),pi.createNode=function(t){var e=new di(t);return new pi(e.getInterval(),e.getLevel())},pi.createExpanded=function(t,e){var n=new ci(e);null!==t&&n.expandToInclude(t.interval);var i=pi.createNode(n);return null!==t&&i.insert(t),i},e(mi.prototype,{interfaces_:function(){return[]},getClass:function(){return mi}});mi.isZeroWidth=function(t,e){var n=e-t;if(0===n)return!0;var i=Math.max(Math.abs(t),Math.abs(e)),r=n/i;return fi.exponent(r)<=mi.MIN_BINARY_EXPONENT},mi.MIN_BINARY_EXPONENT=-50,h(vi,hi),e(vi.prototype,{insert:function(t,e){var n=hi.getSubnodeIndex(t,vi.origin);if(-1===n)return this.add(e),null;var i=this.subnode[n];if(null===i||!i.getInterval().contains(t)){var r=pi.createExpanded(i,t);this.subnode[n]=r}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){f.isTrue(t.getInterval().contains(e));var i=mi.isZeroWidth(e.getMin(),e.getMax()),r=null;r=i?t.find(e):t.getNode(e),r.add(n)},interfaces_:function(){return[]},getClass:function(){return vi}}),vi.origin=0,e(yi.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=yi.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];return this.query(new ci(t,t))}if(arguments[0]instanceof ci){var e=arguments[0],n=new I;return this.query(e,n),n}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.root.addAllItemsFromOverlapping(i,r)}},iterator:function(){var t=new I;return this.root.addAllItems(t),t.iterator()},remove:function(t,e){var n=yi.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e)},depth:function(){return null!==this.root?this.root.depth():0},nodeSize:function(){return null!==this.root?this.root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return yi}}),yi.ensureExtent=function(t,e){var n=t.getMin(),i=t.getMax();return n!==i?t:(n===i&&(n-=e/2,i=n+e/2),new ci(n,i))},e(xi.prototype,{isInside:function(t){},interfaces_:function(){return[]},getClass:function(){return xi}}),e(Ei.prototype,{testLineSegment:function(t,e){var n=null,i=null,r=null,s=null,o=e.p0,a=e.p1;n=o.x-t.x,i=o.y-t.y,r=a.x-t.x,s=a.y-t.y,(i>0&&s<=0||s>0&&i<=0)&&0<ae.signOfDet2x2(n,i,r,s)/(s-i)&&this.crossings++},buildIndex:function(){this.tree=new yi;for(var t=H.removeRepeatedPoints(this.ring.getCoordinates()),e=Je.getChains(t),n=0;n<e.size();n++){var i=e.get(n),r=i.getEnvelope();this.interval.min=r.getMinY(),this.interval.max=r.getMaxY(),this.tree.insert(this.interval,i)}},testMonotoneChain:function(t,e,n){n.select(t,e)},isInside:function(t){this.crossings=0;var e=new C(r.NEGATIVE_INFINITY,r.POSITIVE_INFINITY,t.y,t.y);this.interval.min=t.y,this.interval.max=t.y;for(var n=this.tree.query(this.interval),i=new Ii(this,t),s=n.iterator();s.hasNext();){var o=s.next();this.testMonotoneChain(e,i,o)}return this.crossings%2==1},interfaces_:function(){return[xi]},getClass:function(){return Ei}}),h(Ii,li),e(Ii.prototype,{select:function(){if(1!==arguments.length)return li.prototype.select.apply(this,arguments);var t=arguments[0];this.mcp.testLineSegment(this.p,t)},interfaces_:function(){return[]},getClass:function(){return Ii}}),Ei.MCSelecter=Ii,e(Ni.prototype,{interfaces_:function(){return[]},getClass:function(){return Ni}}),Ni.toDegrees=function(t){return 180*t/Math.PI},Ni.normalize=function(t){for(;t>Math.PI;)t-=Ni.PI_TIMES_2;for(;t<=-Math.PI;)t+=Ni.PI_TIMES_2;return t},Ni.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}},Ni.isAcute=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)>0},Ni.isObtuse=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)<0},Ni.interiorAngle=function(t,e,n){var i=Ni.angle(e,t),r=Ni.angle(e,n);return Math.abs(r-i)},Ni.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Ni.PI_TIMES_2;t>=Ni.PI_TIMES_2&&(t=0)}else{for(;t>=Ni.PI_TIMES_2;)t-=Ni.PI_TIMES_2;t<0&&(t=0)}return t},Ni.angleBetween=function(t,e,n){var i=Ni.angle(e,t),r=Ni.angle(e,n);return Ni.diff(i,r)},Ni.diff=function(t,e){var n=null;return n=t<e?e-t:t-e,n>Math.PI&&(n=2*Math.PI-n),n},Ni.toRadians=function(t){return t*Math.PI/180},Ni.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Ni.COUNTERCLOCKWISE:n<0?Ni.CLOCKWISE:Ni.NONE},Ni.angleBetweenOriented=function(t,e,n){var i=Ni.angle(e,t),r=Ni.angle(e,n),s=r-i;return s<=-Math.PI?s+Ni.PI_TIMES_2:s>Math.PI?s-Ni.PI_TIMES_2:s},Ni.PI_TIMES_2=2*Math.PI,Ni.PI_OVER_2=Math.PI/2,Ni.PI_OVER_4=Math.PI/4,Ni.COUNTERCLOCKWISE=le.COUNTERCLOCKWISE,Ni.CLOCKWISE=le.CLOCKWISE,Ni.NONE=le.COLLINEAR,e(Ci.prototype,{area:function(){return Ci.area(this.p0,this.p1,this.p2)},signedArea:function(){return Ci.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(t){if(null===t)throw new i("Supplied point is null.");return Ci.interpolateZ(t,this.p0,this.p1,this.p2)},longestSideLength:function(){return Ci.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return Ci.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return Ci.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return Ci.area3D(this.p0,this.p1,this.p2)},centroid:function(){return Ci.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return Ci.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return Ci}}),Ci.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Ci.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Ci.det=function(t,e,n,i){return t*i-e*n},Ci.interpolateZ=function(t,e,n,i){var r=e.x,s=e.y,o=n.x-r,a=i.x-r,u=n.y-s,l=i.y-s,h=o*l-a*u,c=t.x-r,f=t.y-s,g=(l*c-a*f)/h,d=(-u*c+o*f)/h;return e.z+g*(n.z-e.z)+d*(i.z-e.z)},Ci.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),s=n.distance(t),o=i;return r>o&&(o=r),s>o&&(o=s),o},Ci.isAcute=function(t,e,n){return!!Ni.isAcute(t,e,n)&&!!Ni.isAcute(e,n,t)&&!!Ni.isAcute(n,t,e)},Ci.circumcentre=function(t,e,n){var i=n.x,r=n.y,s=t.x-i,o=t.y-r,a=e.x-i,u=e.y-r,l=2*Ci.det(s,o,a,u);return new g(i-Ci.det(o,s*s+o*o,u,a*a+u*u)/l,r+Ci.det(s,s*s+o*o,a,a*a+u*u)/l)},Ci.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y;return new F(new F(t.x+n/2,t.y+i/2,1),new F(t.x-i+n/2,t.y+n+i/2,1))},Ci.angleBisector=function(t,e,n){var i=e.distance(t),r=e.distance(n),s=i/(i+r),o=n.x-t.x,a=n.y-t.y;return new g(t.x+s*o,t.y+s*a)},Ci.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,s=e.z-t.z,o=n.x-t.x,a=n.y-t.y,u=n.z-t.z,l=r*u-s*a,h=s*o-i*u,c=i*a-r*o,f=l*l+h*h+c*c;return Math.sqrt(f)/2},Ci.centroid=function(t,e,n){return new g((t.x+e.x+n.x)/3,(t.y+e.y+n.y)/3)},Ci.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),s=t.distance(e),o=i+r+s;return new g((i*t.x+r*e.x+s*n.x)/o,(i*t.y+r*e.y+s*n.y)/o)},e(Si.prototype,{getRadius:function(){return this.compute(),this.radius},getDiameter:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[1];return this.input.getFactory().createLineString([t,e])},getExtremalPoints:function(){return this.compute(),this.extremalPts},computeCirclePoints:function(){if(this.input.isEmpty())return this.extremalPts=new Array(0).fill(null),null;if(1===this.input.getNumPoints()){var t=this.input.getCoordinates();return this.extremalPts=[new g(t[0])],null}var e=this.input.convexHull(),n=e.getCoordinates(),t=n;if(n[0].equals2D(n[n.length-1])&&(t=new Array(n.length-1).fill(null),H.copyDeep(n,0,t,0,n.length-1)),t.length<=2)return this.extremalPts=H.copyDeep(t),null;for(var i=Si.lowestPoint(t),r=Si.pointWitMinAngleWithX(t,i),s=0;s<t.length;s++){var o=Si.pointWithMinAngleWithSegment(t,i,r);if(Ni.isObtuse(i,o,r))return this.extremalPts=[new g(i),new g(r)],null;if(Ni.isObtuse(o,i,r))i=o;else{if(!Ni.isObtuse(o,r,i))return this.extremalPts=[new g(i),new g(r),new g(o)],null;r=o}}f.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){return null!==this.extremalPts?null:(this.computeCirclePoints(),this.computeCentre(),void(null!==this.centre&&(this.radius=this.centre.distance(this.extremalPts[0]))))},getFarthestPoints:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[this.extremalPts.length-1];return this.input.getFactory().createLineString([t,e])},getCircle:function(){if(this.compute(),null===this.centre)return this.input.getFactory().createPolygon();var t=this.input.getFactory().createPoint(this.centre);return 0===this.radius?t:t.buffer(this.radius)},getCentre:function(){return this.compute(),this.centre},computeCentre:function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new g((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=Ci.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return Si}}),Si.pointWitMinAngleWithX=function(t,e){for(var n=r.MAX_VALUE,i=null,s=0;s<t.length;s++){var o=t[s];if(o!==e){var a=o.x-e.x,u=o.y-e.y;u<0&&(u=-u);var l=Math.sqrt(a*a+u*u),h=u/l;h<n&&(n=h,i=o)}}return i},Si.lowestPoint=function(t){for(var e=t[0],n=1;n<t.length;n++)t[n].y<e.y&&(e=t[n]);return e},Si.pointWithMinAngleWithSegment=function(t,e,n){for(var i=r.MAX_VALUE,s=null,o=0;o<t.length;o++){var a=t[o];if(a!==e&&a!==n){var u=Ni.angleBetween(e,a,n);u<i&&(i=u,s=a)}}return s},e(wi.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this.minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this.inputGeom.getFactory().createLineString([this.minBaseSeg.p0,this.minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this.minWidthPt)return this.inputGeom.getFactory().createLineString(null);var t=this.minBaseSeg.project(this.minWidthPt);return this.inputGeom.getFactory().createLineString([t,this.minWidthPt])},computeWidthConvex:function(t){this.convexHullPts=t instanceof Tt?t.getExteriorRing().getCoordinates():t.getCoordinates(),0===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=null,this.minBaseSeg=null):1===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[0]):2===this.convexHullPts.length||3===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[1]):this.computeConvexRingMinDiameter(this.convexHullPts)},computeConvexRingMinDiameter:function(t){this.minWidth=r.MAX_VALUE;for(var e=1,n=new he,i=0;i<t.length-1;i++)n.p0=t[i],n.p1=t[i+1],e=this.findMaxPerpDistance(t,n,e)},computeMinimumDiameter:function(){if(null!==this.minWidthPt)return null;if(this.isConvex)this.computeWidthConvex(this.inputGeom);else{var t=new me(this.inputGeom).getConvexHull();this.computeWidthConvex(t)}},getLength:function(){return this.computeMinimumDiameter(),this.minWidth},findMaxPerpDistance:function(t,e,n){for(var i=e.distancePerpendicular(t[n]),r=i,s=n,o=s;r>=i;)i=r,s=o,o=wi.nextIndex(t,s),r=e.distancePerpendicular(t[o]);return i<this.minWidth&&(this.minPtIndex=s,this.minWidth=i,this.minWidthPt=t[this.minPtIndex],this.minBaseSeg=new he(e)),s},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this.minWidth)return this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)?this.inputGeom.getFactory().createPoint(this.minBaseSeg.p0):this.minBaseSeg.toGeometry(this.inputGeom.getFactory());for(var t=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x,e=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y,n=r.MAX_VALUE,i=-r.MAX_VALUE,s=r.MAX_VALUE,o=-r.MAX_VALUE,a=0;a<this.convexHullPts.length;a++){var u=wi.computeC(t,e,this.convexHullPts[a]);u>i&&(i=u),u<n&&(n=u);var l=wi.computeC(-e,t,this.convexHullPts[a]);l>o&&(o=l),l<s&&(s=l)}var h=wi.computeSegmentForLine(-t,-e,o),c=wi.computeSegmentForLine(-t,-e,s),f=wi.computeSegmentForLine(-e,t,i),g=wi.computeSegmentForLine(-e,t,n),d=f.lineIntersection(h),p=g.lineIntersection(h),m=g.lineIntersection(c),v=f.lineIntersection(c),y=this.inputGeom.getFactory().createLinearRing([d,p,m,v,d]);return this.inputGeom.getFactory().createPolygon(y,null)},interfaces_:function(){return[]},getClass:function(){return wi}}),wi.nextIndex=function(t,e){return e++,e>=t.length&&(e=0),e},wi.computeC=function(t,e,n){return t*n.y-e*n.x},wi.getMinimumDiameter=function(t){return new wi(t).getDiameter()},wi.getMinimumRectangle=function(t){return new wi(t).getMinimumRectangle()},wi.computeSegmentForLine=function(t,e,n){var i=null,r=null;return Math.abs(e)>Math.abs(t)?(i=new g(0,n/e),r=new g(1,n/e-t/e)):(i=new g(n/t,0),r=new g(n/t-e/t,1)),new he(i,r)};var lo=Object.freeze({Centroid:fe,CGAlgorithms:le,ConvexHull:me,InteriorPointArea:si,InteriorPointLine:ai,InteriorPointPoint:ui,RobustLineIntersector:oe,MCPointInRing:Ei,MinimumBoundingCircle:Si,MinimumDiameter:wi});e(Li.prototype,{getResultGeometry:function(){return new Ri(this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(t<=0)throw new i("Tolerance must be positive");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return Li}}),Li.densifyPoints=function(t,e,n){for(var i=new he,r=new N,s=0;s<t.length-1;s++){i.p0=t[s],i.p1=t[s+1],r.add(i.p0,!1);var o=i.getLength(),a=Math.trunc(o/e)+1;if(a>1)for(var u=o/a,l=1;l<a;l++){var h=l*u/o,c=i.pointAlong(h);n.makePrecise(c),r.add(c,!1)}}return r.add(t[t.length-1],!1),r.toCoordinateArray()},Li.densify=function(t,e){var n=new Li(t);return n.setDistanceTolerance(e),n.getResultGeometry()},h(Ri,ye),e(Ri.prototype,{transformMultiPolygon:function(t,e){var n=ye.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformPolygon:function(t,e){var n=ye.prototype.transformPolygon.call(this,t,e);return e instanceof Ot?n:this.createValidArea(n)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=Li.densifyPoints(n,this.distanceTolerance,e.getPrecisionModel());return e instanceof St&&1===i.length&&(i=new Array(0).fill(null)),this.factory.getCoordinateSequenceFactory().create(i)},createValidArea:function(t){return t.buffer(0)},interfaces_:function(){return[]},getClass:function(){return Ri}}),Li.DensifyTransformer=Ri;var ho=Object.freeze({Densifier:Li});e(Ti.prototype,{find:function(t){var e=this;do{if(null===e)return null;if(e.dest().equals2D(t))return e;e=e.oNext()}while(e!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(t){if(this.oNext()===this)return this.insertAfter(t),null;var e=this.compareTo(t),n=this;do{var i=n.oNext();if(i.compareTo(t)!==e||i===this)return n.insertAfter(t),null;n=i}while(n!==this);f.shouldNeverReachHere()},insertAfter:function(t){f.equals(this._orig,t.orig());var e=this.oNext();this._sym.setNext(t),t.sym().setNext(e)},degree:function(){var t=0,e=this;do{t++,e=e.oNext()}while(e!==this);return t},equals:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this._orig.equals2D(t)&&this._sym._orig.equals(e)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(t){var e=this.deltaX(),n=this.deltaY(),i=t.deltaX(),r=t.deltaY();if(e===i&&n===r)return 0;var s=Qe.quadrant(e,n),o=Qe.quadrant(i,r);return s>o?1:s<o?-1:le.computeOrientation(t._orig,t.dest(),this.dest())},prevNode:function(){for(var t=this;2===t.degree();)if((t=t.prev())===this)return null;return t},compareTo:function(t){var e=t;return this.compareAngularDirection(e)},next:function(){return this._next},setSym:function(t){this._sym=t},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(t){this._next=t},init:function(t){this.setSym(t),t.setSym(this),this.setNext(t),t.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return Ti}}),Ti.init=function(t,e){if(null!==t._sym||null!==e._sym||null!==t._next||null!==e._next)throw new IllegalStateException("Edges are already initialized");return t.init(e),t},Ti.create=function(t,e){var n=new Ti(t),i=new Ti(e);return n.init(i),n},h(Pi,Ti),e(Pi.prototype,{mark:function(){this._isMarked=!0},setMark:function(t){this._isMarked=t},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return Pi}}),Pi.setMarkBoth=function(t,e){t.setMark(e),t.sym().setMark(e)},Pi.isMarked=function(t){return t.isMarked()},Pi.setMark=function(t,e){t.setMark(e)},Pi.markBoth=function(t){t.mark(),t.sym().mark()},Pi.mark=function(t){t.mark()},e(bi.prototype,{insert:function(t,e,n){var i=this.create(t,e);null!==n?n.insert(i):this.vertexMap.put(t,i);var r=this.vertexMap.get(e);return null!==r?r.insert(i.sym()):this.vertexMap.put(e,i.sym()),i},create:function(t,e){var n=this.createEdge(t),i=this.createEdge(e);return Ti.init(n,i),n},createEdge:function(t){return new Ti(t)},addEdge:function(t,e){if(!bi.isValidEdge(t,e))return null;var n=this.vertexMap.get(t),i=null;return null!==n&&(i=n.find(e)),null!==i?i:this.insert(t,e,n)},getVertexEdges:function(){return this.vertexMap.values()},findEdge:function(t,e){var n=this.vertexMap.get(t);return null===n?null:n.find(e)},interfaces_:function(){return[]},getClass:function(){return bi}}),bi.isValidEdge=function(t,e){return 0!==e.compareTo(t)},h(Oi,Pi),e(Oi.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return Oi}}),h(_i,bi),e(_i.prototype,{createEdge:function(t){return new Oi(t)},interfaces_:function(){return[]},getClass:function(){return _i}}),e(Mi.prototype,{addLine:function(t){this.lines.add(this.factory.createLineString(t.toCoordinateArray()))},updateRingStartEdge:function(t){return t.isStart()||(t=t.sym(),t.isStart())?null===this.ringStartEdge?(this.ringStartEdge=t,null):void(t.orig().compareTo(this.ringStartEdge.orig())<0&&(this.ringStartEdge=t)):null},getResult:function(){return null===this.result&&this.computeResult(),this.result},process:function(t){var e=t.prevNode();null===e&&(e=t),this.stackEdges(e),this.buildLines()},buildRing:function(t){var e=new N,n=t;for(e.add(n.orig().copy(),!1);2===n.sym().degree();){var i=n.next();if(i===t)break;e.add(i.orig().copy(),!1),n=i}
e.add(n.dest().copy(),!1),this.addLine(e)},buildLine:function(t){var e=new N,n=t;for(this.ringStartEdge=null,Pi.markBoth(n),e.add(n.orig().copy(),!1);2===n.sym().degree();){this.updateRingStartEdge(n);var i=n.next();if(i===t)return this.buildRing(this.ringStartEdge),null;e.add(i.orig().copy(),!1),n=i,Pi.markBoth(n)}e.add(n.dest().copy(),!1),this.stackEdges(n.sym()),this.addLine(e)},stackEdges:function(t){var e=t;do{Pi.isMarked(e)||this.nodeEdgeStack.add(e),e=e.oNext()}while(e!==t)},computeResult:function(){for(var t=this.graph.getVertexEdges(),e=t.iterator();e.hasNext();){var n=e.next();Pi.isMarked(n)||this.process(n)}this.result=this.factory.buildGeometry(this.lines)},buildLines:function(){for(;!this.nodeEdgeStack.empty();){var t=this.nodeEdgeStack.pop();Pi.isMarked(t)||this.buildLine(t)}},add:function(){if(arguments[0]instanceof B){arguments[0].apply({interfaces_:function(){return[q]},filter:function(t){t instanceof St&&this.add(t)}})}else if(R(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}else if(arguments[0]instanceof St){var i=arguments[0];null===this.factory&&(this.factory=i.getFactory());for(var r=i.getCoordinateSequence(),s=!1,e=1;e<r.size();e++){var o=this.graph.addEdge(r.getCoordinate(e-1),r.getCoordinate(e));null!==o&&(s||(o.setStart(),s=!0))}}},interfaces_:function(){return[]},getClass:function(){return Mi}}),Mi.dissolve=function(t){var e=new Mi;return e.add(t),e.getResult()};var co=Object.freeze({LineDissolver:Mi}),fo=Object.freeze({GeometryGraph:Jn});e(Di.prototype,{hasChildren:function(){for(var t=0;t<4;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;e<4;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},getNodeCount:function(){for(var t=0,e=0;e<4;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+1},size:function(){for(var t=0,e=0;e<4;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){if(!this.isSearchMatch(t))return null;e.addAll(this.items);for(var n=0;n<4;n++)null!==this.subnode[n]&&this.subnode[n].addAllItemsFromOverlapping(t,e)},visitItems:function(t,e){for(var n=this.items.iterator();n.hasNext();)e.visitItem(n.next())},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;i<4;i++)if(null!==this.subnode[i]&&(n=this.subnode[i].remove(t,e))){this.subnode[i].isPrunable()&&(this.subnode[i]=null);break}return n||(n=this.items.remove(e))},visit:function(t,e){if(!this.isSearchMatch(t))return null;this.visitItems(t,e);for(var n=0;n<4;n++)null!==this.subnode[n]&&this.subnode[n].visit(t,e)},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;e<4;e++)if(null!==this.subnode[e]){var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},isEmpty:function(){var t=!0;this.items.isEmpty()||(t=!1);for(var e=0;e<4;e++)null!==this.subnode[e]&&(this.subnode[e].isEmpty()||(t=!1));return t},add:function(t){this.items.add(t)},interfaces_:function(){return[u]},getClass:function(){return Di}}),Di.getSubnodeIndex=function(t,e,n){var i=-1;return t.getMinX()>=e&&(t.getMinY()>=n&&(i=3),t.getMaxY()<=n&&(i=1)),t.getMaxX()<=e&&(t.getMinY()>=n&&(i=2),t.getMaxY()<=n&&(i=0)),i},e(Ai.prototype,{getLevel:function(){return this.level},computeKey:function(){if(1===arguments.length){var t=arguments[0];for(this.level=Ai.computeQuadLevel(t),this.env=new C,this.computeKey(this.level,t);!this.env.contains(t);)this.level+=1,this.computeKey(this.level,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=fi.powerOf2(e);this.pt.x=Math.floor(n.getMinX()/i)*i,this.pt.y=Math.floor(n.getMinY()/i)*i,this.env.init(this.pt.x,this.pt.x+i,this.pt.y,this.pt.y+i)}},getEnvelope:function(){return this.env},getCentre:function(){return new g((this.env.getMinX()+this.env.getMaxX())/2,(this.env.getMinY()+this.env.getMaxY())/2)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Ai}}),Ai.computeQuadLevel=function(t){var e=t.getWidth(),n=t.getHeight(),i=e>n?e:n;return fi.exponent(i)+1},h(Fi,Di),e(Fi.prototype,{find:function(t){var e=Di.getSubnodeIndex(t,this.centrex,this.centrey);if(-1===e)return this;if(null!==this.subnode[e]){return this.subnode[e].find(t)}return this},isSearchMatch:function(t){return this.env.intersects(t)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getEnvelope:function(){return this.env},getNode:function(t){var e=Di.getSubnodeIndex(t,this.centrex,this.centrey);if(-1!==e){return this.getSubnode(e).getNode(t)}return this},createSubnode:function(t){var e=0,n=0,i=0,r=0;switch(t){case 0:e=this.env.getMinX(),n=this.centrex,i=this.env.getMinY(),r=this.centrey;break;case 1:e=this.centrex,n=this.env.getMaxX(),i=this.env.getMinY(),r=this.centrey;break;case 2:e=this.env.getMinX(),n=this.centrex,i=this.centrey,r=this.env.getMaxY();break;case 3:e=this.centrex,n=this.env.getMaxX(),i=this.centrey,r=this.env.getMaxY()}return new Fi(new C(e,n,i,r),this.level-1)},insertNode:function(t){f.isTrue(null===this.env||this.env.contains(t.env));var e=Di.getSubnodeIndex(t.env,this.centrex,this.centrey);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insertNode(t),this.subnode[e]=n}},interfaces_:function(){return[]},getClass:function(){return Fi}}),Fi.createNode=function(t){var e=new Ai(t);return new Fi(e.getEnvelope(),e.getLevel())},Fi.createExpanded=function(t,e){var n=new C(e);null!==t&&n.expandToInclude(t.env);var i=Fi.createNode(n);return null!==t&&i.insertNode(t),i},h(Gi,Di),e(Gi.prototype,{insert:function(t,e){var n=Di.getSubnodeIndex(t,Gi.origin.x,Gi.origin.y);if(-1===n)return this.add(e),null;var i=this.subnode[n];if(null===i||!i.getEnvelope().contains(t)){var r=Fi.createExpanded(i,t);this.subnode[n]=r}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){f.isTrue(t.getEnvelope().contains(e));var i=mi.isZeroWidth(e.getMinX(),e.getMaxX()),r=mi.isZeroWidth(e.getMinY(),e.getMaxY()),s=null;s=i||r?t.find(e):t.getNode(e),s.add(n)},interfaces_:function(){return[]},getClass:function(){return Gi}}),Gi.origin=new g(0,0),e(qi.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=qi.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){var t=arguments[0],e=new kn;return this.query(t,e),e.getItems()}if(2===arguments.length){var n=arguments[0],i=arguments[1];this.root.visit(n,i)}},queryAll:function(){var t=new I;return this.root.addAllItems(t),t},remove:function(t,e){var n=qi.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e);var n=t.getHeight();n<this.minExtent&&n>0&&(this.minExtent=n)},depth:function(){return null!==this.root?this.root.depth():0},isEmpty:function(){return null===this.root},interfaces_:function(){return[Ae,u]},getClass:function(){return qi}}),qi.ensureExtent=function(t,e){var n=t.getMinX(),i=t.getMaxX(),r=t.getMinY(),s=t.getMaxY();return n!==i&&r!==s?t:(n===i&&(n-=e/2,i=n+e/2),r===s&&(r-=e/2,s=r+e/2),new C(n,i,r,s))},qi.serialVersionUID=-0x678b60c967a25400;var go=Object.freeze({Quadtree:qi}),po=Object.freeze({STRtree:Ve}),mo=Object.freeze({quadtree:go,strtree:po}),vo=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];e(Bi.prototype,{read:function(t){var e=void 0;e="string"==typeof t?JSON.parse(t):t;var n=e.type;if(!yo[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==vo.indexOf(n)?yo[n].apply(this,[e.coordinates]):"GeometryCollection"===n?yo[n].apply(this,[e.geometries]):yo[n].apply(this,[e])},write:function(t){var e=t.getGeometryType();if(!xo[e])throw new Error("Geometry is not supported");return xo[e].apply(this,[t])}});var yo={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!yo[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=yo.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new g(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new g(t[0],t[1]),new g(t[2],t[1]),new g(t[2],t[3]),new g(t[0],t[3]),new g(t[0],t[1])])},Point:function(t){var e=new g(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(yo.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=yo.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(yo.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=yo.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var s=t[r],o=yo.coordinates.apply(this,[s]),a=this.geometryFactory.createLinearRing(o);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(yo.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},xo={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:xo.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=xo.Point.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(xo.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=xo.LineString.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=xo.LineString.apply(this,[t.shell]);e.push(n.coordinates);for(var i=0;i<t.holes.length;++i){var r=t.holes[i],s=xo.LineString.apply(this,[r]);e.push(s.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=xo.Polygon.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=i.getGeometryType();e.push(xo[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}};e(zi.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===te.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])}}),e(Vi.prototype,{write:function(t){return this.parser.write(t)}}),e(ki.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===te.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(var e=0,n=t.points.coordinates.length;e<n;e++)this.precisionModel.makePrecise(t.points.coordinates[e]);else if(t.geometries)for(var i=0,r=t.geometries.length;i<r;i++)this.reducePrecision(t.geometries[i])}}),e(Ui.prototype,{read:function(t){var e=this.ol;return t instanceof e.geom.Point?this.convertFromPoint(t):t instanceof e.geom.LineString?this.convertFromLineString(t):t instanceof e.geom.LinearRing?this.convertFromLinearRing(t):t instanceof e.geom.Polygon?this.convertFromPolygon(t):t instanceof e.geom.MultiPoint?this.convertFromMultiPoint(t):t instanceof e.geom.MultiLineString?this.convertFromMultiLineString(t):t instanceof e.geom.MultiPolygon?this.convertFromMultiPolygon(t):t instanceof e.geom.GeometryCollection?this.convertFromCollection(t):void 0},convertFromPoint:function(t){var e=t.getCoordinates();return this.geometryFactory.createPoint(new g(e[0],e[1]))},convertFromLineString:function(t){return this.geometryFactory.createLineString(t.getCoordinates().map(function(t){return new g(t[0],t[1])}))},convertFromLinearRing:function(t){return this.geometryFactory.createLinearRing(t.getCoordinates().map(function(t){return new g(t[0],t[1])}))},convertFromPolygon:function(t){for(var e=t.getLinearRings(),n=null,i=[],r=0;r<e.length;r++){var s=this.convertFromLinearRing(e[r]);0===r?n=s:i.push(s)}return this.geometryFactory.createPolygon(n,i)},convertFromMultiPoint:function(t){var e=t.getPoints().map(function(t){return this.convertFromPoint(t)},this);return this.geometryFactory.createMultiPoint(e)},convertFromMultiLineString:function(t){var e=t.getLineStrings().map(function(t){return this.convertFromLineString(t)},this);return this.geometryFactory.createMultiLineString(e)},convertFromMultiPolygon:function(t){var e=t.getPolygons().map(function(t){return this.convertFromPolygon(t)},this);return this.geometryFactory.createMultiPolygon(e)},convertFromCollection:function(t){var e=t.getGeometries().map(function(t){return this.read(t)},this);return this.geometryFactory.createGeometryCollection(e)},write:function(t){return"Point"===t.getGeometryType()?this.convertToPoint(t.getCoordinate()):"LineString"===t.getGeometryType()?this.convertToLineString(t):"LinearRing"===t.getGeometryType()?this.convertToLinearRing(t):"Polygon"===t.getGeometryType()?this.convertToPolygon(t):"MultiPoint"===t.getGeometryType()?this.convertToMultiPoint(t):"MultiLineString"===t.getGeometryType()?this.convertToMultiLineString(t):"MultiPolygon"===t.getGeometryType()?this.convertToMultiPolygon(t):"GeometryCollection"===t.getGeometryType()?this.convertToCollection(t):void 0},convertToPoint:function(t){return new this.ol.geom.Point([t.x,t.y])},convertToLineString:function(t){var e=t.points.coordinates.map(Yi);return new this.ol.geom.LineString(e)},convertToLinearRing:function(t){var e=t.points.coordinates.map(Yi);return new this.ol.geom.LinearRing(e)},convertToPolygon:function(t){for(var e=[t.shell.points.coordinates.map(Yi)],n=0;n<t.holes.length;n++)e.push(t.holes[n].points.coordinates.map(Yi));return new this.ol.geom.Polygon(e)},convertToMultiPoint:function(t){return new this.ol.geom.MultiPoint(t.getCoordinates().map(Yi))},convertToMultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToLineString(t.geometries[n]).getCoordinates());return new this.ol.geom.MultiLineString(e)},convertToMultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToPolygon(t.geometries[n]).getCoordinates());return new this.ol.geom.MultiPolygon(e)},convertToCollection:function(t){for(var e=[],n=0;n<t.geometries.length;n++){var i=t.geometries[n];e.push(this.write(i))}return new this.ol.geom.GeometryCollection(e)}});var Eo=Object.freeze({GeoJSONReader:zi,GeoJSONWriter:Vi,OL3Parser:Ui,WKTReader:ki,WKTWriter:re});e(Xi.prototype,{rescale:function(){if(R(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){var i=arguments[0];2===i.length&&(new g(i[0]),new g(i[1]));for(var e=0;e<i.length;e++)i[e].x=i[e].x/this.scaleFactor+this.offsetX,i[e].y=i[e].y/this.scaleFactor+this.offsetY;2===i.length&&i[0].equals2D(i[1])&&A.out.println(i)}},scale:function(){if(R(arguments[0],m)){for(var t=arguments[0],e=new I,n=t.iterator();n.hasNext();){var i=n.next();e.add(new je(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],s=new Array(r.length).fill(null),n=0;n<r.length;n++)s[n]=new g(Math.round((r[n].x-this.offsetX)*this.scaleFactor),Math.round((r[n].y-this.offsetY)*this.scaleFactor),r[n].z);return H.removeRepeatedPoints(s)}},isIntegerPrecision:function(){return 1===this.scaleFactor},getNodedSubstrings:function(){var t=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(t),t},computeNodes:function(t){var e=t;this.isScaled&&(e=this.scale(t)),this.noder.computeNodes(e)},interfaces_:function(){return[$e]},getClass:function(){return Xi}});var Io=Object.freeze({MCIndexNoder:en,ScaledNoder:Xi,SegmentString:Pe});e(Hi.prototype,{isSimpleMultiPoint:function(t){if(t.isEmpty())return!0;for(var e=new at,n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n),r=i.getCoordinate();if(e.contains(r))return this.nonSimpleLocation=r,!1;e.add(r)}return!0},isSimplePolygonal:function(t){for(var e=Vn.getLines(t),n=e.iterator();n.hasNext();){var i=n.next();if(!this.isSimpleLinearGeometry(i))return!1}return!0},hasClosedEndpointIntersection:function(t){for(var e=new rt,n=t.getEdgeIterator();n.hasNext();){var i=n.next(),r=(i.getMaximumSegmentIndex(),i.isClosed()),s=i.getCoordinate(0);this.addEndpoint(e,s,r);var o=i.getCoordinate(i.getNumPoints()-1);this.addEndpoint(e,o,r)}for(var n=e.values().iterator();n.hasNext();){var a=n.next();if(a.isClosed&&2!==a.degree)return this.nonSimpleLocation=a.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this.nonSimpleLocation},isSimpleLinearGeometry:function(t){if(t.isEmpty())return!0;var e=new Jn(0,t),n=new oe,i=e.computeSelfNodes(n,!0);return!(i.hasIntersection()&&(i.hasProperIntersection()?(this.nonSimpleLocation=i.getProperIntersectionPoint(),1):this.hasNonEndpointIntersection(e)||this.isClosedEndpointsInInterior&&this.hasClosedEndpointIntersection(e)))},hasNonEndpointIntersection:function(t){for(var e=t.getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getMaximumSegmentIndex(),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var s=r.next();if(!s.isEndPoint(i))return this.nonSimpleLocation=s.getCoordinate(),!0}return!1},addEndpoint:function(t,e,n){var i=t.get(e);null===i&&(i=new Wi(e),t.put(e,i)),i.addEndpoint(n)},computeSimple:function(t){return this.nonSimpleLocation=null,!!t.isEmpty()||(t instanceof St?this.isSimpleLinearGeometry(t):t instanceof gt?this.isSimpleLinearGeometry(t):t instanceof Pt?this.isSimpleMultiPoint(t):R(t,Rt)?this.isSimplePolygonal(t):!(t instanceof ft)||this.isSimpleGeometryCollection(t))},isSimple:function(){return this.nonSimpleLocation=null,this.computeSimple(this.inputGeom)},isSimpleGeometryCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.computeSimple(n))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return Hi}}),e(Wi.prototype,{addEndpoint:function(t){this.degree++,this.isClosed|=t},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Wi}}),Hi.EndpointInfo=Wi,e(ji.prototype,{getEndCapStyle:function(){return this.endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(t){this.quadrantSegments=t,0===this.quadrantSegments&&(this.joinStyle=ji.JOIN_BEVEL),this.quadrantSegments<0&&(this.joinStyle=ji.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments)),t<=0&&(this.quadrantSegments=1),this.joinStyle!==ji.JOIN_ROUND&&(this.quadrantSegments=ji.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this.joinStyle},setJoinStyle:function(t){this.joinStyle=t},setSimplifyFactor:function(t){this.simplifyFactor=t<0?0:t},getSimplifyFactor:function(){return this.simplifyFactor},getQuadrantSegments:function(){return this.quadrantSegments},setEndCapStyle:function(t){this.endCapStyle=t},getMitreLimit:function(){return this.mitreLimit},setMitreLimit:function(t){this.mitreLimit=t},setSingleSided:function(t){this._isSingleSided=t},interfaces_:function(){return[]},getClass:function(){return ji}}),ji.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},ji.CAP_ROUND=1,ji.CAP_FLAT=2,ji.CAP_SQUARE=3,ji.JOIN_ROUND=1,ji.JOIN_MITRE=2,ji.JOIN_BEVEL=3,ji.DEFAULT_QUADRANT_SEGMENTS=8,ji.DEFAULT_MITRE_LIMIT=5,ji.DEFAULT_SIMPLIFY_FACTOR=.01,e(Ki.prototype,{getCoordinate:function(){return this.minCoord},getRightmostSide:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this.minCoord=null,this.checkForRightmostCoordinate(t)),n},findRightmostEdgeAtVertex:function(){var t=this.minDe.getEdge().getCoordinates();f.isTrue(this.minIndex>0&&this.minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this.minIndex-1],n=t[this.minIndex+1],i=le.computeOrientation(this.minCoord,n,e),r=!1;e.y<this.minCoord.y&&n.y<this.minCoord.y&&i===le.COUNTERCLOCKWISE?r=!0:e.y>this.minCoord.y&&n.y>this.minCoord.y&&i===le.CLOCKWISE&&(r=!0),r&&(this.minIndex=this.minIndex-1)},getRightmostSideOfSegment:function(t,e){var n=t.getEdge(),i=n.getCoordinates();if(e<0||e+1>=i.length)return-1;if(i[e].y===i[e+1].y)return-1;var r=hn.LEFT;return i[e].y<i[e+1].y&&(r=hn.RIGHT),r},getEdge:function(){return this.orientedDe},checkForRightmostCoordinate:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this.minCoord||e[n].x>this.minCoord.x)&&(this.minDe=t,this.minIndex=n,this.minCoord=e[n])},findRightmostEdgeAtNode:function(){var t=this.minDe.getNode(),e=t.getEdges();this.minDe=e.getRightmostEdge(),this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)},findEdge:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}f.isTrue(0!==this.minIndex||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this.minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this.orientedDe=this.minDe,this.getRightmostSide(this.minDe,this.minIndex)===hn.LEFT&&(this.orientedDe=this.minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return Ki}}),Zi.prototype.addLast=function(t){this.array_.push(t)},Zi.prototype.removeFirst=function(){return this.array_.shift()},Zi.prototype.isEmpty=function(){return 0===this.array_.length},e(Qi.prototype,{clearVisitedEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){t.next().setVisited(!1)}},getRightmostCoordinate:function(){return this.rightMostCoord},computeNodeDepth:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new rn("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();i.setVisited(!0),this.copySymDepths(i)}},computeDepth:function(t){this.clearVisitedEdges();var e=this.finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(hn.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},create:function(t){this.addReachable(t),this.finder.findEdge(this.dirEdgeList),this.rightMostCoord=this.finder.getCoordinate()},findResultEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(hn.RIGHT)>=1&&e.getDepth(hn.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},computeDepths:function(t){var e=new J,n=new Zi,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var s=r.getEdges().iterator();s.hasNext();){var o=s.next(),a=o.getSym();if(!a.isVisited()){var u=a.getNode();e.contains(u)||(n.addLast(u),e.add(u))}}}},compareTo:function(t){var e=t;return this.rightMostCoord.x<e.rightMostCoord.x?-1:this.rightMostCoord.x>e.rightMostCoord.x?1:0},getEnvelope:function(){if(null===this.env){for(var t=new C,e=this.dirEdgeList.iterator();e.hasNext();)for(var n=e.next(),i=n.getEdge().getCoordinates(),r=0;r<i.length-1;r++)t.expandToInclude(i[r]);this.env=t}return this.env},addReachable:function(t){var e=new de;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},copySymDepths:function(t){var e=t.getSym();e.setDepth(hn.LEFT,t.getDepth(hn.RIGHT)),e.setDepth(hn.RIGHT,t.getDepth(hn.LEFT))},add:function(t,e){t.setVisited(!0),this.nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this.dirEdgeList.add(i);var r=i.getSym(),s=r.getNode();s.isVisited()||e.push(s)}},getNodes:function(){return this.nodes},getDirectedEdges:function(){return this.dirEdgeList},interfaces_:function(){return[s]},getClass:function(){return Qi}}),e(Ji.prototype,{isDeletable:function(t,e,n,i){var r=this.inputLine[t],s=this.inputLine[e],o=this.inputLine[n];return!!this.isConcave(r,s,o)&&!!this.isShallow(r,s,o,i)&&this.isShallowSampled(r,s,t,n,i)},deleteShallowConcavities:function(){for(var t=1,e=(this.inputLine.length,this.findNextNonDeletedIndex(t)),n=this.findNextNonDeletedIndex(e),i=!1;n<this.inputLine.length;){var r=!1;this.isDeletable(t,e,n,this.distanceTol)&&(this.isDeleted[e]=Ji.DELETE,r=!0,i=!0),t=r?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return i},isShallowConcavity:function(t,e,n,i){return le.computeOrientation(t,e,n)===this.angleOrientation&&le.distancePointLine(e,t,n)<i},isShallowSampled:function(t,e,n,i,r){var s=Math.trunc((i-n)/Ji.NUM_PTS_TO_CHECK);s<=0&&(s=1);for(var o=n;o<i;o+=s)if(!this.isShallow(t,e,this.inputLine[o],r))return!1;return!0},isConcave:function(t,e,n){return le.computeOrientation(t,e,n)===this.angleOrientation},simplify:function(t){this.distanceTol=Math.abs(t),t<0&&(this.angleOrientation=le.CLOCKWISE),this.isDeleted=new Array(this.inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},findNextNonDeletedIndex:function(t){for(var e=t+1;e<this.inputLine.length&&this.isDeleted[e]===Ji.DELETE;)e++;return e},isShallow:function(t,e,n,i){return le.distancePointLine(e,t,n)<i},collapseLine:function(){for(var t=new N,e=0;e<this.inputLine.length;e++)this.isDeleted[e]!==Ji.DELETE&&t.add(this.inputLine[e]);return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Ji}}),Ji.simplify=function(t,e){return new Ji(t).simplify(e)},Ji.INIT=0,Ji.DELETE=1,Ji.KEEP=1,Ji.NUM_PTS_TO_CHECK=10,e($i.prototype,{getCoordinates:function(){return this.ptList.toArray($i.COORDINATE_ARRAY_TYPE)},setPrecisionModel:function(t){this.precisionModel=t},addPt:function(t){var e=new g(t);return this.precisionModel.makePrecise(e),this.isRedundant(e)?null:void this.ptList.add(e)},reverse:function(){},addPts:function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var n=t.length-1;n>=0;n--)this.addPt(t[n])},isRedundant:function(t){if(this.ptList.size()<1)return!1;var e=this.ptList.get(this.ptList.size()-1);return t.distance(e)<this.minimimVertexDistance},toString:function(){return(new ne).createLineString(this.getCoordinates()).toString()},closeRing:function(){if(this.ptList.size()<1)return null;var t=new g(this.ptList.get(0)),e=this.ptList.get(this.ptList.size()-1);return this.ptList.size()>=2&&this.ptList.get(this.ptList.size()-2),t.equals(e)?null:void this.ptList.add(t)},setMinimumVertexDistance:function(t){this.minimimVertexDistance=t},interfaces_:function(){return[]},getClass:function(){return $i}}),$i.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),e(tr.prototype,{addNextSegment:function(t,e){if(this.s0=this.s1,this.s1=this.s2,this.s2=t,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),this.s1.equals(this.s2))return null;var n=le.computeOrientation(this.s0,this.s1,this.s2),i=n===le.CLOCKWISE&&this.side===hn.LEFT||n===le.COUNTERCLOCKWISE&&this.side===hn.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},addLineEndCap:function(t,e){var n=new he(t,e),i=new he;this.computeOffsetSegment(n,hn.LEFT,this.distance,i);var r=new he;this.computeOffsetSegment(n,hn.RIGHT,this.distance,r);var s=e.x-t.x,o=e.y-t.y,a=Math.atan2(o,s);switch(this.bufParams.getEndCapStyle()){case ji.CAP_ROUND:this.segList.addPt(i.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,le.CLOCKWISE,this.distance),this.segList.addPt(r.p1);break;case ji.CAP_FLAT:this.segList.addPt(i.p1),this.segList.addPt(r.p1);break;case ji.CAP_SQUARE:var u=new g;u.x=Math.abs(this.distance)*Math.cos(a),u.y=Math.abs(this.distance)*Math.sin(a);var l=new g(i.p1.x+u.x,i.p1.y+u.y),h=new g(r.p1.x+u.x,r.p1.y+u.y);this.segList.addPt(l),this.segList.addPt(h)}},getCoordinates:function(){return this.segList.getCoordinates()},addMitreJoin:function(t,e,n,i){var r=!0,s=null;try{s=F.intersection(e.p0,e.p1,n.p0,n.p1);(i<=0?1:s.distance(t)/Math.abs(i))>this.bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof w))throw t;s=new g(0,0),r=!1}r?this.segList.addPt(s):this.addLimitedMitreJoin(e,n,i,this.bufParams.getMitreLimit())},addFilletCorner:function(t,e,n,i,r){var s=e.x-t.x,o=e.y-t.y,a=Math.atan2(o,s),u=n.x-t.x,l=n.y-t.y,h=Math.atan2(l,u);i===le.CLOCKWISE?a<=h&&(a+=2*Math.PI):a>=h&&(a-=2*Math.PI),this.segList.addPt(e),this.addFilletArc(t,a,h,i,r),this.segList.addPt(n)},addOutsideTurn:function(t,e){return this.offset0.p1.distance(this.offset1.p0)<this.distance*tr.OFFSET_SEGMENT_SEPARATION_FACTOR?(this.segList.addPt(this.offset0.p1),null):void(this.bufParams.getJoinStyle()===ji.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===ji.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(e&&this.segList.addPt(this.offset0.p1),this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,t,this.distance),this.segList.addPt(this.offset1.p0)))},createSquare:function(t){this.segList.addPt(new g(t.x+this.distance,t.y+this.distance)),this.segList.addPt(new g(t.x+this.distance,t.y-this.distance)),this.segList.addPt(new g(t.x-this.distance,t.y-this.distance)),this.segList.addPt(new g(t.x-this.distance,t.y+this.distance)),this.segList.closeRing()},addSegments:function(t,e){this.segList.addPts(t,e)},addFirstSegment:function(){this.segList.addPt(this.offset1.p0)},addLastSegment:function(){this.segList.addPt(this.offset1.p1)},initSideSegments:function(t,e,n){this.s1=t,this.s2=e,this.side=n,this.seg1.setCoordinates(t,e),this.computeOffsetSegment(this.seg1,n,this.distance,this.offset1)},addLimitedMitreJoin:function(t,e,n,i){var r=this.seg0.p1,s=Ni.angle(r,this.seg0.p0),o=(Ni.angle(r,this.seg1.p1),Ni.angleBetweenOriented(this.seg0.p0,r,this.seg1.p1)),a=o/2,u=Ni.normalize(s+a),l=Ni.normalize(u+Math.PI),h=i*n,c=h*Math.abs(Math.sin(a)),f=n-c,d=r.x+h*Math.cos(l),p=r.y+h*Math.sin(l),m=new g(d,p),v=new he(r,m),y=v.pointAlongOffset(1,f),x=v.pointAlongOffset(1,-f);this.side===hn.LEFT?(this.segList.addPt(y),this.segList.addPt(x)):(this.segList.addPt(x),this.segList.addPt(y))},computeOffsetSegment:function(t,e,n,i){var r=e===hn.LEFT?1:-1,s=t.p1.x-t.p0.x,o=t.p1.y-t.p0.y,a=Math.sqrt(s*s+o*o),u=r*n*s/a,l=r*n*o/a;i.p0.x=t.p0.x-l,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-l,i.p1.y=t.p1.y+u},addFilletArc:function(t,e,n,i,r){var s=i===le.CLOCKWISE?-1:1,o=Math.abs(e-n),a=Math.trunc(o/this.filletAngleQuantum+.5);if(a<1)return null;var u=null,l=null;u=0,l=o/a;for(var h=u,c=new g;h<o;){var f=e+s*h;c.x=t.x+r*Math.cos(f),c.y=t.y+r*Math.sin(f),this.segList.addPt(c),h+=l}},addInsideTurn:function(t,e){if(this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection())this.segList.addPt(this.li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,
this.offset0.p1.distance(this.offset1.p0)<this.distance*tr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this.segList.addPt(this.offset0.p1);else{if(this.segList.addPt(this.offset0.p1),this.closingSegLengthFactor>0){var n=new g((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(n);var i=new g((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(i)}else this.segList.addPt(this.s1);this.segList.addPt(this.offset1.p0)}},createCircle:function(t){var e=new g(t.x+this.distance,t.y);this.segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this.distance),this.segList.closeRing()},addBevelJoin:function(t,e){this.segList.addPt(t.p1),this.segList.addPt(e.p0)},init:function(t){this.distance=t,this.maxCurveSegmentError=t*(1-Math.cos(this.filletAngleQuantum/2)),this.segList=new $i,this.segList.setPrecisionModel(this.precisionModel),this.segList.setMinimumVertexDistance(t*tr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(t){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2),this.li.getIntersectionNum()>=2&&(this.bufParams.getJoinStyle()===ji.JOIN_BEVEL||this.bufParams.getJoinStyle()===ji.JOIN_MITRE?(t&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,le.CLOCKWISE,this.distance))},closeRing:function(){this.segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return tr}}),tr.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,tr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,tr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,tr.MAX_CLOSING_SEG_LEN_FACTOR=80,e(er.prototype,{getOffsetCurve:function(t,e){if(this.distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var s=r.getCoordinates();return n&&H.reverse(s),s},computeSingleSidedBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);if(e){n.addSegments(t,!0);var r=Ji.simplify(t,-i),s=r.length-1;n.initSideSegments(r[s],r[s-1],hn.LEFT),n.addFirstSegment();for(var o=s-2;o>=0;o--)n.addNextSegment(r[o],!0)}else{n.addSegments(t,!1);var a=Ji.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],hn.LEFT),n.addFirstSegment();for(var o=2;o<=u;o++)n.addNextSegment(a[o],!0)}n.addLastSegment(),n.closeRing()},computeRingBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);e===hn.RIGHT&&(i=-i);var r=Ji.simplify(t,i),s=r.length-1;n.initSideSegments(r[s-1],r[0],e);for(var o=1;o<=s;o++){var a=1!==o;n.addNextSegment(r[o],a)}n.closeRing()},computeLineBufferCurve:function(t,e){var n=this.simplifyTolerance(this.distance),i=Ji.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],hn.LEFT);for(var s=2;s<=r;s++)e.addNextSegment(i[s],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var o=Ji.simplify(t,-n),a=o.length-1;e.initSideSegments(o[a],o[a-1],hn.LEFT);for(var s=a-2;s>=0;s--)e.addNextSegment(o[s],!0);e.addLastSegment(),e.addLineEndCap(o[1],o[0]),e.closeRing()},computePointCurve:function(t,e){switch(this.bufParams.getEndCapStyle()){case ji.CAP_ROUND:e.createCircle(t);break;case ji.CAP_SQUARE:e.createSquare(t)}},getLineCurve:function(t,e){if(this.distance=e,e<0&&!this.bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this.bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()},getBufferParameters:function(){return this.bufParams},simplifyTolerance:function(t){return t*this.bufParams.getSimplifyFactor()},getRingCurve:function(t,e,n){if(this.distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return er.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},computeOffsetCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);if(e){var r=Ji.simplify(t,-i),s=r.length-1;n.initSideSegments(r[s],r[s-1],hn.LEFT),n.addFirstSegment();for(var o=s-2;o>=0;o--)n.addNextSegment(r[o],!0)}else{var a=Ji.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],hn.LEFT),n.addFirstSegment();for(var o=2;o<=u;o++)n.addNextSegment(a[o],!0)}n.addLastSegment()},getSegGen:function(t){return new tr(this.precisionModel,this.bufParams,t)},interfaces_:function(){return[]},getClass:function(){return er}}),er.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new g(t[n]);return e},e(nr.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var t=arguments[0],e=new I,n=this.subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(R(arguments[2],y)&&arguments[0]instanceof g&&arguments[1]instanceof En)for(var s=arguments[0],o=arguments[1],a=arguments[2],u=o.getEdge().getCoordinates(),n=0;n<u.length-1;n++){this.seg.p0=u[n],this.seg.p1=u[n+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse();var l=Math.max(this.seg.p0.x,this.seg.p1.x);if(!(l<s.x||this.seg.isHorizontal()||s.y<this.seg.p0.y||s.y>this.seg.p1.y||le.computeOrientation(this.seg.p0,this.seg.p1,s)===le.RIGHT)){var h=o.getDepth(hn.LEFT);this.seg.p0.equals(u[n])||(h=o.getDepth(hn.RIGHT));var c=new ir(this.seg,h);a.add(c)}}else if(R(arguments[2],y)&&arguments[0]instanceof g&&R(arguments[1],y))for(var f=arguments[0],d=arguments[1],p=arguments[2],n=d.iterator();n.hasNext();){var m=n.next();m.isForward()&&this.findStabbedSegments(f,m,p)}},getDepth:function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:uo.min(e).leftDepth},interfaces_:function(){return[]},getClass:function(){return nr}}),e(ir.prototype,{compareTo:function(t){var e=t;if(this.upwardSeg.minX()>=e.upwardSeg.maxX())return 1;if(this.upwardSeg.maxX()<=e.upwardSeg.minX())return-1;var n=this.upwardSeg.orientationIndex(e.upwardSeg);return 0!==n?n:(n=-1*e.upwardSeg.orientationIndex(this.upwardSeg),0!==n?n:this.upwardSeg.compareTo(e.upwardSeg))},compareX:function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},toString:function(){return this.upwardSeg.toString()},interfaces_:function(){return[s]},getClass:function(){return ir}}),nr.DepthSegment=ir,e(rr.prototype,{addPoint:function(t){if(this.distance<=0)return null;var e=t.getCoordinates(),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,L.EXTERIOR,L.INTERIOR)},addPolygon:function(t){var e=this.distance,n=hn.LEFT;this.distance<0&&(e=-this.distance,n=hn.RIGHT);var i=t.getExteriorRing(),r=H.removeRepeatedPoints(i.getCoordinates());if(this.distance<0&&this.isErodedCompletely(i,this.distance))return null;if(this.distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,L.EXTERIOR,L.INTERIOR);for(var s=0;s<t.getNumInteriorRing();s++){var o=t.getInteriorRingN(s),a=H.removeRepeatedPoints(o.getCoordinates());this.distance>0&&this.isErodedCompletely(o,-this.distance)||this.addPolygonRing(a,e,hn.opposite(n),L.INTERIOR,L.EXTERIOR)}},isTriangleErodedCompletely:function(t,e){var n=new Ci(t[0],t[1],t[2]),i=n.inCentre();return le.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},addLineString:function(t){if(this.distance<=0&&!this.curveBuilder.getBufferParameters().isSingleSided())return null;var e=H.removeRepeatedPoints(t.getCoordinates()),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,L.EXTERIOR,L.INTERIOR)},addCurve:function(t,e,n){if(null===t||t.length<2)return null;var i=new je(t,new fn(0,L.BOUNDARY,e,n));this.curveList.add(i)},getCurves:function(){return this.add(this.inputGeom),this.curveList},addPolygonRing:function(t,e,n,i,r){if(0===e&&t.length<bt.MINIMUM_VALID_SIZE)return null;var s=i,o=r;t.length>=bt.MINIMUM_VALID_SIZE&&le.isCCW(t)&&(s=r,o=i,n=hn.opposite(n));var a=this.curveBuilder.getRingCurve(t,n,e);this.addCurve(a,s,o)},add:function(t){if(t.isEmpty())return null;if(t instanceof Tt)this.addPolygon(t);else if(t instanceof St)this.addLineString(t);else if(t instanceof Lt)this.addPoint(t);else if(t instanceof Pt)this.addCollection(t);else if(t instanceof gt)this.addCollection(t);else if(t instanceof Ot)this.addCollection(t);else{if(!(t instanceof ft))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},isErodedCompletely:function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},interfaces_:function(){return[]},getClass:function(){return rr}}),e(sr.prototype,{isTrivialIntersection:function(t,e,n,i){if(t===n&&1===this.li.getIntersectionNum()){if(sr.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},hasProperInteriorIntersection:function(){return this.hasProperInterior},getLineIntersector:function(){return this.li},hasProperIntersection:function(){return this.hasProper},processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],s=t.getCoordinates()[e+1],o=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this.li.computeIntersection(r,s,o,a),this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this.hasInterior},interfaces_:function(){return[sn]},getClass:function(){return sr}}),sr.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},e(or.prototype,{setWorkingPrecisionModel:function(t){this.workingPrecisionModel=t},insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new fn(t.getLabel()),i.flip()),n.merge(i);var r=or.depthDelta(i),s=e.getDepthDelta(),o=s+r;e.setDepthDelta(o)}else this.edgeList.add(t),t.setDepthDelta(or.depthDelta(t.getLabel()))},buildSubgraphs:function(t,e){for(var n=new I,i=t.iterator();i.hasNext();){var r=i.next(),s=r.getRightmostCoordinate(),o=new nr(n),a=o.getDepth(s);r.computeDepth(a),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},createSubgraphs:function(t){for(var e=new I,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new Qi;r.create(i),e.add(r)}}return uo.sort(e,uo.reverseOrder()),e},createEmptyResultGeometry:function(){return this.geomFact.createPolygon()},getNoder:function(t){if(null!==this.workingNoder)return this.workingNoder;var e=new en,n=new oe;return n.setPrecisionModel(t),e.setSegmentIntersector(new sr(n)),e},buffer:function(t,e){var n=this.workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this.geomFact=t.getFactory();var i=new er(n,this.bufParams),r=new rr(t,e,i),s=r.getCurves();if(s.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(s,n),this.graph=new Nn(new bn),this.graph.addEdges(this.edgeList.getEdges());var o=this.createSubgraphs(this.graph),a=new Cn(this.geomFact);this.buildSubgraphs(o,a);var u=a.getPolygons();return u.size()<=0?this.createEmptyResultGeometry():this.geomFact.buildGeometry(u)},computeNodedEdges:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings(),r=i.iterator();r.hasNext();){var s=r.next(),o=s.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=s.getData(),u=new Qn(s.getCoordinates(),new fn(a));this.insertUniqueEdge(u)}}},setNoder:function(t){this.workingNoder=t},interfaces_:function(){return[]},getClass:function(){return or}}),or.depthDelta=function(t){var e=t.getLocation(0,hn.LEFT),n=t.getLocation(0,hn.RIGHT);return e===L.INTERIOR&&n===L.EXTERIOR?1:e===L.EXTERIOR&&n===L.INTERIOR?-1:0},or.convertSegStrings=function(t){for(var e=new ne,n=new I;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)},e(ar.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next(),n=e.getCoordinates();this.checkEndPtVertexIntersections(n[0],this.segStrings),this.checkEndPtVertexIntersections(n[n.length-1],this.segStrings)}else if(2===arguments.length)for(var i=arguments[0],r=arguments[1],t=r.iterator();t.hasNext();)for(var e=t.next(),n=e.getCoordinates(),s=1;s<n.length-1;s++)if(n[s].equals(i))throw new l("found endpt/interior pt intersection at index "+s+" :pt "+i)},checkInteriorIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this.segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],s=arguments[1],o=r.getCoordinates(),a=s.getCoordinates(),u=0;u<o.length-1;u++)for(var h=0;h<a.length-1;h++)this.checkInteriorIntersections(r,u,s,h);else if(4===arguments.length){var c=arguments[0],f=arguments[1],g=arguments[2],d=arguments[3];if(c===g&&f===d)return null;var p=c.getCoordinates()[f],m=c.getCoordinates()[f+1],v=g.getCoordinates()[d],y=g.getCoordinates()[d+1];if(this.li.computeIntersection(p,m,v,y),this.li.hasIntersection()&&(this.li.isProper()||this.hasInteriorIntersection(this.li,p,m)||this.hasInteriorIntersection(this.li,v,y)))throw new l("found non-noded intersection at "+p+"-"+m+" and "+v+"-"+y)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0],i=n.getCoordinates(),t=0;t<i.length-2;t++)this.checkCollapse(i[t],i[t+1],i[t+2])},hasInteriorIntersection:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},checkCollapse:function(t,e,n){if(t.equals(n))throw new l("found non-noded collapse at "+ar.fact.createLineString([t,e,n]))},interfaces_:function(){return[]},getClass:function(){return ar}}),ar.fact=new ne,e(ur.prototype,{intersectsScaled:function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),s=Math.max(t.y,e.y),o=this.maxx<n||this.minx>i||this.maxy<r||this.miny>s;if(o)return!1;var a=this.intersectsToleranceSquare(t,e);return f.isTrue(!(o&&a),"Found bad envelope test"),a},initCorners:function(t){this.minx=t.x-.5,this.maxx=t.x+.5,this.miny=t.y-.5,this.maxy=t.y+.5,this.corner[0]=new g(this.maxx,this.maxy),this.corner[1]=new g(this.minx,this.maxy),this.corner[2]=new g(this.minx,this.miny),this.corner[3]=new g(this.maxx,this.miny)},intersects:function(t,e){return 1===this.scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this.p0Scaled),this.copyScaled(e,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))},scale:function(t){return Math.round(t*this.scaleFactor)},getCoordinate:function(){return this.originalPt},copyScaled:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},getSafeEnvelope:function(){if(null===this.safeEnv){var t=ur.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;this.safeEnv=new C(this.originalPt.x-t,this.originalPt.x+t,this.originalPt.y-t,this.originalPt.y+t)}return this.safeEnv},intersectsPixelClosure:function(t,e){return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!(this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),this.li.hasIntersection()))))},intersectsToleranceSquare:function(t,e){var n=!1,i=!1;return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!(this.li.isProper()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),this.li.isProper()||(this.li.hasIntersection()&&(n=!0),this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),this.li.isProper()||(this.li.hasIntersection()&&(i=!0),this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),this.li.isProper()||n&&i||t.equals(this.pt)||e.equals(this.pt)))))},addSnappedNode:function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},interfaces_:function(){return[]},getClass:function(){return ur}}),ur.SAFE_ENV_EXPANSION_FACTOR=.75,e(lr.prototype,{snap:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=e.getSafeEnvelope(),s=new hr(e,n,i);return this.index.query(r,{interfaces_:function(){return[De]},visitItem:function(t){t.select(r,s)}}),s.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return lr}}),h(hr,li),e(hr.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return li.prototype.select.apply(this,arguments);var t=arguments[0],e=arguments[1],n=t.getContext();return null!==this.parentEdge&&n===this.parentEdge&&e===this.hotPixelVertexIndex?null:void(this._isNodeAdded=this.hotPixel.addSnappedNode(n,e))},interfaces_:function(){return[]},getClass:function(){return hr}}),lr.HotPixelSnapAction=hr,e(cr.prototype,{processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],s=t.getCoordinates()[e+1],o=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this.li.computeIntersection(r,s,o,a),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(var u=0;u<this.li.getIntersectionNum();u++)this.interiorIntersections.add(this.li.getIntersection(u));t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this.interiorIntersections},interfaces_:function(){return[sn]},getClass:function(){return cr}}),e(fr.prototype,{checkCorrectness:function(t){var e=je.getNodedSubstrings(t),n=new ar(e);try{n.checkValid()}catch(t){if(!(t instanceof S))throw t;t.printStackTrace()}},getNodedSubstrings:function(){return je.getNodedSubstrings(this.nodedSegStrings)},snapRound:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},findInteriorIntersections:function(t,e){var n=new cr(e);return this.noder.setSegmentIntersector(n),this.noder.computeNodes(t),n.getInteriorIntersections()},computeVertexSnaps:function(){if(R(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof je)for(var i=arguments[0],r=i.getCoordinates(),s=0;s<r.length;s++){var o=new ur(r[s],this.scaleFactor,this.li),a=this.pointSnapper.snap(o,i,s);a&&i.addIntersection(r[s],s)}},computeNodes:function(t){this.nodedSegStrings=t,this.noder=new en,this.pointSnapper=new lr(this.noder.getIndex()),this.snapRound(t,this.li)},computeIntersectionSnaps:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new ur(n,this.scaleFactor,this.li);this.pointSnapper.snap(i)}},interfaces_:function(){return[$e]},getClass:function(){return fr}}),e(gr.prototype,{bufferFixedPrecision:function(t){var e=new Xi(new fr(new te(1)),t.getScale()),n=new or(this.bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this.resultGeometry=n.buffer(this.argGeom,this.distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var t=gr.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof rn))throw t;this.saveException=t}if(null!==this.resultGeometry)return null}throw this.saveException}if(1===arguments.length){var e=arguments[0],n=gr.precisionScaleFactor(this.argGeom,this.distance,e),i=new te(n);this.bufferFixedPrecision(i)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this.resultGeometry)return null;var t=this.argGeom.getFactory().getPrecisionModel();t.getType()===te.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},setQuadrantSegments:function(t){this.bufParams.setQuadrantSegments(t)},bufferOriginalPrecision:function(){try{var t=new or(this.bufParams);this.resultGeometry=t.buffer(this.argGeom,this.distance)}catch(t){if(!(t instanceof l))throw t;this.saveException=t}},getResultGeometry:function(t){return this.distance=t,this.computeGeometry(),this.resultGeometry},setEndCapStyle:function(t){this.bufParams.setEndCapStyle(t)},interfaces_:function(){return[]},getClass:function(){return gr}}),gr.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new gr(t),i=n.getResultGeometry(e);return i}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof B&&"number"==typeof arguments[1]){var r=arguments[0],s=arguments[1],o=arguments[2],a=new gr(r);a.setQuadrantSegments(o);var i=a.getResultGeometry(s);return i}if(arguments[2]instanceof ji&&arguments[0]instanceof B&&"number"==typeof arguments[1]){var u=arguments[0],l=arguments[1],h=arguments[2],a=new gr(u,h),i=a.getResultGeometry(l);return i}}else if(4===arguments.length){var c=arguments[0],f=arguments[1],g=arguments[2],d=arguments[3],a=new gr(c);a.setQuadrantSegments(g),a.setEndCapStyle(d);var i=a.getResultGeometry(f);return i}},gr.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=T.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY())),s=e>0?e:0,o=r+2*s,a=Math.trunc(Math.log(o)/Math.log(10)+1),u=n-a;return Math.pow(10,u)},gr.CAP_ROUND=ji.CAP_ROUND,gr.CAP_BUTT=ji.CAP_FLAT,gr.CAP_FLAT=ji.CAP_FLAT,gr.CAP_SQUARE=ji.CAP_SQUARE,gr.MAX_PRECISION_DIGITS=12;var No=Object.freeze({BufferOp:gr,BufferParameters:ji});e(dr.prototype,{filter:function(t){t instanceof Tt&&this.comps.add(t)},interfaces_:function(){return[ht]},getClass:function(){return dr}}),dr.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return dr.getPolygons(t,new I)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Tt?n.add(e):e instanceof ft&&e.apply(new dr(n)),n}},e(pr.prototype,{isInsideArea:function(){return this.segIndex===pr.INSIDE_AREA},getCoordinate:function(){return this.pt},getGeometryComponent:function(){return this.component},getSegmentIndex:function(){return this.segIndex},interfaces_:function(){return[]},getClass:function(){return pr}}),pr.INSIDE_AREA=-1,e(mr.prototype,{filter:function(t){t instanceof Lt&&this.pts.add(t)},interfaces_:function(){return[ht]},getClass:function(){return mr}}),mr.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Lt?uo.singletonList(t):mr.getPoints(t,new I)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Lt?n.add(e):e instanceof ft&&e.apply(new mr(n)),n}},e(vr.prototype,{filter:function(t){(t instanceof Lt||t instanceof St||t instanceof Tt)&&this.locations.add(new pr(t,0,t.getCoordinate()))},interfaces_:function(){return[ht]},getClass:function(){return vr}}),vr.getLocations=function(t){var e=new I;return t.apply(new vr(e)),e},e(yr.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this.minDistance<=this.terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=dr.getPolygons(this.geom[e]);if(r.size()>0){var s=vr.getLocations(this.geom[i]);if(this.computeContainmentDistance(s,r,n),this.minDistance<=this.terminateDistance)return this.minDistanceLocation[i]=n[0],this.minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&R(arguments[0],y)&&R(arguments[1],y)){for(var o=arguments[0],a=arguments[1],u=arguments[2],l=0;l<o.size();l++)for(var h=o.get(l),c=0;c<a.size();c++)if(this.computeContainmentDistance(h,a.get(c),u),this.minDistance<=this.terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof pr&&arguments[1]instanceof Tt){var f=arguments[0],g=arguments[1],d=arguments[2],p=f.getCoordinate();if(L.EXTERIOR!==this.ptLocator.locate(p,g))return this.minDistance=0,d[0]=f,d[1]=new pr(g,p),null}},computeMinDistanceLinesPoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),s=0;s<e.size();s++){var o=e.get(s);if(this.computeMinDistance(r,o,n),this.minDistance<=this.terminateDistance)return null}},computeFacetDistance:function(){var t=new Array(2).fill(null),e=Vn.getLines(this.geom[0]),n=Vn.getLines(this.geom[1]),i=mr.getPoints(this.geom[0]),r=mr.getPoints(this.geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},nearestLocations:function(){return this.computeMinDistance(),this.minDistanceLocation},updateMinDistance:function(t,e){return null===t[0]?null:void(e?(this.minDistanceLocation[0]=t[1],this.minDistanceLocation[1]=t[0]):(this.minDistanceLocation[0]=t[0],this.minDistanceLocation[1]=t[1]))},nearestPoints:function(){return this.computeMinDistance(),[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()]},computeMinDistance:function(){if(0===arguments.length){if(null!==this.minDistanceLocation)return null;if(this.minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this.minDistance<=this.terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof St&&arguments[1]instanceof Lt){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this.minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),s=0;s<i.length-1;s++){var o=le.distancePointLine(r,i[s],i[s+1]);if(o<this.minDistance){this.minDistance=o;var a=new he(i[s],i[s+1]),u=a.closestPoint(r);n[0]=new pr(t,s,u),n[1]=new pr(e,0,r)}if(this.minDistance<=this.terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof St&&arguments[1]instanceof St){var l=arguments[0],h=arguments[1],c=arguments[2];if(l.getEnvelopeInternal().distance(h.getEnvelopeInternal())>this.minDistance)return null;for(var i=l.getCoordinates(),f=h.getCoordinates(),s=0;s<i.length-1;s++)for(var g=0;g<f.length-1;g++){var o=le.distanceLineLine(i[s],i[s+1],f[g],f[g+1]);if(o<this.minDistance){this.minDistance=o;var d=new he(i[s],i[s+1]),p=new he(f[g],f[g+1]),m=d.closestPoints(p);c[0]=new pr(l,s,m[0]),c[1]=new pr(h,g,m[1])}if(this.minDistance<=this.terminateDistance)return null}}},computeMinDistancePoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),s=0;s<e.size();s++){var o=e.get(s),a=r.getCoordinate().distance(o.getCoordinate());if(a<this.minDistance&&(this.minDistance=a,n[0]=new pr(r,0,r.getCoordinate()),n[1]=new pr(o,0,o.getCoordinate())),this.minDistance<=this.terminateDistance)return null}},distance:function(){if(null===this.geom[0]||null===this.geom[1])throw new i("null geometries are not supported");return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)},computeMinDistanceLines:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),s=0;s<e.size();s++){var o=e.get(s);if(this.computeMinDistance(r,o,n),this.minDistance<=this.terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return yr}}),yr.distance=function(t,e){return new yr(t,e).distance()},yr.isWithinDistance=function(t,e,n){return new yr(t,e,n).distance()<=n},yr.nearestPoints=function(t,e){return new yr(t,e).nearestPoints()};var Co=Object.freeze({DistanceOp:yr});e(xr.prototype,{getCoordinates:function(){if(null===this.coordinates){for(var t=0,e=0,n=new N,i=this.directedEdges.iterator();i.hasNext();){var r=i.next();r.getEdgeDirection()?t++:e++,n.add(r.getEdge().getLine().getCoordinates(),!1,r.getEdgeDirection())}this.coordinates=n.toCoordinateArray(),e>t&&H.reverse(this.coordinates)}return this.coordinates},toLineString:function(){return this.factory.createLineString(this.getCoordinates())},add:function(t){this.directedEdges.add(t)},interfaces_:function(){return[]},getClass:function(){return xr}}),e(Er.prototype,{setVisited:function(t){this._isVisited=t},isMarked:function(){return this._isMarked},setData:function(t){this.data=t},getData:function(){return this.data},setMarked:function(t){this._isMarked=t},getContext:function(){return this.data},isVisited:function(){return this._isVisited},setContext:function(t){this.data=t},interfaces_:function(){return[]},getClass:function(){return Er}}),Er.getComponentWithVisitedState=function(t,e){for(;t.hasNext();){var n=t.next();if(n.isVisited()===e)return n}return null},Er.setVisited=function(t,e){for(;t.hasNext();){t.next().setVisited(e)}},Er.setMarked=function(t,e){for(;t.hasNext();){t.next().setMarked(e)}},h(Ir,Er),e(Ir.prototype,{isRemoved:function(){return null===this.parentEdge},compareDirection:function(t){return this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:le.computeOrientation(t.p0,t.p1,this.p1)},getCoordinate:function(){return this.from.getCoordinate()},print:function(t){var e=this.getClass().getName(),n=e.lastIndexOf("."),i=e.substring(n+1);t.print("  "+i+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+this.angle)},getDirectionPt:function(){return this.p1},getAngle:function(){return this.angle},compareTo:function(t){var e=t;return this.compareDirection(e)},getFromNode:function(){return this.from},getSym:function(){return this.sym},setEdge:function(t){this.parentEdge=t},remove:function(){this.sym=null,this.parentEdge=null},getEdge:function(){return this.parentEdge},getQuadrant:function(){return this.quadrant},setSym:function(t){this.sym=t},getToNode:function(){return this.to},getEdgeDirection:function(){return this.edgeDirection},interfaces_:function(){return[s]},getClass:function(){return Ir}}),Ir.toEdges=function(t){for(var e=new I,n=t.iterator();n.hasNext();)e.add(n.next().parentEdge);return e},h(Nr,Ir),e(Nr.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(f.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return Nr}}),h(Cr,Er),e(Cr.prototype,{isRemoved:function(){return null===this.dirEdge},setDirectedEdges:function(t,e){this.dirEdge=[t,e],t.setEdge(this),e.setEdge(this),t.setSym(e),e.setSym(t),t.getFromNode().addOutEdge(t),e.getFromNode().addOutEdge(e)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var t=arguments[0];return this.dirEdge[t]}if(arguments[0]instanceof wr){var e=arguments[0];return this.dirEdge[0].getFromNode()===e?this.dirEdge[0]:this.dirEdge[1].getFromNode()===e?this.dirEdge[1]:null}},
remove:function(){this.dirEdge=null},getOppositeNode:function(t){return this.dirEdge[0].getFromNode()===t?this.dirEdge[0].getToNode():this.dirEdge[1].getFromNode()===t?this.dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return Cr}}),e(Sr.prototype,{getNextEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e+1))},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},iterator:function(){return this.sortEdges(),this.outEdges.iterator()},sortEdges:function(){this.sorted||(uo.sort(this.outEdges),this.sorted=!0)},remove:function(t){this.outEdges.remove(t)},getEdges:function(){return this.sortEdges(),this.outEdges},getNextCWEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e-1))},getIndex:function(){if(arguments[0]instanceof Cr){var t=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++){var n=this.outEdges.get(e);if(n.getEdge()===t)return e}return-1}if(arguments[0]instanceof Ir){var i=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++){var n=this.outEdges.get(e);if(n===i)return e}return-1}if(Number.isInteger(arguments[0])){var r=arguments[0],s=r%this.outEdges.size();return s<0&&(s+=this.outEdges.size()),s}},add:function(t){this.outEdges.add(t),this.sorted=!1},getDegree:function(){return this.outEdges.size()},interfaces_:function(){return[]},getClass:function(){return Sr}}),h(wr,Er),e(wr.prototype,{isRemoved:function(){return null===this.pt},addOutEdge:function(t){this.deStar.add(t)},getCoordinate:function(){return this.pt},getOutEdges:function(){return this.deStar},remove:function(){if(0===arguments.length)this.pt=null;else if(1===arguments.length){var t=arguments[0];this.deStar.remove(t)}},getIndex:function(t){return this.deStar.getIndex(t)},getDegree:function(){return this.deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return wr}}),wr.getEdgesBetween=function(t,e){var n=Ir.toEdges(t.getOutEdges().getEdges()),i=new J(n),r=Ir.toEdges(e.getOutEdges().getEdges());return i.retainAll(r),i},h(Lr,Cr),e(Lr.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return Lr}}),e(Rr.prototype,{find:function(t){return this.nodeMap.get(t)},iterator:function(){return this.nodeMap.values().iterator()},remove:function(t){return this.nodeMap.remove(t)},values:function(){return this.nodeMap.values()},add:function(t){return this.nodeMap.put(t.getCoordinate(),t),t},interfaces_:function(){return[]},getClass:function(){return Rr}}),e(Tr.prototype,{findNodesOfDegree:function(t){for(var e=new I,n=this.nodeIterator();n.hasNext();){var i=n.next();i.getDegree()===t&&e.add(i)}return e},dirEdgeIterator:function(){return this.dirEdges.iterator()},edgeIterator:function(){return this.edges.iterator()},remove:function(){if(arguments[0]instanceof Cr){var t=arguments[0];this.remove(t.getDirEdge(0)),this.remove(t.getDirEdge(1)),this.edges.remove(t),t.remove()}else if(arguments[0]instanceof Ir){var e=arguments[0],n=e.getSym();null!==n&&n.setSym(null),e.getFromNode().remove(e),e.remove(),this.dirEdges.remove(e)}else if(arguments[0]instanceof wr){for(var i=arguments[0],r=i.getOutEdges().getEdges(),s=r.iterator();s.hasNext();){var o=s.next(),n=o.getSym();null!==n&&this.remove(n),this.dirEdges.remove(o);var a=o.getEdge();null!==a&&this.edges.remove(a)}this.nodeMap.remove(i.getCoordinate()),i.remove()}},findNode:function(t){return this.nodeMap.find(t)},getEdges:function(){return this.edges},nodeIterator:function(){return this.nodeMap.iterator()},contains:function(){if(arguments[0]instanceof Cr){var t=arguments[0];return this.edges.contains(t)}if(arguments[0]instanceof Ir){var e=arguments[0];return this.dirEdges.contains(e)}},add:function(){if(arguments[0]instanceof wr){var t=arguments[0];this.nodeMap.add(t)}else if(arguments[0]instanceof Cr){var e=arguments[0];this.edges.add(e),this.add(e.getDirEdge(0)),this.add(e.getDirEdge(1))}else if(arguments[0]instanceof Ir){var n=arguments[0];this.dirEdges.add(n)}},getNodes:function(){return this.nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return Tr}}),h(Pr,Tr),e(Pr.prototype,{addEdge:function(t){if(t.isEmpty())return null;var e=H.removeRepeatedPoints(t.getCoordinates());if(e.length<=1)return null;var n=e[0],i=e[e.length-1],r=this.getNode(n),s=this.getNode(i),o=new Nr(r,s,e[1],!0),a=new Nr(s,r,e[e.length-2],!1),u=new Lr(t);u.setDirectedEdges(o,a),this.add(u)},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new wr(t),this.add(e)),e},interfaces_:function(){return[]},getClass:function(){return Pr}}),e(br.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.isMarked()||(f.isTrue(2===e.getDegree()),this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();2!==e.getDegree()&&(this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this.mergedLineStrings},buildEdgeStringsStartingAt:function(t){for(var e=t.getOutEdges().iterator();e.hasNext();){var n=e.next();n.getEdge().isMarked()||this.edgeStrings.add(this.buildEdgeStringStartingWith(n))}},merge:function(){if(null!==this.mergedLineStrings)return null;Er.setMarked(this.graph.nodeIterator(),!1),Er.setMarked(this.graph.edgeIterator(),!1),this.edgeStrings=new I,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this.mergedLineStrings=new I;for(var t=this.edgeStrings.iterator();t.hasNext();){var e=t.next();this.mergedLineStrings.add(e.toLineString())}},buildEdgeStringStartingWith:function(t){var e=new xr(this.factory),n=t;do{e.add(n),n.getEdge().setMarked(!0),n=n.getNext()}while(null!==n&&n!==t);return e},add:function(){if(arguments[0]instanceof B){arguments[0].apply({interfaces_:function(){return[q]},filter:function(t){t instanceof St&&this.add(t)}})}else if(R(arguments[0],m)){var t=arguments[0];this.mergedLineStrings=null;for(var e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}}else if(arguments[0]instanceof St){var i=arguments[0];null===this.factory&&(this.factory=i.getFactory()),this.graph.addEdge(i)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return br}});var So=Object.freeze({LineMerger:br}),wo=Object.freeze({OverlayOp:ni});h(Or,Ir),e(Or.prototype,{getNext:function(){return this.next},isInRing:function(){return null!==this.edgeRing},setRing:function(t){this.edgeRing=t},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setNext:function(t){this.next=t},getRing:function(){return this.edgeRing},interfaces_:function(){return[]},getClass:function(){return Or}}),h(_r,Cr),e(_r.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return _r}}),e(Mr.prototype,{visitInteriorRing:function(t,e){var n=t.getCoordinates(),i=n[0],r=Mr.findDifferentPoint(n,i),s=e.findEdgeInSameDirection(i,r),o=e.findEdgeEnd(s),a=null;o.getLabel().getLocation(0,hn.RIGHT)===L.INTERIOR?a=o:o.getSym().getLabel().getLocation(0,hn.RIGHT)===L.INTERIOR&&(a=o.getSym()),f.isTrue(null!==a,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(a)},visitShellInteriors:function(t,e){if(t instanceof Tt){var n=t;this.visitInteriorRing(n.getExteriorRing(),e)}if(t instanceof Ot)for(var i=t,r=0;r<i.getNumGeometries();r++){var n=i.getGeometryN(r);this.visitInteriorRing(n.getExteriorRing(),e)}},getCoordinate:function(){return this.disconnectedRingcoord},setInteriorEdgesInResult:function(t){for(var e=t.getEdgeEnds().iterator();e.hasNext();){var n=e.next();n.getLabel().getLocation(0,hn.RIGHT)===L.INTERIOR&&n.setInResult(!0)}},visitLinkedDirectedEdges:function(t){var e=t,n=t;do{f.isTrue(null!==n,"found null Directed Edge"),n.setVisited(!0),n=n.getNext()}while(n!==e)},buildEdgeRings:function(t){for(var e=new I,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&null===i.getEdgeRing()){var r=new pn(i,this.geometryFactory);r.linkDirectedEdgesForMinimalEdgeRings();var s=r.buildMinimalRings();e.addAll(s)}}return e},hasUnvisitedShellEdge:function(t){for(var e=0;e<t.size();e++){var n=t.get(e);if(!n.isHole()){var i=n.getEdges(),r=i.get(0);if(r.getLabel().getLocation(0,hn.RIGHT)===L.INTERIOR)for(var s=0;s<i.size();s++)if(r=i.get(s),!r.isVisited())return this.disconnectedRingcoord=r.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var t=new I;this.geomGraph.computeSplitEdges(t);var e=new Nn(new bn);e.addEdges(t),this.setInteriorEdgesInResult(e),e.linkResultDirectedEdges();var n=this.buildEdgeRings(e.getEdgeEnds());return this.visitShellInteriors(this.geomGraph.getGeometry(),e),!this.hasUnvisitedShellEdge(n)},interfaces_:function(){return[]},getClass:function(){return Mr}}),Mr.findDifferentPoint=function(t,e){for(var n=0;n<t.length;n++)if(!t[n].equals(e))return t[n];return null},e(Dr.prototype,{createEdgeEndForNext:function(t,e,n,i){var r=n.segmentIndex+1;if(r>=t.getNumPoints()&&null===i)return null;var s=t.getCoordinate(r);null!==i&&i.segmentIndex===n.segmentIndex&&(s=i.coord);var o=new xn(t,n.coord,s,new fn(t.getLabel()));e.add(o)},createEdgeEndForPrev:function(t,e,n,i){var r=n.segmentIndex;if(0===n.dist){if(0===r)return null;r--}var s=t.getCoordinate(r);null!==i&&i.segmentIndex>=r&&(s=i.coord);var o=new fn(t.getLabel());o.flip();var a=new xn(t,n.coord,s,o);e.add(a)},computeEdgeEnds:function(){if(1===arguments.length){for(var t=arguments[0],e=new I,n=t;n.hasNext();){var i=n.next();this.computeEdgeEnds(i,e)}return e}if(2===arguments.length){var r=arguments[0],s=arguments[1],o=r.getEdgeIntersectionList();o.addEndpoints();var a=o.iterator(),u=null,l=null;if(!a.hasNext())return null;var h=a.next();do{u=l,l=h,h=null,a.hasNext()&&(h=a.next()),null!==l&&(this.createEdgeEndForPrev(r,s,l,u),this.createEdgeEndForNext(r,s,l,h))}while(null!==l)}},interfaces_:function(){return[]},getClass:function(){return Dr}}),h(Ar,xn),e(Ar.prototype,{insert:function(t){this.edgeEnds.add(t)},print:function(t){t.println("EdgeEndBundle--\x3e Label: "+this.label);for(var e=this.iterator();e.hasNext();){e.next().print(t),t.println()}},iterator:function(){return this.edgeEnds.iterator()},getEdgeEnds:function(){return this.edgeEnds},computeLabelOn:function(t,e){for(var n=0,i=!1,r=this.iterator();r.hasNext();){var s=r.next(),o=s.getLabel().getLocation(t);o===L.BOUNDARY&&n++,o===L.INTERIOR&&(i=!0)}var o=L.NONE;i&&(o=L.INTERIOR),n>0&&(o=Jn.determineBoundary(e,n)),this.label.setLocation(t,o)},computeLabelSide:function(t,e){for(var n=this.iterator();n.hasNext();){var i=n.next();if(i.getLabel().isArea()){var r=i.getLabel().getLocation(t,e);if(r===L.INTERIOR)return this.label.setLocation(t,e,L.INTERIOR),null;r===L.EXTERIOR&&this.label.setLocation(t,e,L.EXTERIOR)}}},getLabel:function(){return this.label},computeLabelSides:function(t){this.computeLabelSide(t,hn.LEFT),this.computeLabelSide(t,hn.RIGHT)},updateIM:function(t){Qn.updateIM(this.label,t)},computeLabel:function(t){for(var e=!1,n=this.iterator();n.hasNext();){n.next().getLabel().isArea()&&(e=!0)}this.label=e?new fn(L.NONE,L.NONE,L.NONE):new fn(L.NONE);for(var i=0;i<2;i++)this.computeLabelOn(i,t),e&&this.computeLabelSides(i)},interfaces_:function(){return[]},getClass:function(){return Ar}}),h(Fr,Tn),e(Fr.prototype,{updateIM:function(t){for(var e=this.iterator();e.hasNext();){e.next().updateIM(t)}},insert:function(t){var e=this.edgeMap.get(t);null===e?(e=new Ar(t),this.insertEdgeEnd(t,e)):e.insert(t)},interfaces_:function(){return[]},getClass:function(){return Fr}}),h(Gr,vn),e(Gr.prototype,{updateIMFromEdges:function(t){this.edges.updateIM(t)},computeIM:function(t){t.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return Gr}}),h(qr,In),e(qr.prototype,{createNode:function(t){return new Gr(t,new Fr)},interfaces_:function(){return[]},getClass:function(){return qr}}),e(Br.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},getNodeIterator:function(){return this.nodes.iterator()},copyNodesAndLabels:function(t,e){for(var n=t.getNodeIterator();n.hasNext();){var i=n.next();this.nodes.addNode(i.getCoordinate()).setLabel(e,i.getLabel().getLocation(e))}},build:function(t){this.computeIntersectionNodes(t,0),this.copyNodesAndLabels(t,0);var e=new Dr,n=e.computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(n)},computeIntersectionNodes:function(t,e){for(var n=t.getEdgeIterator();n.hasNext();)for(var i=n.next(),r=i.getLabel().getLocation(e),s=i.getEdgeIntersectionList().iterator();s.hasNext();){var o=s.next(),a=this.nodes.addNode(o.coord);r===L.BOUNDARY?a.setLabelBoundary(e):a.getLabel().isNull(e)&&a.setLabel(e,L.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Br}}),e(zr.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=e.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this.invalidPoint},hasDuplicateRings:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();)for(var e=t.next(),n=e.getEdges().iterator();n.hasNext();){var i=n.next();if(i.getEdgeEnds().size()>1)return this.invalidPoint=i.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var t=this.geomGraph.computeSelfNodes(this.li,!0,!0);return t.hasProperIntersection()?(this.invalidPoint=t.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return zr}}),e(Vr.prototype,{buildIndex:function(){this.index=new Ve;for(var t=0;t<this.rings.size();t++){var e=this.rings.get(t),n=e.getEnvelopeInternal();this.index.insert(n,e)}},getNestedPoint:function(){return this.nestedPt},isNonNested:function(){this.buildIndex();for(var t=0;t<this.rings.size();t++)for(var e=this.rings.get(t),n=e.getCoordinates(),i=this.index.query(e.getEnvelopeInternal()),r=0;r<i.size();r++){var s=i.get(r),o=s.getCoordinates();if(e!==s&&e.getEnvelopeInternal().intersects(s.getEnvelopeInternal())){var a=Yr.findPtNotNode(n,s,this.graph);if(null!==a){var u=le.isPointInRing(a,o);if(u)return this.nestedPt=a,!1}}}return!0},add:function(t){this.rings.add(t),this.totalEnv.expandToInclude(t.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return Vr}}),e(kr.prototype,{getErrorType:function(){return this.errorType},getMessage:function(){return kr.errMsg[this.errorType]},getCoordinate:function(){return this.pt},toString:function(){var t="";return null!==this.pt&&(t=" at or near point "+this.pt),this.getMessage()+t},interfaces_:function(){return[]},getClass:function(){return kr}}),kr.ERROR=0,kr.REPEATED_POINT=1,kr.HOLE_OUTSIDE_SHELL=2,kr.NESTED_HOLES=3,kr.DISCONNECTED_INTERIOR=4,kr.SELF_INTERSECTION=5,kr.RING_SELF_INTERSECTION=6,kr.NESTED_SHELLS=7,kr.DUPLICATE_RINGS=8,kr.TOO_FEW_POINTS=9,kr.INVALID_COORDINATE=10,kr.RING_NOT_CLOSED=11,kr.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],e(Yr.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var t=arguments[0],e=0;e<t.length;e++)if(!Yr.isValid(t[e]))return this.validErr=new kr(kr.INVALID_COORDINATE,t[e]),null}else if(arguments[0]instanceof Tt){var n=arguments[0];if(this.checkInvalidCoordinates(n.getExteriorRing().getCoordinates()),null!==this.validErr)return null;for(var e=0;e<n.getNumInteriorRing();e++)if(this.checkInvalidCoordinates(n.getInteriorRingN(e).getCoordinates()),null!==this.validErr)return null}},checkHolesNotNested:function(t,e){for(var n=new Vr(e),i=0;i<t.getNumInteriorRing();i++){var r=t.getInteriorRingN(i);n.add(r)}n.isNonNested()||(this.validErr=new kr(kr.NESTED_HOLES,n.getNestedPoint()))},checkConsistentArea:function(t){var e=new zr(t);return e.isNodeConsistentArea()?void(e.hasDuplicateRings()&&(this.validErr=new kr(kr.DUPLICATE_RINGS,e.getInvalidPoint()))):(this.validErr=new kr(kr.SELF_INTERSECTION,e.getInvalidPoint()),null)},isValid:function(){return this.checkValid(this.parentGeometry),null===this.validErr},checkShellInsideHole:function(t,e,n){var i=t.getCoordinates(),r=e.getCoordinates(),s=Yr.findPtNotNode(i,e,n);if(null!==s){if(!le.isPointInRing(s,r))return s}var o=Yr.findPtNotNode(r,t,n);if(null!==o){return le.isPointInRing(o,i)?o:null}return f.shouldNeverReachHere("points in shell and hole appear to be equal"),null},checkNoSelfIntersectingRings:function(t){for(var e=t.getEdgeIterator();e.hasNext();){var n=e.next();if(this.checkNoSelfIntersectingRing(n.getEdgeIntersectionList()),null!==this.validErr)return null}},checkConnectedInteriors:function(t){var e=new Mr(t);e.isInteriorsConnected()||(this.validErr=new kr(kr.DISCONNECTED_INTERIOR,e.getCoordinate()))},checkNoSelfIntersectingRing:function(t){for(var e=new at,n=!0,i=t.iterator();i.hasNext();){var r=i.next();if(n)n=!1;else{if(e.contains(r.coord))return this.validErr=new kr(kr.RING_SELF_INTERSECTION,r.coord),null;e.add(r.coord)}}},checkHolesInShell:function(t,e){for(var n=t.getExteriorRing(),i=new Ei(n),r=0;r<t.getNumInteriorRing();r++){var s=t.getInteriorRingN(r),o=Yr.findPtNotNode(s.getCoordinates(),n,e);if(null===o)return null;if(!i.isInside(o))return this.validErr=new kr(kr.HOLE_OUTSIDE_SHELL,o),null}},checkTooFewPoints:function(t){if(t.hasTooFewPoints())return this.validErr=new kr(kr.TOO_FEW_POINTS,t.getInvalidPoint()),null},getValidationError:function(){return this.checkValid(this.parentGeometry),this.validErr},checkValid:function(){if(arguments[0]instanceof Lt){var t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof Pt){var e=arguments[0];this.checkInvalidCoordinates(e.getCoordinates())}else if(arguments[0]instanceof bt){var n=arguments[0];if(this.checkInvalidCoordinates(n.getCoordinates()),null!==this.validErr)return null;if(this.checkClosedRing(n),null!==this.validErr)return null;var i=new Jn(0,n);if(this.checkTooFewPoints(i),null!==this.validErr)return null;var r=new oe;i.computeSelfNodes(r,!0,!0),this.checkNoSelfIntersectingRings(i)}else if(arguments[0]instanceof St){var s=arguments[0];if(this.checkInvalidCoordinates(s.getCoordinates()),null!==this.validErr)return null;var i=new Jn(0,s);this.checkTooFewPoints(i)}else if(arguments[0]instanceof Tt){var o=arguments[0];if(this.checkInvalidCoordinates(o),null!==this.validErr)return null;if(this.checkClosedRings(o),null!==this.validErr)return null;var i=new Jn(0,o);if(this.checkTooFewPoints(i),null!==this.validErr)return null;if(this.checkConsistentArea(i),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(i),null!==this.validErr))return null;if(this.checkHolesInShell(o,i),null!==this.validErr)return null;if(this.checkHolesNotNested(o,i),null!==this.validErr)return null;this.checkConnectedInteriors(i)}else if(arguments[0]instanceof Ot){for(var a=arguments[0],u=0;u<a.getNumGeometries();u++){var l=a.getGeometryN(u);if(this.checkInvalidCoordinates(l),null!==this.validErr)return null;if(this.checkClosedRings(l),null!==this.validErr)return null}var i=new Jn(0,a);if(this.checkTooFewPoints(i),null!==this.validErr)return null;if(this.checkConsistentArea(i),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(i),null!==this.validErr))return null;for(var u=0;u<a.getNumGeometries();u++){var l=a.getGeometryN(u);if(this.checkHolesInShell(l,i),null!==this.validErr)return null}for(var u=0;u<a.getNumGeometries();u++){var l=a.getGeometryN(u);if(this.checkHolesNotNested(l,i),null!==this.validErr)return null}if(this.checkShellsNotNested(a,i),null!==this.validErr)return null;this.checkConnectedInteriors(i)}else if(arguments[0]instanceof ft)for(var h=arguments[0],u=0;u<h.getNumGeometries();u++){var c=h.getGeometryN(u);if(this.checkValid(c),null!==this.validErr)return null}else if(arguments[0]instanceof B){var f=arguments[0];if(this.validErr=null,f.isEmpty())return null;if(f instanceof Lt)this.checkValid(f);else if(f instanceof Pt)this.checkValid(f);else if(f instanceof bt)this.checkValid(f);else if(f instanceof St)this.checkValid(f);else if(f instanceof Tt)this.checkValid(f);else if(f instanceof Ot)this.checkValid(f);else{if(!(f instanceof ft))throw new UnsupportedOperationException(f.getClass().getName());this.checkValid(f)}}},setSelfTouchingRingFormingHoleValid:function(t){this.isSelfTouchingRingFormingHoleValid=t},checkShellNotNested:function(t,e,n){var i=t.getCoordinates(),r=e.getExteriorRing(),s=r.getCoordinates(),o=Yr.findPtNotNode(i,r,n);if(null===o)return null;if(!le.isPointInRing(o,s))return null;if(e.getNumInteriorRing()<=0)return this.validErr=new kr(kr.NESTED_SHELLS,o),null;for(var a=null,u=0;u<e.getNumInteriorRing();u++){var l=e.getInteriorRingN(u);if(null===(a=this.checkShellInsideHole(t,l,n)))return null}this.validErr=new kr(kr.NESTED_SHELLS,a)},checkClosedRings:function(t){if(this.checkClosedRing(t.getExteriorRing()),null!==this.validErr)return null;for(var e=0;e<t.getNumInteriorRing();e++)if(this.checkClosedRing(t.getInteriorRingN(e)),null!==this.validErr)return null},checkClosedRing:function(t){if(!t.isClosed()){var e=null;t.getNumPoints()>=1&&(e=t.getCoordinateN(0)),this.validErr=new kr(kr.RING_NOT_CLOSED,e)}},checkShellsNotNested:function(t,e){for(var n=0;n<t.getNumGeometries();n++)for(var i=t.getGeometryN(n),r=i.getExteriorRing(),s=0;s<t.getNumGeometries();s++)if(n!==s){var o=t.getGeometryN(s);if(this.checkShellNotNested(r,o,e),null!==this.validErr)return null}},interfaces_:function(){return[]},getClass:function(){return Yr}}),Yr.findPtNotNode=function(t,e,n){for(var i=n.findEdge(e),r=i.getEdgeIntersectionList(),s=0;s<t.length;s++){var o=t[s];if(!r.isIntersection(o))return o}return null},Yr.isValid=function(){if(arguments[0]instanceof B){return new Yr(arguments[0]).isValid()}if(arguments[0]instanceof g){var t=arguments[0];return!(r.isNaN(t.x)||r.isInfinite(t.x)||r.isNaN(t.y)||r.isInfinite(t.y))}},e(Ur.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this.ringPts){for(var t=new N,e=this.deList.iterator();e.hasNext();){var n=e.next(),i=n.getEdge();Ur.addEdge(i.getLine().getCoordinates(),n.getEdgeDirection(),t)}this.ringPts=t.toCoordinateArray()}return this.ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this.ringPts.length<=3)&&(this.getRing(),Yr.isValid(this.ring))},build:function(t){var e=t;do{this.add(e),e.setRing(this),e=e.getNext(),f.isTrue(null!==e,"found null DE in ring"),f.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var t=null;if(null!==this.holes){t=new Array(this.holes.size()).fill(null);for(var e=0;e<this.holes.size();e++)t[e]=this.holes.get(e)}return this.factory.createPolygon(this.ring,t)},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof bt){var t=arguments[0];null===this.holes&&(this.holes=new I),this.holes.add(t)}else if(arguments[0]instanceof Ur){var e=arguments[0];e.setShell(this);var n=e.getRing();null===this.holes&&(this.holes=new I),this.holes.add(n)}},setIncluded:function(t){this._isIncluded=t,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t),n=e.getSym().getRing();if(n.isOuterHole())return n}return null},computeHole:function(){var t=this.getRing();this._isHole=le.isCCW(t.getCoordinates())},hasShell:function(){return null!==this.shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this.factory.createLineString(this.ringPts)},toString:function(){return re.toLineString(new Gt(this.getCoordinates()))},getShell:function(){return this.isHole()?this.shell:this},add:function(t){this.deList.add(t)},getRing:function(){if(null!==this.ring)return this.ring;this.getCoordinates(),this.ringPts.length<3&&A.out.println(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(t){if(!(t instanceof S))throw t;A.out.println(this.ringPts)}return this.ring},updateIncluded:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t),n=e.getSym().getRing().getShell();if(null!==n&&n.isIncludedSet())return this.setIncluded(!n.isIncluded()),null}},setShell:function(t){this.shell=t},setProcessed:function(t){this._isProcessed=t},interfaces_:function(){return[]},getClass:function(){return Ur}}),Ur.findDirEdgesInRing=function(t){var e=t,n=new I;do{n.add(e),e=e.getNext(),f.isTrue(null!==e,"found null DE in ring"),f.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t);return n},Ur.addEdge=function(t,e,n){if(e)for(var i=0;i<t.length;i++)n.add(t[i],!1);else for(var i=t.length-1;i>=0;i--)n.add(t[i],!1)},Ur.findEdgeRingContaining=function(t,e){for(var n=t.getRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),s=null,o=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getRing(),h=l.getEnvelopeInternal();if(!h.equals(i)&&h.contains(i)){r=H.ptNotInList(n.getCoordinates(),l.getCoordinates());var c=!1;le.isPointInRing(r,l.getCoordinates())&&(c=!0),c&&(null===s||o.contains(h))&&(s=u,o=s.getRing().getEnvelopeInternal())}}return s},e(Xr.prototype,{compare:function(t,e){var n=t,i=e;return n.getRing().getEnvelope().compareTo(i.getRing().getEnvelope())},interfaces_:function(){return[a]},getClass:function(){return Xr}}),Ur.EnvelopeComparator=Xr,h(Hr,Tr),e(Hr.prototype,{findEdgeRing:function(t){var e=new Ur(this.factory);return e.build(t),e},computeDepthParity:function(){if(0===arguments.length)for(;;){return null}else 1===arguments.length&&arguments[0]},computeNextCWEdges:function(){for(var t=this.nodeIterator();t.hasNext();){var e=t.next();Hr.computeNextCWEdges(e)}},addEdge:function(t){if(t.isEmpty())return null;var e=H.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return null;var n=e[0],i=e[e.length-1],r=this.getNode(n),s=this.getNode(i),o=new Or(r,s,e[1],!0),a=new Or(s,r,e[e.length-2],!1),u=new _r(t);u.setDirectedEdges(o,a),this.add(u)},deleteCutEdges:function(){this.computeNextCWEdges(),Hr.findLabeledEdgeRings(this.dirEdges);for(var t=new I,e=this.dirEdges.iterator();e.hasNext();){var n=e.next();if(!n.isMarked()){var i=n.getSym();if(n.getLabel()===i.getLabel()){n.setMarked(!0),i.setMarked(!0);var r=n.getEdge();t.add(r.getLine())}}}return t},getEdgeRings:function(){this.computeNextCWEdges(),Hr.label(this.dirEdges,-1);var t=Hr.findLabeledEdgeRings(this.dirEdges);this.convertMaximalToMinimalEdgeRings(t);for(var e=new I,n=this.dirEdges.iterator();n.hasNext();){var i=n.next();if(!i.isMarked()&&!i.isInRing()){var r=this.findEdgeRing(i);e.add(r)}}return e},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new wr(t),this.add(e)),e},convertMaximalToMinimalEdgeRings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel(),r=Hr.findIntersectionNodes(n,i);if(null!==r)for(var s=r.iterator();s.hasNext();){var o=s.next();Hr.computeNextCCWEdges(o,i)}}},deleteDangles:function(){for(var t=this.findNodesOfDegree(1),e=new J,n=new de,i=t.iterator();i.hasNext();)n.push(i.next());for(;!n.isEmpty();){var r=n.pop();Hr.deleteAllEdges(r);for(var s=r.getOutEdges().getEdges(),i=s.iterator();i.hasNext();){var o=i.next();o.setMarked(!0);var a=o.getSym();null!==a&&a.setMarked(!0);var u=o.getEdge();e.add(u.getLine());var l=o.getToNode();1===Hr.getDegreeNonDeleted(l)&&n.push(l)}}return e},interfaces_:function(){return[]},getClass:function(){return Hr}}),Hr.findLabeledEdgeRings=function(t){for(var e=new I,n=1,i=t.iterator();i.hasNext();){var r=i.next();if(!(r.isMarked()||r.getLabel()>=0)){e.add(r);var s=Ur.findDirEdgesInRing(r);Hr.label(s,n),n++}}return e},Hr.getDegreeNonDeleted=function(t){for(var e=t.getOutEdges().getEdges(),n=0,i=e.iterator();i.hasNext();){i.next().isMarked()||n++}return n},Hr.deleteAllEdges=function(t){for(var e=t.getOutEdges().getEdges(),n=e.iterator();n.hasNext();){var i=n.next();i.setMarked(!0);var r=i.getSym();null!==r&&r.setMarked(!0)}},Hr.label=function(t,e){for(var n=t.iterator();n.hasNext();){n.next().setLabel(e)}},Hr.computeNextCWEdges=function(t){for(var e=t.getOutEdges(),n=null,i=null,r=e.getEdges().iterator();r.hasNext();){var s=r.next();if(!s.isMarked()){if(null===n&&(n=s),null!==i){var o=i.getSym();o.setNext(s)}i=s}}if(null!==i){var o=i.getSym();o.setNext(n)}},Hr.computeNextCCWEdges=function(t,e){for(var n=t.getOutEdges(),i=null,r=null,s=n.getEdges(),o=s.size()-1;o>=0;o--){var a=s.get(o),u=a.getSym(),l=null;a.getLabel()===e&&(l=a);var h=null;u.getLabel()===e&&(h=u),null===l&&null===h||(null!==h&&(r=h),null!==l&&(null!==r&&(r.setNext(l),r=null),null===i&&(i=l)))}null!==r&&(f.isTrue(null!==i),r.setNext(i))},Hr.getDegree=function(t,e){for(var n=t.getOutEdges().getEdges(),i=0,r=n.iterator();r.hasNext();){r.next().getLabel()===e&&i++}return i},Hr.findIntersectionNodes=function(t,e){var n=t,i=null;do{var r=n.getFromNode();Hr.getDegree(r,e)>1&&(null===i&&(i=new I),i.add(r)),n=n.getNext(),f.isTrue(null!==n,"found null DE in ring"),f.isTrue(n===t||!n.isInRing(),"found DE already in ring")}while(n!==t);return i},e(Wr.prototype,{getGeometry:function(){return null===this.geomFactory&&(this.geomFactory=new ne),this.polygonize(),this.extractOnlyPolygonal?this.geomFactory.buildGeometry(this.polyList):this.geomFactory.createGeometryCollection(ne.toGeometryArray(this.polyList))},getInvalidRingLines:function(){return this.polygonize(),this.invalidRingLines},findValidRings:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isValid()?e.add(r):n.add(r.getLineString())}},polygonize:function(){if(null!==this.polyList)return null;if(this.polyList=new I,null===this.graph)return null;this.dangles=this.graph.deleteDangles(),this.cutEdges=this.graph.deleteCutEdges();var t=this.graph.getEdgeRings(),e=new I;this.invalidRingLines=new I,this.isCheckingRingsValid?this.findValidRings(t,e,this.invalidRingLines):e=t,this.findShellsAndHoles(e),Wr.assignHolesToShells(this.holeList,this.shellList),uo.sort(this.shellList,new Ur.EnvelopeComparator);var n=!0;this.extractOnlyPolygonal&&(Wr.findDisjointShells(this.shellList),n=!1),this.polyList=Wr.extractPolygons(this.shellList,n)},getDangles:function(){return this.polygonize(),this.dangles},getCutEdges:function(){return this.polygonize(),this.cutEdges},getPolygons:function(){return this.polygonize(),this.polyList},add:function(){if(R(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}else if(arguments[0]instanceof St){var i=arguments[0];this.geomFactory=i.getFactory(),null===this.graph&&(this.graph=new Hr(this.geomFactory)),this.graph.addEdge(i)}else if(arguments[0]instanceof B){var r=arguments[0];r.apply(this.lineStringAdder)}},setCheckRingsValid:function(t){this.isCheckingRingsValid=t},findShellsAndHoles:function(t){this.holeList=new I,this.shellList=new I;for(var e=t.iterator();e.hasNext();){var n=e.next();n.computeHole(),n.isHole()?this.holeList.add(n):this.shellList.add(n)}},interfaces_:function(){return[]},getClass:function(){return Wr}}),Wr.findOuterShells=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getOuterHole();null===i||i.isProcessed()||(n.setIncluded(!0),i.setProcessed(!0))}},
Wr.extractPolygons=function(t,e){for(var n=new I,i=t.iterator();i.hasNext();){var r=i.next();(e||r.isIncluded())&&n.add(r.getPolygon())}return n},Wr.assignHolesToShells=function(t,e){for(var n=t.iterator();n.hasNext();){var i=n.next();Wr.assignHoleToShell(i,e)}},Wr.assignHoleToShell=function(t,e){var n=Ur.findEdgeRingContaining(t,e);null!==n&&n.addHole(t)},Wr.findDisjointShells=function(t){Wr.findOuterShells(t);var e=null;do{e=!1;for(var n=t.iterator();n.hasNext();){var i=n.next();i.isIncludedSet()||(i.updateIncluded(),i.isIncludedSet()||(e=!0))}}while(e)},e(jr.prototype,{filter:function(t){t instanceof St&&this.p.add(t)},interfaces_:function(){return[q]},getClass:function(){return jr}}),Wr.LineStringAdder=jr;var Lo=Object.freeze({Polygonizer:Wr});e(Kr.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},computeProperIntersectionIM:function(t,e){var n=this.arg[0].getGeometry().getDimension(),i=this.arg[1].getGeometry().getDimension(),r=t.hasProperIntersection(),s=t.hasProperInteriorIntersection();2===n&&2===i?r&&e.setAtLeast("212101212"):2===n&&1===i?(r&&e.setAtLeast("FFF0FFFF2"),s&&e.setAtLeast("1FFFFF1FF")):1===n&&2===i?(r&&e.setAtLeast("F0FFFFFF2"),s&&e.setAtLeast("1F1FFFFFF")):1===n&&1===i&&s&&e.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(t,e){for(var n=this.arg[t].getEdgeIterator();n.hasNext();){var i=n.next();i.isIsolated()&&(this.labelIsolatedEdge(i,e,this.arg[e].getGeometry()),this.isolatedEdges.add(i))}},labelIsolatedEdge:function(t,e,n){if(n.getDimension()>0){var i=this.ptLocator.locate(t.getCoordinate(),n);t.getLabel().setAllLocations(e,i)}else t.getLabel().setAllLocations(e,L.EXTERIOR)},computeIM:function(){var t=new ce;if(t.set(L.EXTERIOR,L.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1);var e=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);var n=new Dr,i=n.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(i);var r=n.computeEdgeEnds(this.arg[1].getEdgeIterator());return this.insertEdgeEnds(r),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t},labelNodeEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){t.next().getEdges().computeLabelling(this.arg)}},copyNodesAndLabels:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next();this.nodes.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},labelIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var s=r.next(),o=this.nodes.find(s.coord);o.getLabel().isNull(t)&&(i===L.BOUNDARY?o.setLabelBoundary(t):o.setLabel(t,L.INTERIOR))}},labelIsolatedNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setAllLocations(e,n)},computeIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var s=r.next(),o=this.nodes.addNode(s.coord);i===L.BOUNDARY?o.setLabelBoundary(t):o.getLabel().isNull(t)&&o.setLabel(t,L.INTERIOR)}},labelIsolatedNodes:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next(),n=e.getLabel();f.isTrue(n.getGeometryCount()>0,"node with empty label found"),e.isIsolated()&&(n.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}},updateIM:function(t){for(var e=this.isolatedEdges.iterator();e.hasNext();){e.next().updateIM(t)}for(var n=this.nodes.iterator();n.hasNext();){var i=n.next();i.updateIM(t),i.updateIMFromEdges(t)}},computeDisjointIM:function(t){var e=this.arg[0].getGeometry();e.isEmpty()||(t.set(L.INTERIOR,L.EXTERIOR,e.getDimension()),t.set(L.BOUNDARY,L.EXTERIOR,e.getBoundaryDimension()));var n=this.arg[1].getGeometry();n.isEmpty()||(t.set(L.EXTERIOR,L.INTERIOR,n.getDimension()),t.set(L.EXTERIOR,L.BOUNDARY,n.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return Kr}}),e(Zr.prototype,{isContainedInBoundary:function(t){if(t instanceof Tt)return!1;if(t instanceof Lt)return this.isPointContainedInBoundary(t);if(t instanceof St)return this.isLineStringContainedInBoundary(t);for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.isContainedInBoundary(n))return!1}return!0},isLineSegmentContainedInBoundary:function(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this.rectEnv.getMinX()||t.x===this.rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this.rectEnv.getMinY()||t.y===this.rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(t){for(var e=t.getCoordinateSequence(),n=new g,i=new g,r=0;r<e.size()-1;r++)if(e.getCoordinate(r,n),e.getCoordinate(r+1,i),!this.isLineSegmentContainedInBoundary(n,i))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof Lt){var t=arguments[0];return this.isPointContainedInBoundary(t.getCoordinate())}if(arguments[0]instanceof g){var e=arguments[0];return e.x===this.rectEnv.getMinX()||e.x===this.rectEnv.getMaxX()||e.y===this.rectEnv.getMinY()||e.y===this.rectEnv.getMaxY()}},contains:function(t){return!!this.rectEnv.contains(t.getEnvelopeInternal())&&!this.isContainedInBoundary(t)},interfaces_:function(){return[]},getClass:function(){return Zr}}),Zr.contains=function(t,e){return new Zr(t).contains(e)},e(Qr.prototype,{intersects:function(t,e){var n=new C(t,e);if(!this.rectEnv.intersects(n))return!1;if(this.rectEnv.intersects(t))return!0;if(this.rectEnv.intersects(e))return!0;if(t.compareTo(e)>0){var i=t;t=e,e=i}var r=!1;return e.y>t.y&&(r=!0),r?this.li.computeIntersection(t,e,this.diagDown0,this.diagDown1):this.li.computeIntersection(t,e,this.diagUp0,this.diagUp1),!!this.li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return Qr}}),e(Jr.prototype,{applyTo:function(t){for(var e=0;e<t.getNumGeometries()&&!this._isDone;e++){var n=t.getGeometryN(e);if(n instanceof ft)this.applyTo(n);else if(this.visit(n),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return Jr}}),e($r.prototype,{intersects:function(t){if(!this.rectEnv.intersects(t.getEnvelopeInternal()))return!1;var e=new ts(this.rectEnv);if(e.applyTo(t),e.intersects())return!0;var n=new es(this.rectangle);if(n.applyTo(t),n.containsPoint())return!0;var i=new ns(this.rectangle);return i.applyTo(t),!!i.intersects()},interfaces_:function(){return[]},getClass:function(){return $r}}),$r.intersects=function(t,e){return new $r(t).intersects(e)},h(ts,Jr),e(ts.prototype,{isDone:function(){return!0===this._intersects},visit:function(t){var e=t.getEnvelopeInternal();return this.rectEnv.intersects(e)?this.rectEnv.contains(e)?(this._intersects=!0,null):e.getMinX()>=this.rectEnv.getMinX()&&e.getMaxX()<=this.rectEnv.getMaxX()?(this._intersects=!0,null):e.getMinY()>=this.rectEnv.getMinY()&&e.getMaxY()<=this.rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return ts}}),h(es,Jr),e(es.prototype,{isDone:function(){return!0===this._containsPoint},visit:function(t){if(!(t instanceof Tt))return null;var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;for(var n=new g,i=0;i<4;i++)if(this.rectSeq.getCoordinate(i,n),e.contains(n)&&Rn.containsPointInPolygon(n,t))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return es}}),h(ns,Jr),e(ns.prototype,{intersects:function(){return this.hasIntersection},isDone:function(){return!0===this.hasIntersection},visit:function(t){var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;var n=Vn.getLines(t);this.checkIntersectionWithLineStrings(n)},checkIntersectionWithLineStrings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();if(this.checkIntersectionWithSegments(n),this.hasIntersection)return null}},checkIntersectionWithSegments:function(t){for(var e=t.getCoordinateSequence(),n=1;n<e.size();n++)if(e.getCoordinate(n-1,this.p0),e.getCoordinate(n,this.p1),this.rectIntersector.intersects(this.p0,this.p1))return this.hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return ns}}),h(is,$n),e(is.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return is}}),is.covers=function(t,e){return!!t.getEnvelopeInternal().covers(e.getEnvelopeInternal())&&(!!t.isRectangle()||is.relate(t,e).isCovers())},is.intersects=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&(t.isRectangle()?$r.intersects(t,e):e.isRectangle()?$r.intersects(e,t):is.relate(t,e).isIntersects())},is.touches=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&is.relate(t,e).isTouches(t.getDimension(),e.getDimension())},is.within=function(t,e){return e.contains(t)},is.coveredBy=function(t,e){return is.covers(e,t)},is.relate=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new is(t,e),i=n.getIntersectionMatrix();return i}if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof B&&arguments[1]instanceof B){var r=arguments[0],s=arguments[1],o=arguments[2];return is.relateWithCheck(r,s).matches(o)}if(R(arguments[2],V)&&arguments[0]instanceof B&&arguments[1]instanceof B){var a=arguments[0],u=arguments[1],l=arguments[2],n=new is(a,u,l),i=n.getIntersectionMatrix();return i}}},is.overlaps=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&is.relate(t,e).isOverlaps(t.getDimension(),e.getDimension())},is.disjoint=function(t,e){return!t.intersects(e)},is.relateWithCheck=function(t,e){return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),is.relate(t,e)},is.crosses=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&is.relate(t,e).isCrosses(t.getDimension(),e.getDimension())},is.contains=function(t,e){return!!t.getEnvelopeInternal().contains(e.getEnvelopeInternal())&&(t.isRectangle()?Zr.contains(t,e):is.relate(t,e).isContains())};var Ro=Object.freeze({RelateOp:is});e(rs.prototype,{extractElements:function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this.skipEmpty&&i.isEmpty()||e.add(i)}},combine:function(){for(var t=new I,e=this.inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this.geomFactory?this.geomFactory.createGeometryCollection(null):null:this.geomFactory.buildGeometry(t)},interfaces_:function(){return[]},getClass:function(){return rs}}),rs.combine=function(){if(1===arguments.length){var t=arguments[0],e=new rs(t);return e.combine()}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=new rs(rs.createList(n,i));return e.combine()}if(3===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2],e=new rs(rs.createList(r,s,o));return e.combine()}},rs.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},rs.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new I;return n.add(t),n.add(e),n}if(3===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2],n=new I;return n.add(i),n.add(r),n.add(s),n}},e(ss.prototype,{union:function(){for(var t=new Re,e=new at,n=0;n<this.pointGeom.getNumGeometries();n++){var i=this.pointGeom.getGeometryN(n),r=i.getCoordinate();t.locate(r,this.otherGeom)===L.EXTERIOR&&e.add(r)}if(0===e.size())return this.otherGeom;var s=null,o=H.toCoordinateArray(e);return s=1===o.length?this.geomFact.createPoint(o[0]):this.geomFact.createMultiPointFromCoords(o),rs.combine(s,this.otherGeom)},interfaces_:function(){return[]},getClass:function(){return ss}}),ss.union=function(t,e){return new ss(t,e).union()},e(os.prototype,{filter:function(t){-1!==this.sortIndex&&t.getSortIndex()!==this.sortIndex||this.comps.add(t)},interfaces_:function(){return[ht]},getClass:function(){return os}}),os.extract=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return os.extract(t,e,new I)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];return n.getSortIndex()===i?r.add(n):n instanceof ft&&n.apply(new os(i,r)),r}},e(as.prototype,{reduceToGeometries:function(t){for(var e=new I,n=t.iterator();n.hasNext();){var i=n.next(),r=null;R(i,y)?r=this.unionTree(i):i instanceof B&&(r=i),e.add(r)}return e},extractByEnvelope:function(t,e,n){for(var i=new I,r=0;r<e.getNumGeometries();r++){var s=e.getGeometryN(r);s.getEnvelopeInternal().intersects(t)?i.add(s):n.add(s)}return this.geomFactory.buildGeometry(i)},unionOptimized:function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i)){return rs.combine(t,e)}if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},union:function(){if(null===this.inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this.inputPolys.isEmpty())return null;this.geomFactory=this.inputPolys.iterator().next().getFactory();for(var t=new Ve(as.STRTREE_NODE_CAPACITY),e=this.inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this.inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},binaryUnion:function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var r=as.getGeometry(e,n);return this.unionSafe(r,null)}if(i-n==2)return this.unionSafe(as.getGeometry(e,n),as.getGeometry(e,n+1));var s=Math.trunc((i+n)/2),r=this.binaryUnion(e,n,s),o=this.binaryUnion(e,s,i);return this.unionSafe(r,o)}},repeatedUnion:function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},unionSafe:function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},unionActual:function(t,e){return as.restrictToPolygons(t.union(e))},unionTree:function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},unionUsingEnvelopeIntersection:function(t,e,n){var i=new I,r=this.extractByEnvelope(n,t,i),s=this.extractByEnvelope(n,e,i),o=this.unionActual(r,s);return i.add(o),rs.combine(i)},bufferUnion:function(){if(1===arguments.length){var t=arguments[0],e=t.get(0).getFactory(),n=e.buildGeometry(t),i=n.buffer(0);return i}if(2===arguments.length){var r=arguments[0],s=arguments[1],e=r.getFactory(),n=e.createGeometryCollection([r,s]),i=n.buffer(0);return i}},interfaces_:function(){return[]},getClass:function(){return as}}),as.restrictToPolygons=function(t){if(R(t,Rt))return t;var e=dr.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(ne.toPolygonArray(e))},as.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},as.union=function(t){return new as(t).union()},as.STRTREE_NODE_CAPACITY=4,e(us.prototype,{unionNoOpt:function(t){var e=this.geomFact.createPoint();return ri.overlayOp(t,e,ni.UNION)},unionWithNull:function(t,e){return null===t&&null===e?null:null===e?t:null===t?e:t.union(e)},extract:function(){if(R(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.extract(n)}else if(arguments[0]instanceof B){var i=arguments[0];null===this.geomFact&&(this.geomFact=i.getFactory()),os.extract(i,B.SORTINDEX_POLYGON,this.polygons),os.extract(i,B.SORTINDEX_LINESTRING,this.lines),os.extract(i,B.SORTINDEX_POINT,this.points)}},union:function(){if(null===this.geomFact)return null;var t=null;if(this.points.size()>0){var e=this.geomFact.buildGeometry(this.points);t=this.unionNoOpt(e)}var n=null;if(this.lines.size()>0){var i=this.geomFact.buildGeometry(this.lines);n=this.unionNoOpt(i)}var r=null;this.polygons.size()>0&&(r=as.union(this.polygons));var s=this.unionWithNull(n,r),o=null;return o=null===t?s:null===s?t:ss.union(t,s),null===o?this.geomFact.createGeometryCollection():o},interfaces_:function(){return[]},getClass:function(){return us}}),us.union=function(){if(1===arguments.length){if(R(arguments[0],m)){var t=arguments[0],e=new us(t);return e.union()}if(arguments[0]instanceof B){var n=arguments[0],e=new us(n);return e.union()}}else if(2===arguments.length){var i=arguments[0],r=arguments[1],e=new us(i,r);return e.union()}};var To=Object.freeze({UnaryUnionOp:us}),Po=Object.freeze({IsValidOp:Yr,ConsistentAreaTester:zr}),bo=Object.freeze({BoundaryOp:dt,IsSimpleOp:Hi,buffer:No,distance:Co,linemerge:So,overlay:wo,polygonize:Lo,relate:Ro,union:To,valid:Po});h(ls,_t.CoordinateOperation),e(ls.prototype,{editCoordinates:function(t,e){if(0===t.length)return null;for(var n=new Array(t.length).fill(null),i=0;i<t.length;i++){var r=new g(t[i]);this.targetPM.makePrecise(r),n[i]=r}var s=new N(n,!1),o=s.toCoordinateArray(),a=0;e instanceof St&&(a=2),e instanceof bt&&(a=4);var u=n;return this.removeCollapsed&&(u=null),o.length<a?u:o},interfaces_:function(){return[]},getClass:function(){return ls}}),e(hs.prototype,{fixPolygonalTopology:function(t){var e=t;this.changePrecisionModel||(e=this.changePM(t,this.targetPM));var n=e.buffer(0),i=n;return this.changePrecisionModel||(i=this.changePM(n,t.getPrecisionModel())),i},reducePointwise:function(t){var e=null;if(this.changePrecisionModel){e=new _t(this.createFactory(t.getFactory(),this.targetPM))}else e=new _t;var n=this.removeCollapsed;return t.getDimension()>=2&&(n=!0),e.edit(t,new ls(this.targetPM,n))},changePM:function(t,e){return this.createEditor(t.getFactory(),e).edit(t,new _t.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(t){this.removeCollapsed=t},createFactory:function(t,e){return new ne(e,t.getSRID(),t.getCoordinateSequenceFactory())},setChangePrecisionModel:function(t){this.changePrecisionModel=t},reduce:function(t){var e=this.reducePointwise(t);return this.isPointwise?e:R(e,Rt)?e.isValid()?e:this.fixPolygonalTopology(e):e},setPointwise:function(t){this.isPointwise=t},createEditor:function(t,e){return t.getPrecisionModel()===e?new _t:new _t(this.createFactory(t,e))},interfaces_:function(){return[]},getClass:function(){return hs}}),hs.reduce=function(t,e){return new hs(e).reduce(t)},hs.reducePointwise=function(t,e){var n=new hs(e);return n.setPointwise(!0),n.reduce(t)};var Oo=Object.freeze({GeometryPrecisionReducer:hs});e(cs.prototype,{simplifySection:function(t,e){if(t+1===e)return null;this.seg.p0=this.pts[t],this.seg.p1=this.pts[e];for(var n=-1,i=t,r=t+1;r<e;r++){var s=this.seg.distance(this.pts[r]);s>n&&(n=s,i=r)}if(n<=this.distanceTolerance)for(var r=t+1;r<e;r++)this.usePt[r]=!1;else this.simplifySection(t,i),this.simplifySection(i,e)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(){this.usePt=new Array(this.pts.length).fill(null);for(var t=0;t<this.pts.length;t++)this.usePt[t]=!0;this.simplifySection(0,this.pts.length-1);for(var e=new N,t=0;t<this.pts.length;t++)this.usePt[t]&&e.add(new g(this.pts[t]));return e.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return cs}}),cs.simplify=function(t,e){var n=new cs(t);return n.setDistanceTolerance(e),n.simplify()},e(fs.prototype,{setEnsureValid:function(t){this.isEnsureValidTopology=t},getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():new gs(this.isEnsureValidTopology,this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(t<0)throw new i("Tolerance must be non-negative");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return fs}}),fs.simplify=function(t,e){var n=new fs(t);return n.setDistanceTolerance(e),n.getResultGeometry()},h(gs,ye),e(gs.prototype,{transformPolygon:function(t,e){if(t.isEmpty())return null;var n=ye.prototype.transformPolygon.call(this,t,e);return e instanceof Ot?n:this.createValidArea(n)},createValidArea:function(t){return this.isEnsureValidTopology?t.buffer(0):t},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=null;return i=0===n.length?new Array(0).fill(null):cs.simplify(n,this.distanceTolerance),this.factory.getCoordinateSequenceFactory().create(i)},transformMultiPolygon:function(t,e){var n=ye.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformLinearRing:function(t,e){var n=e instanceof Tt,i=ye.prototype.transformLinearRing.call(this,t,e);return!n||i instanceof bt?i:null},interfaces_:function(){return[]},getClass:function(){return gs}}),fs.DPTransformer=gs,h(ds,he),e(ds.prototype,{getIndex:function(){return this.index},getParent:function(){return this.parent},interfaces_:function(){return[]},getClass:function(){return ds}}),e(ps.prototype,{addToResult:function(t){this.resultSegs.add(t)},asLineString:function(){return this.parentLine.getFactory().createLineString(ps.extractCoordinates(this.resultSegs))},getResultSize:function(){var t=this.resultSegs.size();return 0===t?0:t+1},getParent:function(){return this.parentLine},getSegment:function(t){return this.segs[t]},getParentCoordinates:function(){return this.parentLine.getCoordinates()},getMinimumSize:function(){return this.minimumSize},asLinearRing:function(){return this.parentLine.getFactory().createLinearRing(ps.extractCoordinates(this.resultSegs))},getSegments:function(){return this.segs},init:function(){var t=this.parentLine.getCoordinates();this.segs=new Array(t.length-1).fill(null);for(var e=0;e<t.length-1;e++){var n=new ds(t[e],t[e+1],this.parentLine,e);this.segs[e]=n}},getResultCoordinates:function(){return ps.extractCoordinates(this.resultSegs)},interfaces_:function(){return[]},getClass:function(){return ps}}),ps.extractCoordinates=function(t){for(var e=new Array(t.size()+1).fill(null),n=null,i=0;i<t.size();i++)n=t.get(i),e[i]=n.p0;return e[e.length-1]=n.p1,e},e(ms.prototype,{remove:function(t){this.index.remove(new C(t.p0,t.p1),t)},add:function(){if(arguments[0]instanceof ps)for(var t=arguments[0],e=t.getSegments(),n=0;n<e.length;n++){var i=e[n];this.add(i)}else if(arguments[0]instanceof he){var r=arguments[0];this.index.insert(new C(r.p0,r.p1),r)}},query:function(t){var e=new C(t.p0,t.p1),n=new vs(t);return this.index.query(e,n),n.getItems()},interfaces_:function(){return[]},getClass:function(){return ms}}),e(vs.prototype,{visitItem:function(t){var e=t;C.intersects(e.p0,e.p1,this.querySeg.p0,this.querySeg.p1)&&this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[De]},getClass:function(){return vs}}),e(ys.prototype,{flatten:function(t,e){var n=this.linePts[t],i=this.linePts[e],r=new he(n,i);return this.remove(this.line,t,e),this.outputIndex.add(r),r},hasBadIntersection:function(t,e,n){return!!this.hasBadOutputIntersection(n)||!!this.hasBadInputIntersection(t,e,n)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplifySection:function(t,e,n){n+=1;var i=new Array(2).fill(null);if(t+1===e){var r=this.line.getSegment(t);return this.line.addToResult(r),null}var s=!0;if(this.line.getResultSize()<this.line.getMinimumSize()){n+1<this.line.getMinimumSize()&&(s=!1)}var o=new Array(1).fill(null),a=this.findFurthestPoint(this.linePts,t,e,o);o[0]>this.distanceTolerance&&(s=!1);var u=new he;if(u.p0=this.linePts[t],u.p1=this.linePts[e],i[0]=t,i[1]=e,this.hasBadIntersection(this.line,i,u)&&(s=!1),s){var r=this.flatten(t,e);return this.line.addToResult(r),null}this.simplifySection(t,a,n),this.simplifySection(a,e,n)},hasBadOutputIntersection:function(t){for(var e=this.outputIndex.query(t),n=e.iterator();n.hasNext();){var i=n.next();if(this.hasInteriorIntersection(i,t))return!0}return!1},findFurthestPoint:function(t,e,n,i){var r=new he;r.p0=t[e],r.p1=t[n];for(var s=-1,o=e,a=e+1;a<n;a++){var u=t[a],l=r.distance(u);l>s&&(s=l,o=a)}return i[0]=s,o},simplify:function(t){this.line=t,this.linePts=t.getParentCoordinates(),this.simplifySection(0,this.linePts.length-1,0)},remove:function(t,e,n){for(var i=e;i<n;i++){var r=t.getSegment(i);this.inputIndex.remove(r)}},hasInteriorIntersection:function(t,e){return this.li.computeIntersection(t.p0,t.p1,e.p0,e.p1),this.li.isInteriorIntersection()},hasBadInputIntersection:function(t,e,n){for(var i=this.inputIndex.query(n),r=i.iterator();r.hasNext();){var s=r.next();if(this.hasInteriorIntersection(s,n)){if(ys.isInLineSection(t,e,s))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return ys}}),ys.isInLineSection=function(t,e,n){if(n.getParent()!==t.getParent())return!1;var i=n.getIndex();return i>=e[0]&&i<e[1]},e(xs.prototype,{setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(t){for(var e=t.iterator();e.hasNext();)this.inputIndex.add(e.next());for(var e=t.iterator();e.hasNext();){var n=new ys(this.inputIndex,this.outputIndex);n.setDistanceTolerance(this.distanceTolerance),n.simplify(e.next())}},interfaces_:function(){return[]},getClass:function(){return xs}}),e(Es.prototype,{getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():(this.linestringMap=new $t,this.inputGeom.apply(new Ns(this)),this.lineSimplifier.simplify(this.linestringMap.values()),new Is(this.linestringMap).transform(this.inputGeom))},setDistanceTolerance:function(t){if(t<0)throw new i("Tolerance must be non-negative");this.lineSimplifier.setDistanceTolerance(t)},interfaces_:function(){return[]},getClass:function(){return Es}}),Es.simplify=function(t,e){var n=new Es(t);return n.setDistanceTolerance(e),n.getResultGeometry()},h(Is,ye),e(Is.prototype,{transformCoordinates:function(t,e){if(0===t.size())return null;if(e instanceof St){var n=this.linestringMap.get(e);return this.createCoordinateSequence(n.getResultCoordinates())}return ye.prototype.transformCoordinates.call(this,t,e)},interfaces_:function(){return[]},getClass:function(){return Is}}),e(Ns.prototype,{filter:function(t){if(t instanceof St){var e=t;if(e.isEmpty())return null;var n=e.isClosed()?4:2,i=new ps(e,n);this.tps.linestringMap.put(e,i)}},interfaces_:function(){return[q]},getClass:function(){return Ns}}),Es.LineStringTransformer=Is,Es.LineStringMapBuilderFilter=Ns;var _o=Object.freeze({DouglasPeuckerSimplifier:fs,TopologyPreservingSimplifier:Es});e(Cs.prototype,{splitAt:function(){if(1===arguments.length){var t=arguments[0],e=this.minimumLen/this.segLen;if(t.distance(this.seg.p0)<this.minimumLen)return this.splitPt=this.seg.pointAlong(e),null;if(t.distance(this.seg.p1)<this.minimumLen)return this.splitPt=Cs.pointAlongReverse(this.seg,e),null;this.splitPt=t}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=this.getConstrainedLength(n),s=r/this.segLen;i.equals2D(this.seg.p0)?this.splitPt=this.seg.pointAlong(s):this.splitPt=Cs.pointAlongReverse(this.seg,s)}},setMinimumLength:function(t){this.minimumLen=t},getConstrainedLength:function(t){return t<this.minimumLen?this.minimumLen:t},getSplitPoint:function(){return this.splitPt},interfaces_:function(){return[]},getClass:function(){return Cs}}),Cs.pointAlongReverse=function(t,e){var n=new g;return n.x=t.p1.x-e*(t.p1.x-t.p0.x),n.y=t.p1.y-e*(t.p1.y-t.p0.y),n},e(Ss.prototype,{findSplitPoint:function(t,e){},interfaces_:function(){return[]},getClass:function(){return Ss}}),e(ws.prototype,{findSplitPoint:function(t,e){var n=t.getLineSegment(),i=n.getLength(),r=i/2,s=new Cs(n),o=ws.projectedSplitPoint(t,e),a=2*o.distance(e)*.8,u=a;return u>r&&(u=r),s.setMinimumLength(u),s.splitAt(o),s.getSplitPoint()},interfaces_:function(){return[Ss]},getClass:function(){return ws}}),ws.projectedSplitPoint=function(t,e){return t.getLineSegment().project(e)},e(Ls.prototype,{interfaces_:function(){return[]},getClass:function(){return Ls}}),Ls.triArea=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},Ls.isInCircleDDNormalized=function(t,e,n,i){var r=_.valueOf(t.x).selfSubtract(i.x),s=_.valueOf(t.y).selfSubtract(i.y),o=_.valueOf(e.x).selfSubtract(i.x),a=_.valueOf(e.y).selfSubtract(i.y),u=_.valueOf(n.x).selfSubtract(i.x),l=_.valueOf(n.y).selfSubtract(i.y),h=r.multiply(a).selfSubtract(o.multiply(s)),c=o.multiply(l).selfSubtract(u.multiply(a)),f=u.multiply(s).selfSubtract(r.multiply(l)),g=r.multiply(r).selfAdd(s.multiply(s)),d=o.multiply(o).selfAdd(a.multiply(a)),p=u.multiply(u).selfAdd(l.multiply(l));return g.selfMultiply(c).selfAdd(d.selfMultiply(f)).selfAdd(p.selfMultiply(h)).doubleValue()>0},Ls.checkRobustInCircle=function(t,e,n,i){var r=Ls.isInCircleNonRobust(t,e,n,i),s=Ls.isInCircleDDSlow(t,e,n,i),o=Ls.isInCircleCC(t,e,n,i),a=Ci.circumcentre(t,e,n);A.out.println("p radius diff a = "+Math.abs(i.distance(a)-t.distance(a))/t.distance(a)),r===s&&r===o||(A.out.println("inCircle robustness failure (double result = "+r+", DD result = "+s+", CC result = "+o+")"),A.out.println(re.toLineString(new Gt([t,e,n,i]))),A.out.println("Circumcentre = "+re.toPoint(a)+" radius = "+t.distance(a)),A.out.println("p radius diff a = "+Math.abs(i.distance(a)/t.distance(a)-1)),A.out.println("p radius diff b = "+Math.abs(i.distance(a)/e.distance(a)-1)),A.out.println("p radius diff c = "+Math.abs(i.distance(a)/n.distance(a)-1)),A.out.println())},Ls.isInCircleDDFast=function(t,e,n,i){var r=_.sqr(t.x).selfAdd(_.sqr(t.y)).selfMultiply(Ls.triAreaDDFast(e,n,i)),s=_.sqr(e.x).selfAdd(_.sqr(e.y)).selfMultiply(Ls.triAreaDDFast(t,n,i)),o=_.sqr(n.x).selfAdd(_.sqr(n.y)).selfMultiply(Ls.triAreaDDFast(t,e,i)),a=_.sqr(i.x).selfAdd(_.sqr(i.y)).selfMultiply(Ls.triAreaDDFast(t,e,n));return r.selfSubtract(s).selfAdd(o).selfSubtract(a).doubleValue()>0},Ls.isInCircleCC=function(t,e,n,i){var r=Ci.circumcentre(t,e,n),s=t.distance(r);return i.distance(r)-s<=0},Ls.isInCircleNormalized=function(t,e,n,i){var r=t.x-i.x,s=t.y-i.y,o=e.x-i.x,a=e.y-i.y,u=n.x-i.x,l=n.y-i.y;return(r*r+s*s)*(o*l-u*a)+(o*o+a*a)*(u*s-r*l)+(u*u+l*l)*(r*a-o*s)>0},Ls.isInCircleDDSlow=function(t,e,n,i){var r=_.valueOf(i.x),s=_.valueOf(i.y),o=_.valueOf(t.x),a=_.valueOf(t.y),u=_.valueOf(e.x),l=_.valueOf(e.y),h=_.valueOf(n.x),c=_.valueOf(n.y),f=o.multiply(o).add(a.multiply(a)).multiply(Ls.triAreaDDSlow(u,l,h,c,r,s)),g=u.multiply(u).add(l.multiply(l)).multiply(Ls.triAreaDDSlow(o,a,h,c,r,s)),d=h.multiply(h).add(c.multiply(c)).multiply(Ls.triAreaDDSlow(o,a,u,l,r,s)),p=r.multiply(r).add(s.multiply(s)).multiply(Ls.triAreaDDSlow(o,a,u,l,h,c));return f.subtract(g).add(d).subtract(p).doubleValue()>0},Ls.isInCircleNonRobust=function(t,e,n,i){return(t.x*t.x+t.y*t.y)*Ls.triArea(e,n,i)-(e.x*e.x+e.y*e.y)*Ls.triArea(t,n,i)+(n.x*n.x+n.y*n.y)*Ls.triArea(t,e,i)-(i.x*i.x+i.y*i.y)*Ls.triArea(t,e,n)>0},Ls.isInCircleRobust=function(t,e,n,i){return Ls.isInCircleNormalized(t,e,n,i)},Ls.triAreaDDSlow=function(t,e,n,i,r,s){return n.subtract(t).multiply(s.subtract(e)).subtract(i.subtract(e).multiply(r.subtract(t)))},Ls.triAreaDDFast=function(t,e,n){var i=_.valueOf(e.x).selfSubtract(t.x).selfMultiply(_.valueOf(n.y).selfSubtract(t.y)),r=_.valueOf(e.y).selfSubtract(t.y).selfMultiply(_.valueOf(n.x).selfSubtract(t.x));return i.selfSubtract(r)},e(Rs.prototype,{circleCenter:function(t,e){var n=new Rs(this.getX(),this.getY()),i=this.bisector(n,t),r=this.bisector(t,e),s=new F(i,r),o=null;try{o=new Rs(s.getX(),s.getY())}catch(i){if(!(i instanceof w))throw i;A.err.println("a: "+n+"  b: "+t+"  c: "+e),A.err.println(i)}return o},dot:function(t){return this.p.x*t.getX()+this.p.y*t.getY()},magn:function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)},getZ:function(){return this.p.z},bisector:function(t,e){var n=e.getX()-t.getX(),i=e.getY()-t.getY()
;return new F(new F(t.getX()+n/2,t.getY()+i/2,1),new F(t.getX()-i+n/2,t.getY()+n+i/2,1))},equals:function(){if(1===arguments.length){var t=arguments[0];return this.p.x===t.getX()&&this.p.y===t.getY()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.p.distance(e.getCoordinate())<n}},getCoordinate:function(){return this.p},isInCircle:function(t,e,n){return Ls.isInCircleRobust(t.p,e.p,n.p,this.p)},interpolateZValue:function(t,e,n){var i=t.getX(),r=t.getY(),s=e.getX()-i,o=n.getX()-i,a=e.getY()-r,u=n.getY()-r,l=s*u-o*a,h=this.getX()-i,c=this.getY()-r,f=(u*h-o*c)/l,g=(-a*h+s*c)/l;return t.getZ()+f*(e.getZ()-t.getZ())+g*(n.getZ()-t.getZ())},midPoint:function(t){return new Rs((this.p.x+t.getX())/2,(this.p.y+t.getY())/2,(this.p.z+t.getZ())/2)},rightOf:function(t){return this.isCCW(t.dest(),t.orig())},isCCW:function(t,e){return(t.p.x-this.p.x)*(e.p.y-this.p.y)-(t.p.y-this.p.y)*(e.p.x-this.p.x)>0},getX:function(){return this.p.x},crossProduct:function(t){return this.p.x*t.getY()-this.p.y*t.getX()},setZ:function(t){this.p.z=t},times:function(t){return new Rs(t*this.p.x,t*this.p.y)},cross:function(){return new Rs(this.p.y,-this.p.x)},leftOf:function(t){return this.isCCW(t.orig(),t.dest())},toString:function(){return"POINT ("+this.p.x+" "+this.p.y+")"},sub:function(t){return new Rs(this.p.x-t.getX(),this.p.y-t.getY())},getY:function(){return this.p.y},classify:function(t,e){var n=this,i=e.sub(t),r=n.sub(t),s=i.crossProduct(r);return s>0?Rs.LEFT:s<0?Rs.RIGHT:i.getX()*r.getX()<0||i.getY()*r.getY()<0?Rs.BEHIND:i.magn()<r.magn()?Rs.BEYOND:t.equals(n)?Rs.ORIGIN:e.equals(n)?Rs.DESTINATION:Rs.BETWEEN},sum:function(t){return new Rs(this.p.x+t.getX(),this.p.y+t.getY())},distance:function(t,e){return Math.sqrt(Math.pow(e.getX()-t.getX(),2)+Math.pow(e.getY()-t.getY(),2))},circumRadiusRatio:function(t,e){var n=this.circleCenter(t,e),i=this.distance(n,t),r=this.distance(this,t),s=this.distance(t,e);return s<r&&(r=s),s=this.distance(e,this),s<r&&(r=s),i/r},interfaces_:function(){return[]},getClass:function(){return Rs}}),Rs.interpolateZ=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=e.distance(n),r=t.distance(e),s=n.z-e.z;return e.z+s*(r/i)}if(4===arguments.length){var o=arguments[0],a=arguments[1],u=arguments[2],l=arguments[3],h=a.x,c=a.y,f=u.x-h,g=l.x-h,d=u.y-c,p=l.y-c,m=f*p-g*d,v=o.x-h,y=o.y-c,x=(p*v-g*y)/m,E=(-d*v+f*y)/m;return a.z+x*(u.z-a.z)+E*(l.z-a.z)}},Rs.LEFT=0,Rs.RIGHT=1,Rs.BEYOND=2,Rs.BEHIND=3,Rs.BETWEEN=4,Rs.ORIGIN=5,Rs.DESTINATION=6,h(Ts,Rs),e(Ts.prototype,{getConstraint:function(){return this.constraint},setOnConstraint:function(t){this._isOnConstraint=t},merge:function(t){t._isOnConstraint&&(this._isOnConstraint=!0,this.constraint=t.constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(t){this._isOnConstraint=!0,this.constraint=t},interfaces_:function(){return[]},getClass:function(){return Ts}}),e(Ps.prototype,{equalsNonOriented:function(t){return!!this.equalsOriented(t)||!!this.equalsOriented(t.sym())},toLineSegment:function(){return new he(this.vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this.next},equalsOriented:function(t){return!(!this.orig().getCoordinate().equals2D(t.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(t.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this.next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot.next._rot},sym:function(){return this._rot._rot},setOrig:function(t){this.vertex=t},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(t){this.sym().setOrig(t)},setData:function(t){this.data=t},getData:function(){return this.data},delete:function(){this._rot=null},orig:function(){return this.vertex},rNext:function(){return this._rot.next.invRot()},toString:function(){var t=this.vertex.getCoordinate(),e=this.dest().getCoordinate();return re.toLineString(t,e)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(t){this.next=t},interfaces_:function(){return[]},getClass:function(){return Ps}}),Ps.makeEdge=function(t,e){var n=new Ps,i=new Ps,r=new Ps,s=new Ps;n._rot=i,i._rot=r,r._rot=s,s._rot=n,n.setNext(n),i.setNext(s),r.setNext(r),s.setNext(i);var o=n;return o.setOrig(t),o.setDest(e),o},Ps.swap=function(t){var e=t.oPrev(),n=t.sym().oPrev();Ps.splice(t,e),Ps.splice(t.sym(),n),Ps.splice(t,e.lNext()),Ps.splice(t.sym(),n.lNext()),t.setOrig(e.dest()),t.setDest(n.dest())},Ps.splice=function(t,e){var n=t.oNext().rot(),i=e.oNext().rot(),r=e.oNext(),s=t.oNext(),o=i.oNext(),a=n.oNext();t.setNext(r),e.setNext(s),n.setNext(o),i.setNext(a)},Ps.connect=function(t,e){var n=Ps.makeEdge(t.dest(),e.orig());return Ps.splice(n,t.lNext()),Ps.splice(n.sym(),e),n},e(bs.prototype,{insertSite:function(t){var e=this.subdiv.locate(t);if(this.subdiv.isVertexOfEdge(e,t))return e;this.subdiv.isOnEdge(e,t.getCoordinate())&&(e=e.oPrev(),this.subdiv.delete(e.oNext()));var n=this.subdiv.makeEdge(e.orig(),t);Ps.splice(n,e);var i=n;do{n=this.subdiv.connect(e,n.sym()),e=n.oPrev()}while(e.lNext()!==i);for(;;){var r=e.oPrev();if(r.dest().rightOf(e)&&t.isInCircle(e.orig(),r.dest(),e.dest()))Ps.swap(e),e=e.oPrev();else{if(e.oNext()===i)return n;e=e.oNext().lPrev()}}},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},interfaces_:function(){return[]},getClass:function(){return bs}}),e(Os.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return Os}}),e(_s.prototype,{init:function(){this.lastEdge=this.findEdge()},locate:function(t){this.lastEdge.isLive()||this.init();var e=this.subdiv.locateFromEdge(t,this.lastEdge);return this.lastEdge=e,e},findEdge:function(){return this.subdiv.getEdges().iterator().next()},interfaces_:function(){return[Os]},getClass:function(){return _s}}),h(Ms,l),e(Ms.prototype,{getSegment:function(){return this.seg},interfaces_:function(){return[]},getClass:function(){return Ms}}),Ms.msgWithSpatial=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(Ds.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return Ds}}),e(As.prototype,{getTriangleVertices:function(t){var e=new qs;return this.visitTriangles(e,t),e.getTriangleVertices()},isFrameVertex:function(t){return!!t.equals(this.frameVertex[0])||!!t.equals(this.frameVertex[1])||!!t.equals(this.frameVertex[2])},isVertexOfEdge:function(t,e){return!(!e.equals(t.orig(),this.tolerance)&&!e.equals(t.dest(),this.tolerance))},connect:function(t,e){var n=Ps.connect(t,e);return this.quadEdges.add(n),n},getVoronoiCellPolygon:function(t,e){var n=new I,i=t;do{var r=t.rot().orig().getCoordinate();n.add(r),t=t.oPrev()}while(t!==i);var s=new N;s.addAll(n,!1),s.closeRing(),s.size()<4&&(A.out.println(s),s.add(s.get(s.size()-1),!0));var o=s.toCoordinateArray(),a=e.createPolygon(e.createLinearRing(o),null),u=i.orig();return a.setUserData(u.getCoordinate()),a},setLocator:function(t){this.locator=t},initSubdiv:function(){var t=this.makeEdge(this.frameVertex[0],this.frameVertex[1]),e=this.makeEdge(this.frameVertex[1],this.frameVertex[2]);Ps.splice(t.sym(),e);var n=this.makeEdge(this.frameVertex[2],this.frameVertex[0]);return Ps.splice(e.sym(),n),Ps.splice(n.sym(),t),t},isFrameBorderEdge:function(t){var e=new Array(3).fill(null);As.getTriangleEdges(t,e);var n=new Array(3).fill(null);As.getTriangleEdges(t.sym(),n);var i=t.lNext().dest();if(this.isFrameVertex(i))return!0;var r=t.sym().lNext().dest();return!!this.isFrameVertex(r)},makeEdge:function(t,e){var n=Ps.makeEdge(t,e);return this.quadEdges.add(n),n},visitTriangles:function(t,e){this.visitedKey++;var n=new de;n.push(this.startingEdge);for(var i=new J;!n.empty();){var r=n.pop();if(!i.contains(r)){var s=this.fetchTriangleToVisit(r,n,e,i);null!==s&&t.visit(s)}}},isFrameEdge:function(t){return!(!this.isFrameVertex(t.orig())&&!this.isFrameVertex(t.dest()))},isOnEdge:function(t,e){return this.seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate()),this.seg.distance(e)<this.edgeCoincidenceTolerance},getEnvelope:function(){return new C(this.frameEnv)},createFrame:function(t){var e=t.getWidth(),n=t.getHeight(),i=0;i=e>n?10*e:10*n,this.frameVertex[0]=new Rs((t.getMaxX()+t.getMinX())/2,t.getMaxY()+i),this.frameVertex[1]=new Rs(t.getMinX()-i,t.getMinY()-i),this.frameVertex[2]=new Rs(t.getMaxX()+i,t.getMinY()-i),this.frameEnv=new C(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate()),this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())},getTriangleCoordinates:function(t){var e=new Bs;return this.visitTriangles(e,t),e.getTriangles()},getVertices:function(t){for(var e=new J,n=this.quadEdges.iterator();n.hasNext();){var i=n.next(),r=i.orig();!t&&this.isFrameVertex(r)||e.add(r);var s=i.dest();!t&&this.isFrameVertex(s)||e.add(s)}return e},fetchTriangleToVisit:function(t,e,n,i){var r=t,s=0,o=!1;do{this.triEdges[s]=r,this.isFrameEdge(r)&&(o=!0);var a=r.sym();i.contains(a)||e.push(a),i.add(r),s++,r=r.lNext()}while(r!==t);return o&&!n?null:this.triEdges},getEdges:function(){if(0===arguments.length)return this.quadEdges;if(1===arguments.length){for(var t=arguments[0],e=this.getPrimaryEdges(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var s=r.next();n[i++]=t.createLineString([s.orig().getCoordinate(),s.dest().getCoordinate()])}return t.createMultiLineString(n)}},getVertexUniqueEdges:function(t){for(var e=new I,n=new J,i=this.quadEdges.iterator();i.hasNext();){var r=i.next(),s=r.orig();n.contains(s)||(n.add(s),!t&&this.isFrameVertex(s)||e.add(r));var o=r.sym(),a=o.orig();n.contains(a)||(n.add(a),!t&&this.isFrameVertex(a)||e.add(o))}return e},getTriangleEdges:function(t){var e=new Gs;return this.visitTriangles(e,t),e.getTriangleEdges()},getPrimaryEdges:function(t){this.visitedKey++;var e=new I,n=new de;n.push(this.startingEdge);for(var i=new J;!n.empty();){var r=n.pop();if(!i.contains(r)){var s=r.getPrimary();!t&&this.isFrameEdge(s)||e.add(s),n.push(r.oNext()),n.push(r.sym().oNext()),i.add(r),i.add(r.sym())}}return e},delete:function(t){Ps.splice(t,t.oPrev()),Ps.splice(t.sym(),t.sym().oPrev());var e=t.sym(),n=t.rot(),i=t.rot().sym();this.quadEdges.remove(t),this.quadEdges.remove(e),this.quadEdges.remove(n),this.quadEdges.remove(i),t.delete(),e.delete(),n.delete(),i.delete()},locateFromEdge:function(t,e){for(var n=0,i=this.quadEdges.size(),r=e;;){if(++n>i)throw new Ms(r.toLineSegment());if(t.equals(r.orig())||t.equals(r.dest()))break;if(t.rightOf(r))r=r.sym();else if(t.rightOf(r.oNext())){if(t.rightOf(r.dPrev()))break;r=r.dPrev()}else r=r.oNext()}return r},getTolerance:function(){return this.tolerance},getVoronoiCellPolygons:function(t){this.visitTriangles(new Fs,!0);for(var e=new I,n=this.getVertexUniqueEdges(!1),i=n.iterator();i.hasNext();){var r=i.next();e.add(this.getVoronoiCellPolygon(r,t))}return e},getVoronoiDiagram:function(t){var e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(ne.toGeometryArray(e))},getTriangles:function(t){for(var e=this.getTriangleCoordinates(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var s=r.next();n[i++]=t.createPolygon(t.createLinearRing(s),null)}return t.createGeometryCollection(n)},insertSite:function(t){var e=this.locate(t);if(t.equals(e.orig(),this.tolerance)||t.equals(e.dest(),this.tolerance))return e;var n=this.makeEdge(e.orig(),t);Ps.splice(n,e);var i=n;do{n=this.connect(e,n.sym()),e=n.oPrev()}while(e.lNext()!==i);return i},locate:function(){if(1===arguments.length){if(arguments[0]instanceof Rs){var t=arguments[0];return this.locator.locate(t)}if(arguments[0]instanceof g){var e=arguments[0];return this.locator.locate(new Rs(e))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=this.locator.locate(new Rs(n));if(null===r)return null;var s=r;r.dest().getCoordinate().equals2D(n)&&(s=r.sym());var o=s;do{if(o.dest().getCoordinate().equals2D(i))return o;o=o.oNext()}while(o!==s);return null}},interfaces_:function(){return[]},getClass:function(){return As}}),As.getTriangleEdges=function(t,e){if(e[0]=t,e[1]=e[0].lNext(),e[2]=e[1].lNext(),e[2].lNext()!==e[0])throw new i("Edges do not form a triangle")},e(Fs.prototype,{visit:function(t){for(var e=t[0].orig().getCoordinate(),n=t[1].orig().getCoordinate(),i=t[2].orig().getCoordinate(),r=Ci.circumcentre(e,n,i),s=new Rs(r),o=0;o<3;o++)t[o].rot().setOrig(s)},interfaces_:function(){return[Ds]},getClass:function(){return Fs}}),e(Gs.prototype,{getTriangleEdges:function(){return this.triList},visit:function(t){this.triList.add(t.clone())},interfaces_:function(){return[Ds]},getClass:function(){return Gs}}),e(qs.prototype,{visit:function(t){this.triList.add([t[0].orig(),t[1].orig(),t[2].orig()])},getTriangleVertices:function(){return this.triList},interfaces_:function(){return[Ds]},getClass:function(){return qs}}),e(Bs.prototype,{checkTriangleSize:function(t){t.length>=2?re.toLineString(t[0],t[1]):t.length>=1&&re.toPoint(t[0])},visit:function(t){this.coordList.clear();for(var e=0;e<3;e++){var n=t[e].orig();this.coordList.add(n.getCoordinate())}if(this.coordList.size()>0){this.coordList.closeRing();var i=this.coordList.toCoordinateArray();if(4!==i.length)return null;this.triCoords.add(i)}},getTriangles:function(){return this.triCoords},interfaces_:function(){return[Ds]},getClass:function(){return Bs}}),As.TriangleCircumcentreVisitor=Fs,As.TriangleEdgesListVisitor=Gs,As.TriangleVertexListVisitor=qs,As.TriangleCoordinatesVisitor=Bs,As.EDGE_COINCIDENCE_TOL_FACTOR=1e3,e(zs.prototype,{getLineSegment:function(){return this.ls},getEndZ:function(){return this.ls.getCoordinate(1).z},getStartZ:function(){return this.ls.getCoordinate(0).z},intersection:function(t){return this.ls.intersection(t.getLineSegment())},getStart:function(){return this.ls.getCoordinate(0)},getEnd:function(){return this.ls.getCoordinate(1)},getEndY:function(){return this.ls.getCoordinate(1).y},getStartX:function(){return this.ls.getCoordinate(0).x},equalsTopo:function(t){return this.ls.equalsTopo(t.getLineSegment())},getStartY:function(){return this.ls.getCoordinate(0).y},setData:function(t){this.data=t},getData:function(){return this.data},getEndX:function(){return this.ls.getCoordinate(1).x},toString:function(){return this.ls.toString()},interfaces_:function(){return[]},getClass:function(){return zs}}),e(Vs.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return Vs}}),e(ks.prototype,{isRepeated:function(){return this.count>1},getRight:function(){return this.right},getCoordinate:function(){return this.p},setLeft:function(t){this.left=t},getX:function(){return this.p.x},getData:function(){return this.data},getCount:function(){return this.count},getLeft:function(){return this.left},getY:function(){return this.p.y},increment:function(){this.count=this.count+1},setRight:function(t){this.right=t},interfaces_:function(){return[]},getClass:function(){return ks}}),e(Ys.prototype,{insert:function(){if(1===arguments.length){var t=arguments[0];return this.insert(t,null)}if(2===arguments.length){var e=arguments[0],n=arguments[1];if(null===this.root)return this.root=new ks(e,n),this.root;if(this.tolerance>0){var i=this.findBestMatchNode(e);if(null!==i)return i.increment(),i}return this.insertExact(e,n)}},query:function(){var t=arguments,e=this;if(1===arguments.length){var n=arguments[0],i=new I;return this.query(n,i),i}if(2===arguments.length)if(arguments[0]instanceof C&&R(arguments[1],y))!function(){var n=t[0],i=t[1];e.queryNode(e.root,n,!0,{interfaces_:function(){return[Vs]},visit:function(t){i.add(t)}})}();else if(arguments[0]instanceof C&&R(arguments[1],Vs)){var r=arguments[0],s=arguments[1];this.queryNode(this.root,r,!0,s)}},queryNode:function(t,e,n,i){if(null===t)return null;var r=null,s=null,o=null;n?(r=e.getMinX(),s=e.getMaxX(),o=t.getX()):(r=e.getMinY(),s=e.getMaxY(),o=t.getY());var a=r<o,u=o<=s;a&&this.queryNode(t.getLeft(),e,!n,i),e.contains(t.getCoordinate())&&i.visit(t),u&&this.queryNode(t.getRight(),e,!n,i)},findBestMatchNode:function(t){var e=new Us(t,this.tolerance);return this.query(e.queryEnvelope(),e),e.getNode()},isEmpty:function(){return null===this.root},insertExact:function(t,e){for(var n=this.root,i=this.root,r=!0,s=!0;null!==n;){if(null!==n){if(t.distance(n.getCoordinate())<=this.tolerance)return n.increment(),n}s=r?t.x<n.getX():t.y<n.getY(),i=n,n=s?n.getLeft():n.getRight(),r=!r}this.numberOfNodes=this.numberOfNodes+1;var o=new ks(t,e);return s?i.setLeft(o):i.setRight(o),o},interfaces_:function(){return[]},getClass:function(){return Ys}}),Ys.toCoordinates=function(){if(1===arguments.length){var t=arguments[0];return Ys.toCoordinates(t,!1)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new N,r=e.iterator();r.hasNext();)for(var s=r.next(),o=n?s.getCount():1,a=0;a<o;a++)i.add(s.getCoordinate(),!0);return i.toCoordinateArray()}},e(Us.prototype,{visit:function(t){var e=this.p.distance(t.getCoordinate());if(!(e<=this.tolerance))return null;var n=!1;(null===this.matchNode||e<this.matchDist||null!==this.matchNode&&e===this.matchDist&&t.getCoordinate().compareTo(this.matchNode.getCoordinate())<1)&&(n=!0),n&&(this.matchNode=t,this.matchDist=e)},queryEnvelope:function(){var t=new C(this.p);return t.expandBy(this.tolerance),t},getNode:function(){return this.matchNode},interfaces_:function(){return[Vs]},getClass:function(){return Us}}),Ys.BestMatchVisitor=Us,e(Xs.prototype,{getInitialVertices:function(){return this.initialVertices},getKDT:function(){return this.kdt},enforceConstraints:function(){this.addConstraintVertices();var t=0,e=0;do{e=this.enforceGabriel(this.segments),t++}while(e>0&&t<Xs.MAX_SPLIT_ITER)},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},getVertexFactory:function(){return this.vertexFactory},getPointArray:function(){for(var t=new Array(this.initialVertices.size()+this.segVertices.size()).fill(null),e=0,n=this.initialVertices.iterator();n.hasNext();){var i=n.next();t[e++]=i.getCoordinate()}for(var r=this.segVertices.iterator();r.hasNext();){var i=r.next();t[e++]=i.getCoordinate()}return t},setConstraints:function(t,e){this.segments=t,this.segVertices=e},computeConvexHull:function(){var t=new ne,e=this.getPointArray(),n=new me(e,t);this.convexHull=n.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this.segVertices)},findNonGabrielPoint:function(t){var e=t.getStart(),n=t.getEnd(),i=new g((e.x+n.x)/2,(e.y+n.y)/2),s=e.distance(i),o=new C(i);o.expandBy(s);for(var a=this.kdt.query(o),u=null,l=r.MAX_VALUE,h=a.iterator();h.hasNext();){var c=h.next(),f=c.getCoordinate();if(!f.equals2D(e)&&!f.equals2D(n)){var d=i.distance(f);if(d<s){var p=d;(null===u||p<l)&&(u=f,l=p)}}}return u},getConstraintSegments:function(){return this.segments},setSplitPointFinder:function(t){this.splitFinder=t},getConvexHull:function(){return this.convexHull},getTolerance:function(){return this.tolerance},enforceGabriel:function(t){for(var e=new I,n=0,i=new I,r=t.iterator();r.hasNext();){var s=r.next(),o=this.findNonGabrielPoint(s);if(null!==o){this.splitPt=this.splitFinder.findSplitPoint(s,o);var a=this.createVertex(this.splitPt,s),u=(this.insertSite(a),new zs(s.getStartX(),s.getStartY(),s.getStartZ(),a.getX(),a.getY(),a.getZ(),s.getData())),l=new zs(a.getX(),a.getY(),a.getZ(),s.getEndX(),s.getEndY(),s.getEndZ(),s.getData());e.add(u),e.add(l),i.add(s),n+=1}}return t.removeAll(i),t.addAll(e),n},createVertex:function(){if(1===arguments.length){var t=arguments[0],e=null;return e=null!==this.vertexFactory?this.vertexFactory.createVertex(t,null):new Ts(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=null;return e=null!==this.vertexFactory?this.vertexFactory.createVertex(n,i):new Ts(n),e.setOnConstraint(!0),e}},getSubdivision:function(){return this.subdiv},computeBoundingBox:function(){var t=Xs.computeVertexEnvelope(this.initialVertices),e=Xs.computeVertexEnvelope(this.segVertices),n=new C(t);n.expandToInclude(e);var i=.2*n.getWidth(),r=.2*n.getHeight(),s=Math.max(i,r);this.computeAreaEnv=new C(n),this.computeAreaEnv.expandBy(s)},setVertexFactory:function(t){this.vertexFactory=t},formInitialDelaunay:function(){this.computeBoundingBox(),this.subdiv=new As(this.computeAreaEnv,this.tolerance),this.subdiv.setLocator(new _s(this.subdiv)),this.incDel=new bs(this.subdiv),this.insertSites(this.initialVertices)},insertSite:function(){if(arguments[0]instanceof Ts){var t=arguments[0],e=this.kdt.insert(t.getCoordinate(),t);if(e.isRepeated()){var n=e.getData();return n.merge(t),n}return this.incDel.insertSite(t),t}if(arguments[0]instanceof g){var i=arguments[0];this.insertSite(this.createVertex(i))}},interfaces_:function(){return[]},getClass:function(){return Xs}}),Xs.computeVertexEnvelope=function(t){for(var e=new C,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i.getCoordinate())}return e},Xs.MAX_SPLIT_ITER=99,e(Hs.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Hs.envelope(this.siteCoords),e=Hs.toVertices(this.siteCoords);this.subdiv=new As(t,this.tolerance),new bs(this.subdiv).insertSites(e)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof B){var t=arguments[0];this.siteCoords=Hs.extractUniqueCoordinates(t)}else if(R(arguments[0],m)){var e=arguments[0];this.siteCoords=Hs.unique(H.toCoordinateArray(e))}},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},interfaces_:function(){return[]},getClass:function(){return Hs}}),Hs.extractUniqueCoordinates=function(t){if(null===t)return new N;var e=t.getCoordinates();return Hs.unique(e)},Hs.envelope=function(t){for(var e=new C,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i)}return e},Hs.unique=function(t){var e=H.copyDeep(t);return ut.sort(e),new N(e,!1)},Hs.toVertices=function(t){for(var e=new I,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Rs(i))}return e},e(Ws.prototype,{createSiteVertices:function(t){for(var e=new I,n=t.iterator();n.hasNext();){var i=n.next();this.constraintVertexMap.containsKey(i)||e.add(new Ts(i))}return e},create:function(){if(null!==this.subdiv)return null;var t=Hs.envelope(this.siteCoords),e=new I;null!==this.constraintLines&&(t.expandToInclude(this.constraintLines.getEnvelopeInternal()),this.createVertices(this.constraintLines),e=Ws.createConstraintSegments(this.constraintLines));var n=this.createSiteVertices(this.siteCoords),i=new Xs(n,this.tolerance);i.setConstraints(e,new I(this.constraintVertexMap.values())),i.formInitialDelaunay(),i.enforceConstraints(),this.subdiv=i.getSubdivision()},setTolerance:function(t){this.tolerance=t},setConstraints:function(t){this.constraintLines=t},setSites:function(t){this.siteCoords=Hs.extractUniqueCoordinates(t)},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},createVertices:function(t){for(var e=t.getCoordinates(),n=0;n<e.length;n++){var i=new Ts(e[n]);this.constraintVertexMap.put(e[n],i)}},interfaces_:function(){return[]},getClass:function(){return Ws}}),Ws.createConstraintSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=Vn.getLines(t),n=new I,i=e.iterator();i.hasNext();){var r=i.next();Ws.createConstraintSegments(r,n)}return n}if(2===arguments.length)for(var s=arguments[0],o=arguments[1],a=s.getCoordinates(),i=1;i<a.length;i++)o.add(new zs(a[i-1],a[i]))},e(js.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Hs.envelope(this.siteCoords);this.diagramEnv=t;var e=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(e),null!==this.clipEnv&&this.diagramEnv.expandToInclude(this.clipEnv);var n=Hs.toVertices(this.siteCoords);this.subdiv=new As(t,this.tolerance),new bs(this.subdiv).insertSites(n)},getDiagram:function(t){this.create();var e=this.subdiv.getVoronoiDiagram(t);return js.clipGeometryCollection(e,this.diagramEnv)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof B){var t=arguments[0];this.siteCoords=Hs.extractUniqueCoordinates(t)}else if(R(arguments[0],m)){var e=arguments[0];this.siteCoords=Hs.unique(H.toCoordinateArray(e))}},setClipEnvelope:function(t){this.clipEnv=t},getSubdivision:function(){return this.create(),this.subdiv},interfaces_:function(){return[]},getClass:function(){return js}}),js.clipGeometryCollection=function(t,e){for(var n=t.getFactory().toGeometry(e),i=new I,r=0;r<t.getNumGeometries();r++){var s=t.getGeometryN(r),o=null;e.contains(s.getEnvelopeInternal())?o=s:e.intersects(s.getEnvelopeInternal())&&(o=n.intersection(s),o.setUserData(s.getUserData())),null===o||o.isEmpty()||i.add(o)}return t.getFactory().createGeometryCollection(ne.toGeometryArray(i))};var Mo=Object.freeze({Vertex:Rs}),Do=Object.freeze({ConformingDelaunayTriangulationBuilder:Ws,DelaunayTriangulationBuilder:Hs,VoronoiDiagramBuilder:js,quadedge:Mo});e(Ks.prototype,{interfaces_:function(){return[]},getClass:function(){return Ks}}),Ks.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ni.createEmptyResult(ni.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ri.overlayOp(t,e,ni.UNION)},e(B.prototype,{equalsTopo:function(t){return!!this.getEnvelopeInternal().equals(t.getEnvelopeInternal())&&is.relate(this,t).isEquals(this.getDimension(),t.getDimension())},union:function(){if(0===arguments.length)return us.union(this);if(1===arguments.length){var t=arguments[0];return Ks.union(this,t)}},isValid:function(){return Yr.isValid(this)},intersection:function(t){if(this.isEmpty()||t.isEmpty())return ni.createEmptyResult(ni.INTERSECTION,this,t,this.factory);if(this.isGeometryCollection()){var e=t;return ln.map(this,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(e)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),ri.overlayOp(this,t,ni.INTERSECTION)},covers:function(t){return is.covers(this,t)},coveredBy:function(t){return is.coveredBy(this,t)},touches:function(t){return is.touches(this,t)},intersects:function(t){return is.intersects(this,t)},within:function(t){return is.within(this,t)},overlaps:function(t){return is.overlaps(this,t)},disjoint:function(t){return is.disjoint(this,t)},crosses:function(t){return is.crosses(this,t)},buffer:function(){if(1===arguments.length){var t=arguments[0];return gr.bufferOp(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return gr.bufferOp(this,e,n)}if(3===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2];return gr.bufferOp(this,i,r,s)}},convexHull:function(){return new me(this).getConvexHull()},relate:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return is.relate.apply(is,[this].concat(e))},getCentroid:function(){if(this.isEmpty())return this.factory.createPoint();var t=fe.getCentroid(this);return this.createPointFromInternalCoord(t,this)},getInteriorPoint:function(){if(this.isEmpty())return this.factory.createPoint();var t=null,e=this.getDimension();if(0===e){var n=new ui(this);t=n.getInteriorPoint()}else if(1===e){var n=new ai(this);t=n.getInteriorPoint()}else{var n=new si(this);t=n.getInteriorPoint()}return this.createPointFromInternalCoord(t,this)},symDifference:function(t){if(this.isEmpty()||t.isEmpty()){if(this.isEmpty()&&t.isEmpty())return ni.createEmptyResult(ni.SYMDIFFERENCE,this,t,this.factory);if(this.isEmpty())return t.copy();if(t.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),ri.overlayOp(this,t,ni.SYMDIFFERENCE)},createPointFromInternalCoord:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},toText:function(){return(new re).write(this)},toString:function(){this.toText()},contains:function(t){return is.contains(this,t)},difference:function(t){return this.isEmpty()?ni.createEmptyResult(ni.DIFFERENCE,this,t,this.factory):t.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),ri.overlayOp(this,t,ni.DIFFERENCE))},isSimple:function(){return new Hi(this).isSimple()},isWithinDistance:function(t,e){return!(this.getEnvelopeInternal().distance(t.getEnvelopeInternal())>e)&&yr.isWithinDistance(this,t,e)},distance:function(t){return yr.distance(this,t)},isEquivalentClass:function(t){return this.getClass()===t.getClass()}});t.version="1.3.0 (6e65adb)",t.algorithm=lo,t.densify=ho,t.dissolve=co,t.geom=ao,t.geomgraph=fo,t.index=mo,t.io=Eo,t.noding=Io,t.operation=bo,t.precision=Oo,t.simplify=_o,t.triangulate=Do,Object.defineProperty(t,"__esModule",{value:!0})});

},{}],153:[function(require,module,exports){
"use strict";function lineclip(e,i,n){var t,l,o,r,p,u=e.length,c=bitCode(e[0],i),s=[];for(n||(n=[]),t=1;t<u;t++){for(l=e[t-1],o=e[t],r=p=bitCode(o,i);;){if(!(c|r)){s.push(l),r!==p?(s.push(o),t<u-1&&(n.push(s),s=[])):t===u-1&&s.push(o);break}if(c&r)break;c?(l=intersect(l,o,c,i),c=bitCode(l,i)):(o=intersect(l,o,r,i),r=bitCode(o,i))}c=p}return s.length&&n.push(s),n}function polygonclip(e,i){var n,t,l,o,r,p,u;for(t=1;t<=8;t*=2){for(n=[],l=e[e.length-1],o=!(bitCode(l,i)&t),r=0;r<e.length;r++)p=e[r],u=!(bitCode(p,i)&t),u!==o&&n.push(intersect(l,p,t,i)),u&&n.push(p),l=p,o=u;if(e=n,!e.length)break}return n}function intersect(e,i,n,t){return 8&n?[e[0]+(i[0]-e[0])*(t[3]-e[1])/(i[1]-e[1]),t[3]]:4&n?[e[0]+(i[0]-e[0])*(t[1]-e[1])/(i[1]-e[1]),t[1]]:2&n?[t[2],e[1]+(i[1]-e[1])*(t[2]-e[0])/(i[0]-e[0])]:1&n?[t[0],e[1]+(i[1]-e[1])*(t[0]-e[0])/(i[0]-e[0])]:null}function bitCode(e,i){var n=0;return e[0]<i[0]?n|=1:e[0]>i[2]&&(n|=2),e[1]<i[1]?n|=4:e[1]>i[3]&&(n|=8),n}module.exports=lineclip,lineclip.polyline=lineclip,lineclip.polygon=polygonclip;
},{}],154:[function(require,module,exports){
!function(t,o){"function"==typeof define&&define.amd?define([],function(){return{isoBands:o()}}):"object"==typeof module&&module.exports?module.exports={isoBands:o()}:t.MarchingSquaresJS={isoBands:o(),isoContours:t.MarchingSquaresJS?t.MarchingSquaresJS.isoContours:null}}(this,function(){function t(t,o,e,u){u=u||{};for(var p=Object.keys(l),h=0;h<p.length;h++){var i=p[h],a=u[i];a=void 0!==a&&null!==a?a:l[i],f[i]=a}f.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+o+":"+(o+e)+"]");var c,g=r(t,o,e);return f.polygons?(f.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),c=n(g)):(f.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),c=s(g)),"function"==typeof f.successCallback&&f.successCallback(c),c}function o(t,o,e){return(t-o)/(e-o)}function e(t){return t.constructor.toString().indexOf("Array")>-1}function r(t,e,r){for(var s=t.length-1,u=t[0].length-1,p={rows:s,cols:u,cells:[]},h=e+Math.abs(r),i=0;i<s;++i){p.cells[i]=[];for(var n=0;n<u;++n){var l=0,f=t[i+1][n],a=t[i+1][n+1],c=t[i][n+1],g=t[i][n];if(!(isNaN(f)||isNaN(a)||isNaN(c)||isNaN(g))){l|=f<e?0:f>h?128:64,l|=a<e?0:a>h?32:16,l|=c<e?0:c>h?8:4,l|=g<e?0:g>h?2:1;var b=+l,m=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var d=(f+a+c+g)/4;m=d>h?2:d<e?0:1,34===l?1===m?l=35:0===m&&(l=136):136===l?1===m?(l=35,m=4):0===m&&(l=34):17===l?1===m?(l=155,m=4):0===m&&(l=153):68===l?1===m?(l=103,m=4):0===m&&(l=102):153===l?1===m&&(l=155):102===l?1===m&&(l=103):152===l?m<2&&(l=156,m=1):137===l?m<2&&(l=139,m=1):98===l?m<2&&(l=99,m=1):38===l?m<2&&(l=39,m=1):18===l?m>0?(l=156,m=4):l=152:33===l?m>0?(l=139,m=4):l=137:72===l?m>0?(l=99,m=4):l=98:132===l&&(m>0?(l=39,m=4):l=38)}if(0!=l&&170!=l){var y,x,k,v,S,w,M,q;y=x=k=v=S=w=M=q=.5;var B=[];1===l?(k=1-o(e,c,g),q=1-o(e,f,g),B.push(jt[l])):169===l?(k=o(h,g,c),q=o(h,g,f),B.push(jt[l])):4===l?(w=1-o(e,a,c),v=o(e,g,c),B.push(Jt[l])):166===l?(w=o(h,c,a),v=1-o(h,c,g),B.push(Jt[l])):16===l?(S=o(e,c,a),x=o(e,f,a),B.push(Bt[l])):154===l?(S=1-o(h,a,c),x=1-o(h,a,f),B.push(Bt[l])):64===l?(M=o(e,g,f),y=1-o(e,a,f),B.push(_t[l])):106===l?(M=1-o(h,f,g),y=o(h,f,a),B.push(_t[l])):168===l?(v=o(h,g,c),k=o(e,g,c),q=o(e,g,f),M=o(h,g,f),B.push(Nt[l]),B.push(jt[l])):2===l?(v=1-o(e,c,g),k=1-o(h,c,g),q=1-o(h,f,g),M=1-o(e,f,g),B.push(Nt[l]),B.push(jt[l])):162===l?(S=o(h,c,a),w=o(e,c,a),v=1-o(e,c,g),k=1-o(h,c,g),B.push(Nt[l]),B.push(jt[l])):8===l?(S=1-o(e,a,c),w=1-o(h,a,c),v=o(h,g,c),k=o(e,g,c),B.push(Bt[l]),B.push(Jt[l])):138===l?(S=1-o(e,a,c),w=1-o(h,a,c),y=1-o(h,a,f),x=1-o(e,a,f),B.push(Bt[l]),B.push(Jt[l])):32===l?(S=o(h,c,a),w=o(e,c,a),y=o(e,f,a),x=o(h,f,a),B.push(Bt[l]),B.push(Jt[l])):42===l?(q=1-o(h,f,g),M=1-o(e,f,g),y=o(e,f,a),x=o(h,f,a),B.push(Et[l]),B.push(_t[l])):128===l&&(q=o(e,g,f),M=o(h,g,f),y=1-o(h,a,f),x=1-o(e,a,f),B.push(Et[l]),B.push(_t[l])),5===l?(w=1-o(e,a,c),q=1-o(e,f,g),B.push(Jt[l])):165===l?(w=o(h,c,a),q=o(h,g,f),B.push(Jt[l])):20===l?(v=o(e,g,c),x=o(e,f,a),B.push(Nt[l])):150===l?(v=1-o(h,c,g),x=1-o(h,a,f),B.push(Nt[l])):80===l?(S=o(e,c,a),M=o(e,g,f),B.push(Bt[l])):90===l?(S=1-o(h,a,c),M=1-o(h,f,g),B.push(Bt[l])):65===l?(k=1-o(e,c,g),y=1-o(e,a,f),B.push(jt[l])):105===l?(k=o(h,g,c),y=o(h,f,a),B.push(jt[l])):160===l?(S=o(h,c,a),w=o(e,c,a),q=o(e,g,f),M=o(h,g,f),B.push(Bt[l]),B.push(Jt[l])):10===l?(S=1-o(e,a,c),w=1-o(h,a,c),q=1-o(h,f,g),M=1-o(e,f,g),B.push(Bt[l]),B.push(Jt[l])):130===l?(v=1-o(e,c,g),k=1-o(h,c,g),y=1-o(h,a,f),x=1-o(e,a,f),B.push(Nt[l]),B.push(jt[l])):40===l?(v=o(h,g,c),k=o(e,g,c),y=o(e,f,a),x=o(h,f,a),B.push(Nt[l]),B.push(jt[l])):101===l?(w=o(h,c,a),y=o(h,f,a),B.push(Jt[l])):69===l?(w=1-o(e,a,c),y=1-o(e,a,f),B.push(Jt[l])):149===l?(q=o(h,g,f),x=1-o(h,a,f),B.push(Et[l])):21===l?(q=1-o(e,f,g),x=o(e,f,a),B.push(Et[l])):86===l?(v=1-o(h,c,g),M=1-o(h,f,g),B.push(Nt[l])):84===l?(v=o(e,g,c),M=o(e,g,f),B.push(Nt[l])):89===l?(S=1-o(h,a,c),k=o(h,g,c),B.push(jt[l])):81===l?(S=o(e,c,a),k=1-o(e,c,g),B.push(jt[l])):96===l?(S=o(h,c,a),w=o(e,c,a),M=o(e,g,f),y=o(h,f,a),B.push(Bt[l]),B.push(Jt[l])):74===l?(S=1-o(e,a,c),w=1-o(h,a,c),M=1-o(h,f,g),y=1-o(e,a,f),B.push(Bt[l]),B.push(Jt[l])):24===l?(S=1-o(h,a,c),v=o(h,g,c),k=o(e,g,c),x=o(e,f,a),B.push(Bt[l]),B.push(jt[l])):146===l?(S=o(e,c,a),v=1-o(e,c,g),k=1-o(h,c,g),x=1-o(h,a,f),B.push(Bt[l]),B.push(jt[l])):6===l?(w=1-o(e,a,c),v=1-o(h,c,g),q=1-o(h,f,g),M=1-o(e,f,g),B.push(Jt[l]),B.push(Nt[l])):164===l?(w=o(h,c,a),v=o(e,g,c),q=o(e,g,f),M=o(h,g,f),B.push(Jt[l]),B.push(Nt[l])):129===l?(k=1-o(e,c,g),q=o(h,g,f),y=1-o(h,a,f),x=1-o(e,a,f),B.push(jt[l]),B.push(Et[l])):41===l?(k=o(h,g,c),q=1-o(e,f,g),y=o(e,f,a),x=o(h,f,a),B.push(jt[l]),B.push(Et[l])):66===l?(v=1-o(e,c,g),k=1-o(h,c,g),M=1-o(h,f,g),y=1-o(e,a,f),B.push(Nt[l]),B.push(jt[l])):104===l?(v=o(h,g,c),k=o(e,g,c),M=o(e,g,f),y=o(h,f,a),B.push(jt[l]),B.push(Ct[l])):144===l?(S=o(e,c,a),q=o(e,g,f),M=o(h,g,f),x=1-o(h,a,f),B.push(Bt[l]),B.push(_t[l])):26===l?(S=1-o(h,a,c),q=1-o(h,f,g),M=1-o(e,f,g),x=o(e,f,a),B.push(Bt[l]),B.push(_t[l])):36===l?(w=o(h,c,a),v=o(e,g,c),y=o(e,f,a),x=o(h,f,a),B.push(Jt[l]),B.push(Nt[l])):134===l?(w=1-o(e,a,c),v=1-o(h,c,g),y=1-o(h,a,f),x=1-o(e,a,f),B.push(Jt[l]),B.push(Nt[l])):9===l?(S=1-o(e,a,c),w=1-o(h,a,c),k=o(h,g,c),q=1-o(e,f,g),B.push(Bt[l]),B.push(Jt[l])):161===l?(S=o(h,c,a),w=o(e,c,a),k=1-o(e,c,g),q=o(h,g,f),B.push(Bt[l]),B.push(Jt[l])):37===l?(w=o(h,c,a),q=1-o(e,f,g),y=o(e,f,a),x=o(h,f,a),B.push(Jt[l]),B.push(Et[l])):133===l?(w=1-o(e,a,c),q=o(h,g,f),y=1-o(h,a,f),x=1-o(e,a,f),B.push(Jt[l]),B.push(Et[l])):148===l?(v=o(e,g,c),q=o(e,g,f),M=o(h,g,f),x=1-o(h,a,f),B.push(Nt[l]),B.push(_t[l])):22===l?(v=1-o(h,c,g),q=1-o(h,f,g),M=1-o(e,f,g),x=o(e,f,a),B.push(Nt[l]),B.push(_t[l])):82===l?(S=o(e,c,a),v=1-o(e,c,g),k=1-o(h,c,g),M=1-o(h,f,g),B.push(Bt[l]),B.push(jt[l])):88===l?(S=1-o(h,a,c),v=o(h,g,c),k=o(e,g,c),M=o(e,g,f),B.push(Bt[l]),B.push(jt[l])):73===l?(S=1-o(e,a,c),w=1-o(h,a,c),k=o(h,g,c),y=1-o(e,a,f),B.push(Bt[l]),B.push(Jt[l])):97===l?(S=o(h,c,a),w=o(e,c,a),k=1-o(e,c,g),y=o(h,f,a),B.push(Bt[l]),B.push(Jt[l])):145===l?(S=o(e,c,a),k=1-o(e,c,g),q=o(h,g,f),x=1-o(h,a,f),B.push(Bt[l]),B.push(Et[l])):25===l?(S=1-o(h,a,c),k=o(h,g,c),q=1-o(e,f,g),x=o(e,f,a),B.push(Bt[l]),B.push(Et[l])):70===l?(w=1-o(e,a,c),v=1-o(h,c,g),M=1-o(h,f,g),y=1-o(e,a,f),B.push(Jt[l]),B.push(Nt[l])):100===l?(w=o(h,c,a),v=o(e,g,c),M=o(e,g,f),y=o(h,f,a),B.push(Jt[l]),B.push(Nt[l])):34===l?(0===m?(S=1-o(e,a,c),w=1-o(h,a,c),v=o(h,g,c),k=o(e,g,c),q=o(e,g,f),M=o(h,g,f),y=1-o(h,a,f),x=1-o(e,a,f)):(S=o(h,c,a),w=o(e,c,a),v=1-o(e,c,g),k=1-o(h,c,g),q=1-o(h,f,g),M=1-o(e,f,g),y=o(e,f,a),x=o(h,f,a)),B.push(Bt[l]),B.push(Jt[l]),B.push(Et[l]),B.push(_t[l])):35===l?(4===m?(S=1-o(e,a,c),w=1-o(h,a,c),v=o(h,g,c),k=o(e,g,c),q=o(e,g,f),M=o(h,g,f),y=1-o(h,a,f),x=1-o(e,a,f)):(S=o(h,c,a),w=o(e,c,a),v=1-o(e,c,g),k=1-o(h,c,g),q=1-o(h,f,g),M=1-o(e,f,g),y=o(e,f,a),x=o(h,f,a)),B.push(Bt[l]),B.push(Jt[l]),B.push(jt[l]),B.push(_t[l])):136===l?(0===m?(S=o(h,c,a),w=o(e,c,a),v=1-o(e,c,g),k=1-o(h,c,g),q=1-o(h,f,g),M=1-o(e,f,g),y=o(e,f,a),x=o(h,f,a)):(S=1-o(e,a,c),w=1-o(h,a,c),v=o(h,g,c),k=o(e,g,c),q=o(e,g,f),M=o(h,g,f),y=1-o(h,a,f),x=1-o(e,a,f)),B.push(Bt[l]),B.push(Jt[l]),B.push(Et[l]),B.push(_t[l])):153===l?(0===m?(S=o(e,c,a),k=1-o(e,c,g),q=1-o(e,f,g),x=o(e,f,a)):(S=1-o(h,a,c),k=o(h,g,c),q=o(h,g,f),x=1-o(h,a,f)),B.push(Bt[l]),B.push(jt[l])):102===l?(0===m?(w=1-o(e,a,c),v=o(e,g,c),M=o(e,g,f),y=1-o(e,a,f)):(w=o(h,c,a),v=1-o(h,c,g),M=1-o(h,f,g),y=o(h,f,a)),B.push(Jt[l]),B.push(_t[l])):155===l?(4===m?(S=o(e,c,a),k=1-o(e,c,g),q=1-o(e,f,g),x=o(e,f,a)):(S=1-o(h,a,c),k=o(h,g,c),q=o(h,g,f),x=1-o(h,a,f)),B.push(Bt[l]),B.push(Et[l])):103===l?(4===m?(w=1-o(e,a,c),v=o(e,g,c),M=o(e,g,f),y=1-o(e,a,f)):(w=o(h,c,a),v=1-o(h,c,g),M=1-o(h,f,g),y=o(h,f,a)),B.push(Jt[l]),B.push(Nt[l])):152===l?(0===m?(S=o(e,c,a),v=1-o(e,c,g),k=1-o(h,c,g),q=1-o(h,f,g),M=1-o(e,f,g),x=o(e,f,a)):(S=1-o(h,a,c),v=o(h,g,c),k=o(e,g,c),q=o(e,g,f),M=o(h,g,f),x=1-o(h,a,f)),B.push(Bt[l]),B.push(Nt[l]),B.push(jt[l])):156===l?(4===m?(S=o(e,c,a),v=1-o(e,c,g),k=1-o(h,c,g),q=1-o(h,f,g),M=1-o(e,f,g),x=o(e,f,a)):(S=1-o(h,a,c),v=o(h,g,c),k=o(e,g,c),q=o(e,g,f),M=o(h,g,f),x=1-o(h,a,f)),B.push(Bt[l]),B.push(jt[l]),B.push(_t[l])):137===l?(0===m?(S=o(h,c,a),w=o(e,c,a),k=1-o(e,c,g),q=1-o(e,f,g),y=o(e,f,a),x=o(h,f,a)):(S=1-o(e,a,c),w=1-o(h,a,c),k=o(h,g,c),q=o(h,g,f),y=1-o(h,a,f),x=1-o(e,a,f)),B.push(Bt[l]),B.push(Jt[l]),B.push(jt[l])):139===l?(4===m?(S=o(h,c,a),w=o(e,c,a),k=1-o(e,c,g),q=1-o(e,f,g),y=o(e,f,a),x=o(h,f,a)):(S=1-o(e,a,c),w=1-o(h,a,c),k=o(h,g,c),q=o(h,g,f),y=1-o(h,a,f),x=1-o(e,a,f)),B.push(Bt[l]),B.push(Jt[l]),B.push(Et[l])):98===l?(0===m?(S=1-o(e,a,c),w=1-o(h,a,c),v=o(h,g,c),k=o(e,g,c),M=o(e,g,f),y=1-o(e,a,f)):(S=o(h,c,a),w=o(e,c,a),v=1-o(e,c,g),k=1-o(h,c,g),M=1-o(h,f,g),y=o(h,f,a)),B.push(Bt[l]),B.push(Jt[l]),B.push(_t[l])):99===l?(4===m?(S=1-o(e,a,c),w=1-o(h,a,c),v=o(h,g,c),k=o(e,g,c),M=o(e,g,f),y=1-o(e,a,f)):(S=o(h,c,a),w=o(e,c,a),v=1-o(e,c,g),k=1-o(h,c,g),M=1-o(h,f,g),y=o(h,f,a)),B.push(Bt[l]),B.push(Jt[l]),B.push(jt[l])):38===l?(0===m?(w=1-o(e,a,c),v=o(e,g,c),q=o(e,g,f),M=o(h,g,f),y=1-o(h,a,f),x=1-o(e,a,f)):(w=o(h,c,a),v=1-o(h,c,g),q=1-o(h,f,g),M=1-o(e,f,g),y=o(e,f,a),x=o(h,f,a)),B.push(Jt[l]),B.push(Et[l]),B.push(_t[l])):39===l?(4===m?(w=1-o(e,a,c),v=o(e,g,c),q=o(e,g,f),M=o(h,g,f),y=1-o(h,a,f),x=1-o(e,a,f)):(w=o(h,c,a),v=1-o(h,c,g),q=1-o(h,f,g),M=1-o(e,f,g),y=o(e,f,a),x=o(h,f,a)),B.push(Jt[l]),B.push(Nt[l]),B.push(_t[l])):85===l&&(S=1,w=0,v=1,k=0,q=0,M=1,y=0,x=1),(y<0||y>1||x<0||x>1||S<0||S>1||v<0||v>1||q<0||q>1||M<0||M>1)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+b+" "+f+","+a+","+c+","+g+" "+m+" "+y+" "+x+" "+S+" "+w+" "+v+" "+k+" "+q+" "+M),p.cells[i][n]={cval:l,cval_real:b,flipped:m,topleft:y,topright:x,righttop:S,rightbottom:w,bottomright:v,bottomleft:k,leftbottom:q,lefttop:M,edges:B}}}}}return p}function s(t){for(var o=[],e=t.rows,r=t.cols,s=[],p=0;p<e;p++)for(var n=0;n<r;n++)if(void 0!==t.cells[p][n]&&t.cells[p][n].edges.length>0){var l=t.cells[p][n],f=h(l),a=null,c=n,g=p;null!==f&&s.push([f.p[0]+c,f.p[1]+g]);do{if(null===(a=i(t.cells[g][c],f.x,f.y,f.o)))break;if(s.push([a.p[0]+c,a.p[1]+g]),c+=a.x,g+=a.y,f=a,g<0||g>=e||c<0||c>=r||void 0===t.cells[g][c]){c-=a.x,g-=a.y;var b=u(t,c,g,a.x,a.y,a.o);if(null===b)break;b.path.forEach(function(t){s.push(t)}),c=b.i,g=b.j,f=b}}while(void 0!==t.cells[g][c]&&t.cells[g][c].edges.length>0);o.push(s),s=[],t.cells[p][n].edges.length>0&&n--}return o}function u(t,o,e,r,s,u){for(var p=t.cells[e][o],h=p.cval_real,i=o+r,n=e+s,l=[],f=!1;!f;){if(void 0===t.cells[n]||void 0===t.cells[n][i])if(n-=s,i-=r,p=t.cells[n][i],h=p.cval_real,-1===s)if(0===u)if(h&b)l.push([i,n]),r=-1,s=0,u=0;else{if(!(h&g)){l.push([i+p.bottomright,n]),r=0,s=1,u=1,f=!0;break}l.push([i+1,n]),r=1,s=0,u=0}else{if(!(h&b)){if(h&g){l.push([i+p.bottomright,n]),r=0,s=1,u=1,f=!0;break}l.push([i+p.bottomleft,n]),r=0,s=1,u=0,f=!0;break}l.push([i,n]),r=-1,s=0,u=0}else if(1===s)if(0===u){if(!(h&c)){if(h&a){l.push([i+p.topleft,n+1]),r=0,s=-1,u=0,f=!0;break}l.push([i+p.topright,n+1]),r=0,s=-1,u=1,f=!0;break}l.push([i+1,n+1]),r=1,s=0,u=1}else l.push([i+1,n+1]),r=1,s=0,u=1;else if(-1===r)if(0===u){if(!(h&a)){if(h&b){l.push([i,n+p.leftbottom]),r=1,s=0,u=0,f=!0;break}l.push([i,n+p.lefttop]),r=1,s=0,u=1,f=!0;break}l.push([i,n+1]),r=0,s=1,u=0}else{if(!(h&a)){console.log("MarchingSquaresJS-isoBands: wtf");break}l.push([i,n+1]),r=0,s=1,u=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===u){if(!(h&g)){l.push([i+1,n+p.rightbottom]),r=-1,s=0,u=0,f=!0;break}l.push([i+1,n]),r=0,s=-1,u=1}else{if(!(h&g)){if(h&c){l.push([i+1,n+p.righttop]),r=-1,s=0,u=1;break}l.push([i+1,n+p.rightbottom]),r=-1,s=0,u=0,f=!0;break}l.push([i+1,n]),r=0,s=-1,u=1}}else if(p=t.cells[n][i],h=p.cval_real,-1===r)if(0===u)if(void 0!==t.cells[n-1]&&void 0!==t.cells[n-1][i])r=0,s=-1,u=1;else{if(!(h&b)){l.push([i+p.bottomright,n]),r=0,s=1,u=1,f=!0;break}l.push([i,n])}else{if(!(h&a)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+i+","+n);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===u){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[n+1]&&void 0!==t.cells[n+1][i])r=0,s=1,u=0;else{if(!(h&c)){l.push([i+p.topleft,n+1]),r=0,s=-1,u=0,f=!0;break}l.push([i+1,n+1]),r=1,s=0,u=1}}else if(-1===s){if(1!==u){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[n][i+1])r=1,s=0,u=1;else{if(!(h&g)){l.push([i+1,n+p.righttop]),r=-1,s=0,u=1,f=!0;break}l.push([i+1,n]),r=0,s=-1,u=1}}else{if(1!==s){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==u){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[n][i-1])r=-1,s=0,u=0;else{if(!(h&a)){l.push([i,n+p.leftbottom]),r=1,s=0,u=0,f=!0;break}l.push([i,n+1]),r=0,s=1,u=0}}if(i+=r,n+=s,i===o&&n===e)break}return{path:l,i:i,j:n,x:r,y:s,o:u}}function p(t,o){delete t.edges[o];for(var e=o+1;e<t.edges.length;e++)t.edges[e-1]=t.edges[e];t.edges.pop()}function h(t){if(t.edges.length>0){var o=t.edges[t.edges.length-1],e=t.cval_real;switch(o){case 0:return e&c?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return e&g?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return e&g?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return e&b?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return e&c?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return e&g?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return e&g?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return e&b?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return e&g?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return e&b?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return e&b?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return e&a?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return e&g?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return e&b?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return e&b?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return e&a?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return e&g?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return e&a?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return e&b?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return e&a?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return e&a?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return e&c?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return e&a?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return e&c?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}function i(t,o,e,r){var s,u,h,i,n,l=t.cval;switch(o){case-1:switch(r){case 0:s=Jt[l],h=q[l],i=B[l],n=J[l];break;default:s=Bt[l],h=S[l],i=w[l],n=M[l]}break;case 1:switch(r){case 0:s=Et[l],h=F[l],i=G[l],n=H[l];break;default:s=_t[l],h=A[l],i=z[l],n=D[l]}break;default:switch(e){case-1:switch(r){case 0:s=Ct[l],h=m[l],i=d[l],n=y[l];break;default:s=Ot[l],h=x[l],i=k[l],n=v[l]}break;case 1:switch(r){case 0:s=jt[l],h=N[l],i=j[l],n=E[l];break;default:s=Nt[l],h=_[l],i=C[l],n=O[l]}}}if(u=t.edges.indexOf(s),void 0===t.edges[u])return null;switch(p(t,u),l=t.cval_real,s){case 0:l&c?(o=t.topleft,e=1):(o=1,e=t.righttop);break;case 1:l&g?(o=1,e=t.rightbottom):(o=t.topleft,e=1);break;case 2:l&g?(o=t.topleft,e=1):(o=t.bottomright,e=0);break;case 3:l&b?(o=t.bottomleft,e=0):(o=t.topleft,e=1);break;case 4:l&c?(o=t.topright,e=1):(o=1,e=t.righttop);break;case 5:l&g?(o=1,e=t.rightbottom):(o=t.topright,e=1);break;case 6:l&g?(o=t.topright,e=1):(o=t.bottomright,e=0);break;case 7:l&b?(o=t.bottomleft,e=0):(o=t.topright,e=1);break;case 8:l&g?(o=1,e=t.righttop):(o=t.bottomright,e=0);break;case 9:l&b?(o=t.bottomleft,e=0):(o=1,e=t.righttop);break;case 10:l&b?(o=1,e=t.righttop):(o=0,e=t.leftbottom);break;case 11:l&a?(o=0,e=t.lefttop):(o=1,e=t.righttop);break;case 12:l&g?(o=1,e=t.rightbottom):(o=t.bottomright,e=0);break;case 13:l&b?(o=t.bottomleft,e=0):(o=1,e=t.rightbottom);break;case 14:l&b?(o=1,e=t.rightbottom):(o=0,e=t.leftbottom);break;case 15:l&a?(o=0,e=t.lefttop):(o=1,e=t.rightbottom);break;case 16:l&g?(o=0,e=t.leftbottom):(o=t.bottomright,e=0);break;case 17:l&a?(o=0,e=t.lefttop):(o=t.bottomright,e=0);break;case 18:l&b?(o=t.bottomleft,e=0):(o=0,e=t.leftbottom);break;case 19:l&a?(o=0,e=t.lefttop):(o=t.bottomleft,e=0);break;case 20:l&a?(o=0,e=t.leftbottom):(o=t.topleft,e=1);break;case 21:l&c?(o=t.topright,e=1):(o=0,e=t.leftbottom);break;case 22:l&a?(o=0,e=t.lefttop):(o=t.topleft,e=1);break;case 23:l&c?(o=t.topright,e=1):(o=0,e=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==o&&void 0!==e&&void 0!==h&&void 0!==i&&void 0!==n||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(o+" "+e+" "+h+" "+i+" "+n)),{p:[o,e],x:h,y:i,o:n}}function n(t){var o=[],r=0;return t.cells.forEach(function(t,s){t.forEach(function(t,u){if(void 0!==t){var p=At[t.cval](t);"object"==typeof p&&e(p)?"object"==typeof p[0]&&e(p[0])?"object"==typeof p[0][0]&&e(p[0][0])?p.forEach(function(t){t.forEach(function(t){t[0]+=u,t[1]+=s}),o[r++]=t}):(p.forEach(function(t){t[0]+=u,t[1]+=s}),o[r++]=p):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),o}var l={successCallback:null,verbose:!1,polygons:!1},f={},a=64,c=16,g=4,b=1,m=[],d=[],y=[],x=[],k=[],v=[],S=[],w=[],M=[],q=[],B=[],J=[],N=[],j=[],E=[],_=[],C=[],O=[],A=[],z=[],D=[],F=[],G=[],H=[];S[85]=q[85]=-1,w[85]=B[85]=0,M[85]=J[85]=1,A[85]=F[85]=1,z[85]=G[85]=0,D[85]=H[85]=1,m[85]=x[85]=0,d[85]=k[85]=-1,y[85]=E[85]=0,_[85]=N[85]=0,C[85]=j[85]=1,v[85]=O[85]=1,F[1]=F[169]=0,G[1]=G[169]=-1,H[1]=H[169]=0,N[1]=N[169]=-1,j[1]=j[169]=0,E[1]=E[169]=0,q[4]=q[166]=0,B[4]=B[166]=-1,J[4]=J[166]=1,_[4]=_[166]=1,C[4]=C[166]=0,O[4]=O[166]=0,S[16]=S[154]=0,w[16]=w[154]=1,M[16]=M[154]=1,x[16]=x[154]=1,k[16]=k[154]=0,v[16]=v[154]=1,A[64]=A[106]=0,z[64]=z[106]=1,D[64]=D[106]=0,m[64]=m[106]=-1,d[64]=d[106]=0,y[64]=y[106]=1,A[2]=A[168]=0,z[2]=z[168]=-1,D[2]=D[168]=1,F[2]=F[168]=0,G[2]=G[168]=-1,H[2]=H[168]=0,N[2]=N[168]=-1,j[2]=j[168]=0,E[2]=E[168]=0,_[2]=_[168]=-1,C[2]=C[168]=0,O[2]=O[168]=1,S[8]=S[162]=0,w[8]=w[162]=-1,M[8]=M[162]=0,q[8]=q[162]=0,B[8]=B[162]=-1,J[8]=J[162]=1,N[8]=N[162]=1,j[8]=j[162]=0,E[8]=E[162]=1,_[8]=_[162]=1,C[8]=C[162]=0,O[8]=O[162]=0,S[32]=S[138]=0,w[32]=w[138]=1,M[32]=M[138]=1,q[32]=q[138]=0,B[32]=B[138]=1,J[32]=J[138]=0,m[32]=m[138]=1,d[32]=d[138]=0,y[32]=y[138]=0,x[32]=x[138]=1,k[32]=k[138]=0,v[32]=v[138]=1,F[128]=F[42]=0,G[128]=G[42]=1,H[128]=H[42]=1,A[128]=A[42]=0,z[128]=z[42]=1,D[128]=D[42]=0,m[128]=m[42]=-1,d[128]=d[42]=0,y[128]=y[42]=1,x[128]=x[42]=-1,k[128]=k[42]=0,v[128]=v[42]=0,q[5]=q[165]=-1,B[5]=B[165]=0,J[5]=J[165]=0,F[5]=F[165]=1,G[5]=G[165]=0,H[5]=H[165]=0,_[20]=_[150]=0,C[20]=C[150]=1,O[20]=O[150]=1,x[20]=x[150]=0,k[20]=k[150]=-1,v[20]=v[150]=1,S[80]=S[90]=-1,w[80]=w[90]=0,M[80]=M[90]=1,A[80]=A[90]=1,z[80]=z[90]=0,D[80]=D[90]=1,N[65]=N[105]=0,j[65]=j[105]=1,E[65]=E[105]=0,m[65]=m[105]=0,d[65]=d[105]=-1,y[65]=y[105]=0,S[160]=S[10]=-1,w[160]=w[10]=0,M[160]=M[10]=1,q[160]=q[10]=-1,B[160]=B[10]=0,J[160]=J[10]=0,F[160]=F[10]=1,G[160]=G[10]=0,H[160]=H[10]=0,A[160]=A[10]=1,z[160]=z[10]=0,D[160]=D[10]=1,_[130]=_[40]=0,C[130]=C[40]=1,O[130]=O[40]=1,N[130]=N[40]=0,j[130]=j[40]=1,E[130]=E[40]=0,m[130]=m[40]=0,d[130]=d[40]=-1,y[130]=y[40]=0,x[130]=x[40]=0,k[130]=k[40]=-1,v[130]=v[40]=1,q[37]=q[133]=0,B[37]=B[133]=1,J[37]=J[133]=1,F[37]=F[133]=0,G[37]=G[133]=1,H[37]=H[133]=0,m[37]=m[133]=-1,d[37]=d[133]=0,y[37]=y[133]=0,x[37]=x[133]=1,k[37]=k[133]=0,v[37]=v[133]=0,_[148]=_[22]=-1,C[148]=C[22]=0,O[148]=O[22]=0,F[148]=F[22]=0,G[148]=G[22]=-1,H[148]=H[22]=1,A[148]=A[22]=0,z[148]=z[22]=1,D[148]=D[22]=1,x[148]=x[22]=-1,k[148]=k[22]=0,v[148]=v[22]=1,S[82]=S[88]=0,w[82]=w[88]=-1,M[82]=M[88]=1,_[82]=_[88]=1,C[82]=C[88]=0,O[82]=O[88]=1,N[82]=N[88]=-1,j[82]=j[88]=0,E[82]=E[88]=1,A[82]=A[88]=0,z[82]=z[88]=-1,D[82]=D[88]=0,S[73]=S[97]=0,w[73]=w[97]=1,M[73]=M[97]=0,q[73]=q[97]=0,B[73]=B[97]=-1,J[73]=J[97]=0,N[73]=N[97]=1,j[73]=j[97]=0,E[73]=E[97]=0,m[73]=m[97]=1,d[73]=d[97]=0,y[73]=y[97]=1,S[145]=S[25]=0,w[145]=w[25]=-1,M[145]=M[25]=0,N[145]=N[25]=1,j[145]=j[25]=0,E[145]=E[25]=1,F[145]=F[25]=0,G[145]=G[25]=1,H[145]=H[25]=1,x[145]=x[25]=-1,k[145]=k[25]=0,v[145]=v[25]=0,q[70]=q[100]=0,B[70]=B[100]=1,J[70]=J[100]=0,_[70]=_[100]=-1,C[70]=C[100]=0,O[70]=O[100]=1,A[70]=A[100]=0,z[70]=z[100]=-1;D[70]=D[100]=1,m[70]=m[100]=1,d[70]=d[100]=0,y[70]=y[100]=0,q[101]=q[69]=0,B[101]=B[69]=1,J[101]=J[69]=0,m[101]=m[69]=1,d[101]=d[69]=0,y[101]=y[69]=0,F[149]=F[21]=0,G[149]=G[21]=1,H[149]=H[21]=1,x[149]=x[21]=-1,k[149]=k[21]=0,v[149]=v[21]=0,_[86]=_[84]=-1,C[86]=C[84]=0,O[86]=O[84]=1,A[86]=A[84]=0,z[86]=z[84]=-1,D[86]=D[84]=1,S[89]=S[81]=0,w[89]=w[81]=-1,M[89]=M[81]=0,N[89]=N[81]=1,j[89]=j[81]=0,E[89]=E[81]=1,S[96]=S[74]=0,w[96]=w[74]=1,M[96]=M[74]=0,q[96]=q[74]=-1,B[96]=B[74]=0,J[96]=J[74]=1,A[96]=A[74]=1,z[96]=z[74]=0,D[96]=D[74]=0,m[96]=m[74]=1,d[96]=d[74]=0,y[96]=y[74]=1,S[24]=S[146]=0,w[24]=w[146]=-1,M[24]=M[146]=1,_[24]=_[146]=1,C[24]=C[146]=0,O[24]=O[146]=1,N[24]=N[146]=0,j[24]=j[146]=1,E[24]=E[146]=1,x[24]=x[146]=0,k[24]=k[146]=-1,v[24]=v[146]=0,q[6]=q[164]=-1,B[6]=B[164]=0,J[6]=J[164]=1,_[6]=_[164]=-1,C[6]=C[164]=0,O[6]=O[164]=0,F[6]=F[164]=0,G[6]=G[164]=-1,H[6]=H[164]=1,A[6]=A[164]=1,z[6]=z[164]=0,D[6]=D[164]=0,N[129]=N[41]=0,j[129]=j[41]=1,E[129]=E[41]=1,F[129]=F[41]=0,G[129]=G[41]=1,H[129]=H[41]=0,m[129]=m[41]=-1,d[129]=d[41]=0,y[129]=y[41]=0,x[129]=x[41]=0,k[129]=k[41]=-1,v[129]=v[41]=0,_[66]=_[104]=0,C[66]=C[104]=1,O[66]=O[104]=0,N[66]=N[104]=-1,j[66]=j[104]=0,E[66]=E[104]=1,A[66]=A[104]=0,z[66]=z[104]=-1,D[66]=D[104]=0,m[66]=m[104]=0,d[66]=d[104]=-1,y[66]=y[104]=1,S[144]=S[26]=-1,w[144]=w[26]=0,M[144]=M[26]=0,F[144]=F[26]=1,G[144]=G[26]=0,H[144]=H[26]=1,A[144]=A[26]=0,z[144]=z[26]=1,D[144]=D[26]=1,x[144]=x[26]=-1,k[144]=k[26]=0,v[144]=v[26]=1,q[36]=q[134]=0,B[36]=B[134]=1,J[36]=J[134]=1,_[36]=_[134]=0,C[36]=C[134]=1,O[36]=O[134]=0,m[36]=m[134]=0,d[36]=d[134]=-1,y[36]=y[134]=1,x[36]=x[134]=1,k[36]=k[134]=0,v[36]=v[134]=0,S[9]=S[161]=-1,w[9]=w[161]=0,M[9]=M[161]=0,q[9]=q[161]=0,B[9]=B[161]=-1,J[9]=J[161]=0,N[9]=N[161]=1,j[9]=j[161]=0,E[9]=E[161]=0,F[9]=F[161]=1,G[9]=G[161]=0,H[9]=H[161]=1,S[136]=0,w[136]=1,M[136]=1,q[136]=0,B[136]=1,J[136]=0,_[136]=-1,C[136]=0,O[136]=1,N[136]=-1,j[136]=0,E[136]=0,F[136]=0,G[136]=-1,H[136]=0,A[136]=0,z[136]=-1,D[136]=1,m[136]=1,d[136]=0,y[136]=0,x[136]=1,k[136]=0,v[136]=1,S[34]=0,w[34]=-1,M[34]=0,q[34]=0,B[34]=-1,J[34]=1,_[34]=1,C[34]=0,O[34]=0,N[34]=1,j[34]=0,E[34]=1,F[34]=0,G[34]=1,H[34]=1,A[34]=0,z[34]=1,D[34]=0,m[34]=-1,d[34]=0,y[34]=1,x[34]=-1,k[34]=0,v[34]=0,S[35]=0,w[35]=1,M[35]=1,q[35]=0,B[35]=-1,J[35]=1,_[35]=1,C[35]=0,O[35]=0,N[35]=-1,j[35]=0,E[35]=0,F[35]=0,G[35]=-1,H[35]=0,A[35]=0,z[35]=1,D[35]=0,m[35]=-1,d[35]=0,y[35]=1,x[35]=1,k[35]=0,v[35]=1,S[153]=0,w[153]=1,M[153]=1,N[153]=-1;j[153]=0,E[153]=0,F[153]=0,G[153]=-1,H[153]=0,x[153]=1,k[153]=0,v[153]=1,q[102]=0,B[102]=-1,J[102]=1,_[102]=1,C[102]=0,O[102]=0,A[102]=0,z[102]=1,D[102]=0,m[102]=-1,d[102]=0,y[102]=1,S[155]=0,w[155]=-1,M[155]=0,N[155]=1,j[155]=0,E[155]=1,F[155]=0,G[155]=1,H[155]=1,x[155]=-1,k[155]=0,v[155]=0,q[103]=0,B[103]=1,J[103]=0,_[103]=-1,C[103]=0,O[103]=1,A[103]=0,z[103]=-1,D[103]=1,m[103]=1,d[103]=0,y[103]=0,S[152]=0,w[152]=1,M[152]=1,_[152]=-1,C[152]=0,O[152]=1,N[152]=-1,j[152]=0,E[152]=0,F[152]=0,G[152]=-1,H[152]=0,A[152]=0,z[152]=-1,D[152]=1,x[152]=1,k[152]=0,v[152]=1,S[156]=0,w[156]=-1,M[156]=1,_[156]=1,C[156]=0,O[156]=1,N[156]=-1,j[156]=0,E[156]=0,F[156]=0,G[156]=-1,H[156]=0,A[156]=0,z[156]=1,D[156]=1,x[156]=-1,k[156]=0,v[156]=1,S[137]=0,w[137]=1,M[137]=1,q[137]=0,B[137]=1,J[137]=0,N[137]=-1,j[137]=0,E[137]=0,F[137]=0,G[137]=-1,H[137]=0,m[137]=1,d[137]=0,y[137]=0,x[137]=1,k[137]=0,v[137]=1,S[139]=0,w[139]=1,M[139]=1,q[139]=0,B[139]=-1,J[139]=0,N[139]=1,j[139]=0,E[139]=0,F[139]=0,G[139]=1,H[139]=0,m[139]=-1,d[139]=0,y[139]=0,x[139]=1,k[139]=0,v[139]=1,S[98]=0,w[98]=-1,M[98]=0,q[98]=0,B[98]=-1,J[98]=1,_[98]=1,C[98]=0,O[98]=0,N[98]=1,j[98]=0,E[98]=1,A[98]=0,z[98]=1,D[98]=0,m[98]=-1,d[98]=0,y[98]=1,S[99]=0,w[99]=1,M[99]=0,q[99]=0,B[99]=-1,J[99]=1,_[99]=1,C[99]=0,O[99]=0,N[99]=-1,j[99]=0,E[99]=1,A[99]=0,z[99]=-1,D[99]=0,m[99]=1,d[99]=0,y[99]=1,q[38]=0,B[38]=-1,J[38]=1,_[38]=1,C[38]=0,O[38]=0,F[38]=0,G[38]=1,H[38]=1,A[38]=0,z[38]=1,D[38]=0,m[38]=-1,d[38]=0,y[38]=1,x[38]=-1,k[38]=0,v[38]=0,q[39]=0,B[39]=1,J[39]=1,_[39]=-1,C[39]=0,O[39]=0,F[39]=0,G[39]=-1,H[39]=1,A[39]=0,z[39]=1,D[39]=0,m[39]=-1,d[39]=0,y[39]=1,x[39]=1,k[39]=0,v[39]=0;var I=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},K=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},L=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},P=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},Q=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},R=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},T=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},U=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},V=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},W=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},X=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},Y=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Z=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},$=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},tt=function(){return[[0,0],[0,1],[1,1],[1,0]]},ot=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},et=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},rt=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},st=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},ut=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},pt=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},ht=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},it=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},nt=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},lt=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ft=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},at=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ct=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},gt=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},bt=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},mt=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},dt=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},yt=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},xt=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},kt=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},vt=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},St=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},wt=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Mt=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},qt=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Bt=[],Jt=[],Nt=[],jt=[],Et=[],_t=[],Ct=[],Ot=[];jt[1]=Et[1]=18,jt[169]=Et[169]=18,Nt[4]=Jt[4]=12,Nt[166]=Jt[166]=12,Bt[16]=Ot[16]=4,Bt[154]=Ot[154]=4,_t[64]=Ct[64]=22,_t[106]=Ct[106]=22,Nt[2]=_t[2]=17,jt[2]=Et[2]=18,Nt[168]=_t[168]=17,jt[168]=Et[168]=18,Bt[8]=jt[8]=9,Jt[8]=Nt[8]=12,Bt[162]=jt[162]=9,Jt[162]=Nt[162]=12,Bt[32]=Ot[32]=4,Jt[32]=Ct[32]=1,Bt[138]=Ot[138]=4,Jt[138]=Ct[138]=1,Et[128]=Ot[128]=21,_t[128]=Ct[128]=22,Et[42]=Ot[42]=21,_t[42]=Ct[42]=22,Jt[5]=Et[5]=14,Jt[165]=Et[165]=14,Nt[20]=Ot[20]=6,Nt[150]=Ot[150]=6,Bt[80]=_t[80]=11,Bt[90]=_t[90]=11,jt[65]=Ct[65]=3,jt[105]=Ct[105]=3,Bt[160]=_t[160]=11,Jt[160]=Et[160]=14,Bt[10]=_t[10]=11,Jt[10]=Et[10]=14,Nt[130]=Ot[130]=6,jt[130]=Ct[130]=3,Nt[40]=Ot[40]=6,jt[40]=Ct[40]=3,Jt[101]=Ct[101]=1,Jt[69]=Ct[69]=1,Et[149]=Ot[149]=21,Et[21]=Ot[21]=21,Nt[86]=_t[86]=17,Nt[84]=_t[84]=17,Bt[89]=jt[89]=9,Bt[81]=jt[81]=9,Bt[96]=Ct[96]=0,Jt[96]=_t[96]=15,Bt[74]=Ct[74]=0,Jt[74]=_t[74]=15,Bt[24]=Nt[24]=8,jt[24]=Ot[24]=7,Bt[146]=Nt[146]=8,jt[146]=Ot[146]=7,Jt[6]=_t[6]=15,Nt[6]=Et[6]=16,Jt[164]=_t[164]=15,Nt[164]=Et[164]=16,jt[129]=Ot[129]=7,Et[129]=Ct[129]=20,jt[41]=Ot[41]=7,Et[41]=Ct[41]=20,Nt[66]=Ct[66]=2,jt[66]=_t[66]=19,Nt[104]=Ct[104]=2,jt[104]=_t[104]=19,Bt[144]=Et[144]=10,_t[144]=Ot[144]=23,Bt[26]=Et[26]=10,_t[26]=Ot[26]=23,Jt[36]=Ot[36]=5,Nt[36]=Ct[36]=2,Jt[134]=Ot[134]=5,Nt[134]=Ct[134]=2,Bt[9]=Et[9]=10,Jt[9]=jt[9]=13,Bt[161]=Et[161]=10,Jt[161]=jt[161]=13,Jt[37]=Ot[37]=5,Et[37]=Ct[37]=20,Jt[133]=Ot[133]=5,Et[133]=Ct[133]=20,Nt[148]=Et[148]=16,_t[148]=Ot[148]=23,Nt[22]=Et[22]=16,_t[22]=Ot[22]=23,Bt[82]=Nt[82]=8,jt[82]=_t[82]=19,Bt[88]=Nt[88]=8,jt[88]=_t[88]=19,Bt[73]=Ct[73]=0,Jt[73]=jt[73]=13,Bt[97]=Ct[97]=0,Jt[97]=jt[97]=13,Bt[145]=jt[145]=9,Et[145]=Ot[145]=21,Bt[25]=jt[25]=9,Et[25]=Ot[25]=21,Jt[70]=Ct[70]=1,Nt[70]=_t[70]=17,Jt[100]=Ct[100]=1,Nt[100]=_t[100]=17,Bt[34]=jt[34]=9,Jt[34]=Nt[34]=12,Et[34]=Ot[34]=21,_t[34]=Ct[34]=22,Bt[136]=Ot[136]=4,Jt[136]=Ct[136]=1,Nt[136]=_t[136]=17,jt[136]=Et[136]=18,Bt[35]=Ot[35]=4,Jt[35]=Nt[35]=12,jt[35]=Et[35]=18,_t[35]=Ct[35]=22,Bt[153]=Ot[153]=4,jt[153]=Et[153]=18,Jt[102]=Nt[102]=12,_t[102]=Ct[102]=22,Bt[155]=jt[155]=9,Et[155]=Ot[155]=23,Jt[103]=Ct[103]=1,Nt[103]=_t[103]=17,Bt[152]=Ot[152]=4,Nt[152]=_t[152]=17,jt[152]=Et[152]=18,Bt[156]=Nt[156]=8,jt[156]=Et[156]=18,_t[156]=Ot[156]=23,Bt[137]=Ot[137]=4,Jt[137]=Ct[137]=1,jt[137]=Et[137]=18,Bt[139]=Ot[139]=4,Jt[139]=jt[139]=13,Et[139]=Ct[139]=20,Bt[98]=jt[98]=9,Jt[98]=Nt[98]=12,_t[98]=Ct[98]=22,Bt[99]=Ct[99]=0,Jt[99]=Nt[99]=12,jt[99]=_t[99]=19,Jt[38]=Nt[38]=12,Et[38]=Ot[38]=21,_t[38]=Ct[38]=22,Jt[39]=Ot[39]=5,Nt[39]=Et[39]=16,_t[39]=Ct[39]=22;var At=[];return At[1]=At[169]=I,At[4]=At[166]=K,At[16]=At[154]=L,At[64]=At[106]=P,At[168]=At[2]=Q,At[162]=At[8]=R,At[138]=At[32]=T,At[42]=At[128]=U,At[5]=At[165]=V,At[20]=At[150]=W,At[80]=At[90]=X,At[65]=At[105]=Y,At[160]=At[10]=Z,At[130]=At[40]=$,At[85]=tt,At[101]=At[69]=ot,At[149]=At[21]=et,At[86]=At[84]=rt,At[89]=At[81]=st,At[96]=At[74]=ut,At[24]=At[146]=pt,At[6]=At[164]=ht,At[129]=At[41]=it,At[66]=At[104]=nt,At[144]=At[26]=lt,At[36]=At[134]=ft,At[9]=At[161]=at,At[37]=At[133]=ct,At[148]=At[22]=gt,
At[82]=At[88]=bt,At[73]=At[97]=mt,At[145]=At[25]=dt,At[70]=At[100]=yt,At[34]=function(t){return[U(t),R(t)]},At[35]=xt,At[136]=function(t){return[T(t),Q(t)]},At[153]=function(t){return[L(t),I(t)]},At[102]=function(t){return[K(t),P(t)]},At[155]=kt,At[103]=vt,At[152]=function(t){return[L(t),Q(t)]},At[156]=St,At[137]=function(t){return[T(t),I(t)]},At[139]=wt,At[98]=function(t){return[R(t),P(t)]},At[99]=Mt,At[38]=function(t){return[K(t),U(t)]},At[39]=qt,t});

},{}],155:[function(require,module,exports){
!function(t,o){"function"==typeof define&&define.amd?define([],function(){return{isoContours:o()}}):"object"==typeof module&&module.exports?module.exports={isoContours:o()}:t.MarchingSquaresJS={isoContours:o(),isoBands:t.MarchingSquaresJS?t.MarchingSquaresJS.isoBands:null}}(this,function(){function t(t,o,n){n=n||{};for(var r=Object.keys(s),a=0;a<r.length;a++){var l=r[a],c=n[l];c=void 0!==c&&null!==c?c:s[l],f[l]=c}f.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+o);var u=i(e(t,o));return"function"==typeof f.successCallback&&f.successCallback(u),u}function o(t,o,e){return(t-o)/(e-o)}function e(t,e){for(var n=t.length-1,r=t[0].length-1,a={rows:n,cols:r,cells:[]},l=0;l<n;++l){a.cells[l]=[];for(var i=0;i<r;++i){var c=0,s=t[l+1][i],f=t[l+1][i+1],u=t[l][i+1],h=t[l][i];if(!(isNaN(s)||isNaN(f)||isNaN(u)||isNaN(h))){c|=s>=e?8:0,c|=f>=e?4:0,c|=u>=e?2:0,c|=h>=e?1:0;var p=!1;if(5===c||10===c){var v=(s+f+u+h)/4;5===c&&v<e?(c=10,p=!0):10===c&&v<e&&(c=5,p=!0)}if(0!=c&&15!=c){var g,b,d,m;g=b=d=m=.5,1===c?(d=1-o(e,s,h),b=1-o(e,u,h)):2===c?(b=o(e,h,u),m=1-o(e,f,u)):3===c?(d=1-o(e,s,h),m=1-o(e,f,u)):4===c?(g=o(e,s,f),m=o(e,u,f)):5===c?(g=o(e,s,f),m=o(e,u,f),b=1-o(e,u,h),d=1-o(e,s,h)):6===c?(b=o(e,h,u),g=o(e,s,f)):7===c?(d=1-o(e,s,h),g=o(e,s,f)):8===c?(d=o(e,h,s),g=1-o(e,f,s)):9===c?(b=1-o(e,u,h),g=1-o(e,f,s)):10===c?(g=1-o(e,f,s),m=1-o(e,f,u),b=o(e,h,u),d=o(e,h,s)):11===c?(g=1-o(e,f,s),m=1-o(e,f,u)):12===c?(d=o(e,h,s),m=o(e,u,f)):13===c?(b=1-o(e,u,h),m=o(e,u,f)):14===c?(d=o(e,h,s),b=o(e,h,u)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+c),a.cells[l][i]={cval:c,flipped:p,top:g,right:m,bottom:b,left:d}}}}}return a}function n(t){return 5===t.cval||10===t.cval}function r(t){return 0===t.cval||15===t.cval}function a(t){r(t)||5===t.cval||10===t.cval||(t.cval=15)}function l(t,o){return"top"===o?[t.top,1]:"bottom"===o?[t.bottom,0]:"right"===o?[1,t.right]:"left"===o?[0,t.left]:void 0}function i(t){var o=[],e=0;t.rows,t.cols;return t.cells.forEach(function(a,l){a.forEach(function(a,i){if(void 0!==a&&!n(a)&&!r(a)){var s=c(t.cells,l,i),f=!1;if("mergeable"===s.info)for(var u=s.path[s.path.length-1][0],h=s.path[s.path.length-1][1],p=e-1;p>=0;p--)if(Math.abs(o[p][0][0]-u)<=1e-7&&Math.abs(o[p][0][1]-h)<=1e-7){for(var v=s.path.length-2;v>=0;--v)o[p].unshift(s.path[v]);f=!0;break}f||(o[e++]=s.path)}})}),o}function c(t,o,e){var n,r,i,c=t.length,s=[],f=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],u=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],h=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],p=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],v=(t[o][e],t[o][e]),g=v.cval,i=h[g],b=l(v,i);s.push([e+b[0],o+b[1]]),i=p[g],b=l(v,i),s.push([e+b[0],o+b[1]]),a(v);for(var d=e+f[g],m=o+u[g],S=g;d>=0&&m>=0&&m<c&&(d!=e||m!=o)&&void 0!==(v=t[m][d]);){if(0===(g=v.cval)||15===g)return{path:s,info:"mergeable"};i=p[g],n=f[g],r=u[g],5!==g&&10!==g||(5===g?v.flipped?-1===u[S]?(i="left",n=-1,r=0):(i="right",n=1,r=0):-1===f[S]&&(i="bottom",n=0,r=-1):10===g&&(v.flipped?-1===f[S]?(i="top",n=0,r=1):(i="bottom",n=0,r=-1):1===u[S]&&(i="left",n=-1,r=0))),b=l(v,i),s.push([d+b[0],m+b[1]]),a(v),d+=n,m+=r,S=g}return{path:s,info:"closed"}}var s={successCallback:null,verbose:!1},f={};return t});

},{}],156:[function(require,module,exports){
!function(o,n){"function"==typeof define&&define.amd?define(["./marchingsquares-isobands","./marchingsquares-isocontours"],n):"object"==typeof module&&module.exports?module.exports=n(require("./marchingsquares-isobands"),require("./marchingsquares-isocontours")):o.MarchingSquaresJS=n(o.MarchingSquaresJS?o.MarchingSquaresJS.isoBands:null,o.MarchingSquaresJS?o.MarchingSquaresJS.isoContours:null)}(this,function(o,n){return{isoBands:"function"==typeof o?o:"object"==typeof o&&"function"==typeof o.isoBands?o.isoBands:null,isoContours:"function"==typeof n?n:"object"==typeof n&&"function"==typeof n.isoContours?n.isoContours:null}});

},{"./marchingsquares-isobands":154,"./marchingsquares-isocontours":155}],157:[function(require,module,exports){
"use strict";function monotoneConvexHull2D(r){var n=r.length;if(n<3){for(var o=new Array(n),e=0;e<n;++e)o[e]=e;return 2===n&&r[0][0]===r[1][0]&&r[0][1]===r[1][1]?[0]:o}for(var t=new Array(n),e=0;e<n;++e)t[e]=e;t.sort(function(n,o){var e=r[n][0]-r[o][0];return e||r[n][1]-r[o][1]});for(var a=[t[0],t[1]],u=[t[0],t[1]],e=2;e<n;++e){for(var l=t[e],v=r[l],f=a.length;f>1&&orient(r[a[f-2]],r[a[f-1]],v)<=0;)f-=1,a.pop();for(a.push(l),f=u.length;f>1&&orient(r[u[f-2]],r[u[f-1]],v)>=0;)f-=1,u.pop();u.push(l)}for(var o=new Array(u.length+a.length-2),i=0,e=0,h=a.length;e<h;++e)o[i++]=a[e];for(var g=u.length-2;g>0;--g)o[i++]=u[g];return o}module.exports=monotoneConvexHull2D;var orient=require("robust-orientation")[3];

},{"robust-orientation":168}],158:[function(require,module,exports){
function parse(e){if(e=String(e),!(e.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var a=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*y;case"days":case"day":case"d":return a*d;case"hours":case"hour":case"hrs":case"hr":case"h":return a*h;case"minutes":case"minute":case"mins":case"min":case"m":return a*m;case"seconds":case"second":case"secs":case"sec":case"s":return a*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function fmtShort(e){return e>=d?Math.round(e/d)+"d":e>=h?Math.round(e/h)+"h":e>=m?Math.round(e/m)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function fmtLong(e){return plural(e,d,"day")||plural(e,h,"hour")||plural(e,m,"minute")||plural(e,s,"second")||e+" ms"}function plural(s,e,r){if(!(s<e))return s<1.5*e?Math.floor(s/e)+" "+r:Math.ceil(s/e)+" "+r+"s"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(s,e){e=e||{};var r=typeof s;if("string"===r&&s.length>0)return parse(s);if("number"===r&&!1===isNaN(s))return e.long?fmtLong(s):fmtShort(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};

},{}],159:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),_require=require("@turf/helpers"),lineString=_require.lineString,_require2=require("./util"),orientationIndex=_require2.orientationIndex,Edge=function(){function e(t,i){_classCallCheck(this,e),this.from=t,this.to=i,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return _createClass(e,[{key:"getSymetric",value:function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric}}]),_createClass(e,[{key:"deleteEdge",value:function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)}},{key:"isEqual",value:function(e){return this.from.id===e.from.id&&this.to.id===e.to.id}},{key:"toString",value:function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"}},{key:"toLineString",value:function(){return lineString([this.from.coordinates,this.to.coordinates])}},{key:"compareTo",value:function(e){return orientationIndex(e.from.coordinates,e.to.coordinates,this.to.coordinates)}}]),e}();module.exports=Edge;

},{"./util":164,"@turf/helpers":46}],160:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),_require=require("./util"),orientationIndex=_require.orientationIndex,envelopeIsEqual=_require.envelopeIsEqual,envelopeContains=_require.envelopeContains,coordinatesEqual=_require.coordinatesEqual,_require2=require("@turf/helpers"),multiPoint=_require2.multiPoint,polygon=_require2.polygon,point=_require2.point,envelope=require("@turf/envelope"),_inside=require("@turf/inside"),EdgeRing=function(){function e(){_classCallCheck(this,e),this.edges=[],this.polygon=void 0,this.envelope=void 0}return _createClass(e,[{key:"push",value:function(e){this[this.edges.length]=e,this.edges.push(e),this.polygon=this.envelope=void 0}},{key:"get",value:function(e){return this.edges[e]}},{key:"forEach",value:function(e){this.edges.forEach(e)}},{key:"map",value:function(e){return this.edges.map(e)}},{key:"some",value:function(e){return this.edges.some(e)}},{key:"isValid",value:function(){return!0}},{key:"isHole",value:function(){var e=this,n=this.edges.reduce(function(n,o,t){return o.from.coordinates[1]>e.edges[n].from.coordinates[1]&&(n=t),n},0),o=(0===n?this.length:n)-1,t=(n+1)%this.length,i=orientationIndex(this.edges[o].from.coordinates,this.edges[n].from.coordinates,this.edges[t].from.coordinates);return 0===i?this.edges[o].from.coordinates[0]>this.edges[t].from.coordinates[0]:i>0}},{key:"toMultiPoint",value:function(){return multiPoint(this.edges.map(function(e){return e.from.coordinates}))}},{key:"toPolygon",value:function(){if(this.polygon)return this.polygon;var e=this.edges.map(function(e){return e.from.coordinates});return e.push(this.edges[0].from.coordinates),this.polygon=polygon([e])}},{key:"getEnvelope",value:function(){return this.envelope?this.envelope:this.envelope=envelope(this.toPolygon())}},{key:"inside",value:function(e){return _inside(e,this.toPolygon())}},{key:"length",get:function(){return this.edges.length}}],[{key:"findEdgeRingContaining",value:function(e,n){var o=e.getEnvelope(),t=void 0,i=void 0;return n.forEach(function(n){var r=n.getEnvelope();if(i&&(t=i.getEnvelope()),!envelopeIsEqual(r,o)&&envelopeContains(r,o)){var s=e.map(function(e){return e.from.coordinates}).find(function(e){return!n.some(function(n){return coordinatesEqual(e,n.from.coordinates)})});s&&n.inside(point(s))&&(i&&!envelopeContains(t,r)||(i=n))}}),i}}]),e}();module.exports=EdgeRing;

},{"./util":164,"@turf/envelope":40,"@turf/helpers":46,"@turf/inside":49}],161:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function validateGeoJson(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error("Invalid input type '"+e.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Node=require("./Node"),Edge=require("./Edge"),EdgeRing=require("./EdgeRing"),_require=require("@turf/meta"),flattenEach=_require.flattenEach,coordReduce=_require.coordReduce,_require2=require("@turf/invariant"),featureOf=_require2.featureOf,Graph=function(){function e(){_classCallCheck(this,e),this.edges=[],this.nodes={}}return _createClass(e,[{key:"getNode",value:function(e){var t=Node.buildId(e),n=this.nodes[t];return n||(n=this.nodes[t]=new Node(e)),n}},{key:"addEdge",value:function(e,t){var n=new Edge(e,t),r=n.getSymetric();this.edges.push(n),this.edges.push(r)}}],[{key:"fromGeoJson",value:function(t){validateGeoJson(t);var n=new e;return flattenEach(t,function(e){featureOf(e,"LineString","Graph::fromGeoJson"),coordReduce(e,function(e,t){if(e){var r=n.getNode(e),i=n.getNode(t);n.addEdge(r,i)}return t})}),n}}]),_createClass(e,[{key:"deleteDangles",value:function(){var e=this;Object.keys(this.nodes).map(function(t){return e.nodes[t]}).forEach(function(t){return e._removeIfDangle(t)})}},{key:"_removeIfDangle",value:function(e){var t=this;if(e.innerEdges.length<=1){var n=e.getOuterEdges().map(function(e){return e.to});this.removeNode(e),n.forEach(function(e){return t._removeIfDangle(e)})}}},{key:"deleteCutEdges",value:function(){var e=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(t){t.label===t.symetric.label&&(e.removeEdge(t.symetric),e.removeEdge(t))})}},{key:"_computeNextCWEdges",value:function(e){var t=this;void 0===e?Object.keys(this.nodes).forEach(function(e){return t._computeNextCWEdges(t.nodes[e])}):e.getOuterEdges().forEach(function(t,n){e.getOuterEdge((0===n?e.getOuterEdges().length:n)-1).symetric.next=t})}},{key:"_computeNextCCWEdges",value:function(e,t){for(var n=e.getOuterEdges(),r=void 0,i=void 0,o=n.length-1;o>=0;--o){var u=n[o],a=u.symetric,s=void 0,d=void 0;u.label===t&&(s=u),a.label===t&&(d=a),s&&d&&(d&&(i=d),s&&(i&&(i.next=s,i=void 0),r||(r=s)))}i&&(i.next=r)}},{key:"_findLabeledEdgeRings",value:function(){var e=[],t=0;return this.edges.forEach(function(n){if(!(n.label>=0)){e.push(n);var r=n;do{r.label=t,r=r.next}while(!n.isEqual(r));t++}}),e}},{key:"getEdgeRings",value:function(){var e=this;this._computeNextCWEdges(),this.edges.forEach(function(e){e.label=void 0}),this._findLabeledEdgeRings().forEach(function(t){e._findIntersectionNodes(t).forEach(function(n){e._computeNextCCWEdges(n,t.label)})});var t=[];return this.edges.forEach(function(n){n.ring||t.push(e._findEdgeRing(n))}),t}},{key:"_findIntersectionNodes",value:function(e){var t=[],n=e;do{!function(){var r=0;n.from.getOuterEdges().forEach(function(t){t.label===e.label&&++r}),r>1&&t.push(n.from),n=n.next}()}while(!e.isEqual(n));return t}},{key:"_findEdgeRing",value:function(e){var t=e,n=new EdgeRing;do{n.push(t),t.ring=n,t=t.next}while(!e.isEqual(t));return n}},{key:"removeNode",value:function(e){var t=this;e.getOuterEdges().forEach(function(e){return t.removeEdge(e)}),e.innerEdges.forEach(function(e){return t.removeEdge(e)}),delete this.nodes[e.id]}},{key:"removeEdge",value:function(e){this.edges=this.edges.filter(function(t){return!t.isEqual(e)}),e.deleteEdge()}}]),e}();module.exports=Graph;

},{"./Edge":159,"./EdgeRing":160,"./Node":162,"@turf/invariant":52,"@turf/meta":77}],162:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),_require=require("./util"),orientationIndex=_require.orientationIndex,Node=function(){function e(t){_classCallCheck(this,e),this.id=e.buildId(t),this.coordinates=t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return _createClass(e,null,[{key:"buildId",value:function(e){return e.join(",")}}]),_createClass(e,[{key:"removeInnerEdge",value:function(e){this.innerEdges=this.innerEdges.filter(function(t){return t.from.id!==e.from.id})}},{key:"removeOuterEdge",value:function(e){this.outerEdges=this.outerEdges.filter(function(t){return t.to.id!==e.to.id})}},{key:"addOuterEdge",value:function(e){this.outerEdges.push(e),this.outerEdgesSorted=!1}},{key:"sortOuterEdges",value:function(){var e=this;this.outerEdgesSorted||(this.outerEdges.sort(function(t,o){var r=t.to,n=o.to;if(r.coordinates[0]-e.coordinates[0]>=0&&n.coordinates[0]-e.coordinates[0]<0)return 1;if(r.coordinates[0]-e.coordinates[0]<0&&n.coordinates[0]-e.coordinates[0]>=0)return-1;if(r.coordinates[0]-e.coordinates[0]==0&&n.coordinates[0]-e.coordinates[0]==0)return r.coordinates[1]-e.coordinates[1]>=0||n.coordinates[1]-e.coordinates[1]>=0?r.coordinates[1]-n.coordinates[1]:n.coordinates[1]-r.coordinates[1];var i=orientationIndex(e.coordinates,r.coordinates,n.coordinates);return i<0?1:i>0?-1:Math.pow(r.coordinates[0]-e.coordinates[0],2)+Math.pow(r.coordinates[1]-e.coordinates[1],2)-(Math.pow(n.coordinates[0]-e.coordinates[0],2)+Math.pow(n.coordinates[1]-e.coordinates[1],2))}),this.outerEdgesSorted=!0)}},{key:"getOuterEdges",value:function(){return this.sortOuterEdges(),this.outerEdges}},{key:"getOuterEdge",value:function(e){return this.sortOuterEdges(),this.outerEdges[e]}},{key:"addInnerEdge",value:function(e){this.innerEdges.push(e)}}]),e}();module.exports=Node;

},{"./util":164}],163:[function(require,module,exports){
"use strict";var Graph=require("./Graph"),EdgeRing=require("./EdgeRing"),_require=require("@turf/helpers"),featureCollection=_require.featureCollection;module.exports=function(e){var r=Graph.fromGeoJson(e);r.deleteDangles(),r.deleteCutEdges();var n=[],i=[];return r.getEdgeRings().filter(function(e){return e.isValid()}).forEach(function(e){e.isHole()?n.push(e):i.push(e)}),n.forEach(function(e){EdgeRing.findEdgeRingContaining(e,i)&&i.push(e)}),featureCollection(i.map(function(e){return e.toPolygon()}))};

},{"./EdgeRing":160,"./Graph":161,"@turf/helpers":46}],164:[function(require,module,exports){
"use strict";function orientationIndex(n,e,t){var r=e[0]-n[0],o=e[1]-n[1],i=t[0]-e[0],a=t[1]-e[1];return Math.sign(r*a-i*o)}function envelopeIsEqual(n,e){var t=n.geometry.coordinates.map(function(n){return n[0]}),r=n.geometry.coordinates.map(function(n){return n[1]}),o=e.geometry.coordinates.map(function(n){return n[0]}),i=e.geometry.coordinates.map(function(n){return n[1]});return Math.max(null,t)===Math.max(null,o)&&Math.max(null,r)===Math.max(null,i)&&Math.min(null,t)===Math.min(null,o)&&Math.min(null,r)===Math.min(null,i)}function envelopeContains(n,e){return e.geometry.coordinates[0].every(function(e){return inside(point(e),n)})}function coordinatesEqual(n,e){return n[0]===e[0]&&n[1]===e[1]}var inside=require("@turf/inside"),_require=require("@turf/helpers"),point=_require.point;module.exports={orientationIndex:orientationIndex,envelopeIsEqual:envelopeIsEqual,envelopeContains:envelopeContains,coordinatesEqual:coordinatesEqual};

},{"@turf/helpers":46,"@turf/inside":49}],165:[function(require,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],166:[function(require,module,exports){
"use strict";function partialSort(a,t,r,o,p){for(r=r||0,o=o||a.length-1,p=p||defaultCompare;o>r;){if(o-r>600){var f=o-r+1,e=t-r+1,l=Math.log(f),s=.5*Math.exp(2*l/3),i=.5*Math.sqrt(l*s*(f-s)/f)*(e-f/2<0?-1:1);partialSort(a,t,Math.max(r,Math.floor(t-e*s/f+i)),Math.min(o,Math.floor(t+(f-e)*s/f+i)),p)}var n=a[t],h=r,u=o;for(swap(a,r,t),p(a[o],n)>0&&swap(a,r,o);h<u;){for(swap(a,h,u),h++,u--;p(a[h],n)<0;)h++;for(;p(a[u],n)>0;)u--}0===p(a[r],n)?swap(a,r,u):(u++,swap(a,u,o)),u<=t&&(r=u+1),t<=u&&(o=u-1)}}function swap(a,t,r){var o=a[t];a[t]=a[r],a[r]=o}function defaultCompare(a,t){return a<t?-1:a>t?1:0}module.exports=partialSort;

},{}],167:[function(require,module,exports){
"use strict";function rbush(t,i){if(!(this instanceof rbush))return new rbush(t,i);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&this._initFormat(i),this.clear()}function findItem(t,i,n){if(!n)return i.indexOf(t);for(var e=0;e<i.length;e++)if(n(t,i[e]))return e;return-1}function calcBBox(t,i){distBBox(t,0,t.children.length,i,t)}function distBBox(t,i,n,e,a){a||(a=createNode(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(var r,h=i;h<n;h++)r=t.children[h],extend(a,t.leaf?e(r):r);return a}function extend(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function compareNodeMinX(t,i){return t.minX-i.minX}function compareNodeMinY(t,i){return t.minY-i.minY}function bboxArea(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function bboxMargin(t){return t.maxX-t.minX+(t.maxY-t.minY)}function enlargedArea(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function intersectionArea(t,i){var n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),a=Math.min(t.maxX,i.maxX),r=Math.min(t.maxY,i.maxY);return Math.max(0,a-n)*Math.max(0,r-e)}function contains(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function intersects(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function createNode(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function multiSelect(t,i,n,e,a){for(var r,h=[i,n];h.length;)n=h.pop(),i=h.pop(),n-i<=e||(r=i+Math.ceil((n-i)/e/2)*e,quickselect(t,r,i,n,a),h.push(i,r,r,n))}module.exports=rbush;var quickselect=require("quickselect");rbush.prototype={all:function(){return this._all(this.data,[])},search:function(t){var i=this.data,n=[],e=this.toBBox;if(!intersects(t,i))return n;for(var a,r,h,o,s=[];i;){for(a=0,r=i.children.length;a<r;a++)h=i.children[a],o=i.leaf?e(h):h,intersects(t,o)&&(i.leaf?n.push(h):contains(t,o)?this._all(h,n):s.push(h));i=s.pop()}return n},collides:function(t){var i=this.data,n=this.toBBox;if(!intersects(t,i))return!1;for(var e,a,r,h,o=[];i;){for(e=0,a=i.children.length;e<a;e++)if(r=i.children[e],h=i.leaf?n(r):r,intersects(t,h)){if(i.leaf||contains(t,h))return!0;o.push(r)}i=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}var e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){var a=this.data;this.data=e,e=a}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=createNode([]),this},remove:function(t,i){if(!t)return this;for(var n,e,a,r,h=this.data,o=this.toBBox(t),s=[],c=[];h||s.length;){if(h||(h=s.pop(),e=s[s.length-1],n=c.pop(),r=!0),h.leaf&&-1!==(a=findItem(t,h.children,i)))return h.children.splice(a,1),s.push(h),this._condense(s),this;r||h.leaf||!contains(h,o)?e?(n++,h=e.children[n],r=!1):h=null:(s.push(h),c.push(n),n=0,e=h,h=h.children[0])}return this},toBBox:function(t){return t},compareMinX:compareNodeMinX,compareMinY:compareNodeMinY,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},_build:function(t,i,n,e){var a,r=n-i+1,h=this._maxEntries;if(r<=h)return a=createNode(t.slice(i,n+1)),calcBBox(a,this.toBBox),a;e||(e=Math.ceil(Math.log(r)/Math.log(h)),h=Math.ceil(r/Math.pow(h,e-1))),a=createNode([]),a.leaf=!1,a.height=e;var o,s,c,l,m=Math.ceil(r/h),u=m*Math.ceil(Math.sqrt(h));for(multiSelect(t,i,n,u,this.compareMinX),o=i;o<=n;o+=u)for(c=Math.min(o+u-1,n),multiSelect(t,o,c,m,this.compareMinY),s=o;s<=c;s+=m)l=Math.min(s+m-1,c),a.children.push(this._build(t,s,l,e-1));return calcBBox(a,this.toBBox),a},_chooseSubtree:function(t,i,n,e){for(var a,r,h,o,s,c,l,m;;){if(e.push(i),i.leaf||e.length-1===n)break;for(l=m=1/0,a=0,r=i.children.length;a<r;a++)h=i.children[a],s=bboxArea(h),c=enlargedArea(t,h)-s,c<m?(m=c,l=s<l?s:l,o=h):c===m&&s<l&&(l=s,o=h);i=o||i.children[0]}return i},_insert:function(t,i,n){var e=this.toBBox,a=n?t:e(t),r=[],h=this._chooseSubtree(a,this.data,i,r);for(h.children.push(t),extend(h,a);i>=0&&r[i].children.length>this._maxEntries;)this._split(r,i),i--;this._adjustParentBBoxes(a,r,i)},_split:function(t,i){var n=t[i],e=n.children.length,a=this._minEntries;this._chooseSplitAxis(n,a,e);var r=this._chooseSplitIndex(n,a,e),h=createNode(n.children.splice(r,n.children.length-r));h.height=n.height,h.leaf=n.leaf,calcBBox(n,this.toBBox),calcBBox(h,this.toBBox),i?t[i-1].children.push(h):this._splitRoot(n,h)},_splitRoot:function(t,i){this.data=createNode([t,i]),this.data.height=t.height+1,this.data.leaf=!1,calcBBox(this.data,this.toBBox)},_chooseSplitIndex:function(t,i,n){var e,a,r,h,o,s,c,l;for(s=c=1/0,e=i;e<=n-i;e++)a=distBBox(t,0,e,this.toBBox),r=distBBox(t,e,n,this.toBBox),h=intersectionArea(a,r),o=bboxArea(a)+bboxArea(r),h<s?(s=h,l=e,c=o<c?o:c):h===s&&o<c&&(c=o,l=e);return l},_chooseSplitAxis:function(t,i,n){var e=t.leaf?this.compareMinX:compareNodeMinX,a=t.leaf?this.compareMinY:compareNodeMinY;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,a)&&t.children.sort(e)},_allDistMargin:function(t,i,n,e){t.children.sort(e);var a,r,h=this.toBBox,o=distBBox(t,0,i,h),s=distBBox(t,n-i,n,h),c=bboxMargin(o)+bboxMargin(s);for(a=i;a<n-i;a++)r=t.children[a],extend(o,t.leaf?h(r):r),c+=bboxMargin(o);for(a=n-i-1;a>=i;a--)r=t.children[a],extend(s,t.leaf?h(r):r),c+=bboxMargin(s);return c},_adjustParentBBoxes:function(t,i,n){for(var e=n;e>=0;e--)extend(i[e],t)},_condense:function(t){for(var i,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(i=t[n-1].children,i.splice(i.indexOf(t[n]),1)):this.clear():calcBBox(t[n],this.toBBox)},_initFormat:function(t){var i=["return a"," - b",";"];this.compareMinX=new Function("a","b",i.join(t[0])),this.compareMinY=new Function("a","b",i.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};

},{"quickselect":166}],168:[function(require,module,exports){
"use strict";function cofactor(r,t){for(var n=new Array(r.length-1),e=1;e<r.length;++e)for(var o=n[e-1]=new Array(r.length-1),a=0,u=0;a<r.length;++a)a!==t&&(o[u++]=r[e][a]);return n}function matrix(r){for(var t=new Array(r),n=0;n<r;++n){t[n]=new Array(r);for(var e=0;e<r;++e)t[n][e]=["m",e,"[",r-n-1,"]"].join("")}return t}function sign(r){return 1&r?"-":""}function generateSum(r){if(1===r.length)return r[0];if(2===r.length)return["sum(",r[0],",",r[1],")"].join("");var t=r.length>>1;return["sum(",generateSum(r.slice(0,t)),",",generateSum(r.slice(t)),")"].join("")}function determinant(r){if(2===r.length)return[["sum(prod(",r[0][0],",",r[1][1],"),prod(-",r[0][1],",",r[1][0],"))"].join("")];for(var t=[],n=0;n<r.length;++n)t.push(["scale(",generateSum(determinant(cofactor(r,n))),",",sign(n),r[0][n],")"].join(""));return t}function orientation(r){for(var t=[],n=[],e=matrix(r),o=[],a=0;a<r;++a)0==(1&a)?t.push.apply(t,determinant(cofactor(e,a))):n.push.apply(n,determinant(cofactor(e,a))),o.push("m"+a);var u=generateSum(t),i=generateSum(n),s="orientation"+r+"Exact",c=["function ",s,"(",o.join(),"){var p=",u,",n=",i,",d=sub(p,n);return d[d.length-1];};return ",s].join("");return new Function("sum","prod","scale","sub",c)(robustSum,twoProduct,robustScale,robustSubtract)}function slowOrient(r){var t=CACHED[r.length];return t||(t=CACHED[r.length]=orientation(r.length)),t.apply(void 0,r)}function generateOrientationProc(){for(;CACHED.length<=NUM_EXPAND;)CACHED.push(orientation(CACHED.length));for(var r=[],t=["slow"],n=0;n<=NUM_EXPAND;++n)r.push("a"+n),t.push("o"+n);for(var e=["function getOrientation(",r.join(),"){switch(arguments.length){case 0:case 1:return 0;"],n=2;n<=NUM_EXPAND;++n)e.push("case ",n,":return o",n,"(",r.slice(0,n).join(),");");e.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),t.push(e.join(""));var o=Function.apply(void 0,t);module.exports=o.apply(void 0,[slowOrient].concat(CACHED));for(var n=0;n<=NUM_EXPAND;++n)module.exports[n]=CACHED[n]}var twoProduct=require("two-product"),robustSum=require("robust-sum"),robustScale=require("robust-scale"),robustSubtract=require("robust-subtract"),NUM_EXPAND=5,EPSILON=1.1102230246251565e-16,ERRBOUND3=(3+16*EPSILON)*EPSILON,ERRBOUND4=(7+56*EPSILON)*EPSILON,orientation3Exact=orientation(3),orientation4Exact=orientation(4),CACHED=[function(){return 0},function(){return 0},function(r,t){return t[0]-r[0]},function(r,t,n){var e,o=(r[1]-n[1])*(t[0]-n[0]),a=(r[0]-n[0])*(t[1]-n[1]),u=o-a;if(o>0){if(a<=0)return u;e=o+a}else{if(!(o<0))return u;if(a>=0)return u;e=-(o+a)}var i=ERRBOUND3*e;return u>=i||u<=-i?u:orientation3Exact(r,t,n)},function(r,t,n,e){var o=r[0]-e[0],a=t[0]-e[0],u=n[0]-e[0],i=r[1]-e[1],s=t[1]-e[1],c=n[1]-e[1],h=r[2]-e[2],l=t[2]-e[2],f=n[2]-e[2],g=a*c,p=u*s,m=u*i,E=o*c,b=o*s,v=a*i,N=h*(g-p)+l*(m-E)+f*(b-v),d=(Math.abs(g)+Math.abs(p))*Math.abs(h)+(Math.abs(m)+Math.abs(E))*Math.abs(l)+(Math.abs(b)+Math.abs(v))*Math.abs(f),A=ERRBOUND4*d;return N>A||-N>A?N:orientation4Exact(r,t,n,e)}];generateOrientationProc();
},{"robust-scale":169,"robust-subtract":170,"robust-sum":171,"two-product":183}],169:[function(require,module,exports){
"use strict";function scaleLinearExpansion(r,t){var o=r.length;if(1===o){var e=twoProduct(r[0],t);return e[0]?e:[e[1]]}var u=new Array(2*o),a=[.1,.1],n=[.1,.1],c=0;twoProduct(r[0],t,a),a[0]&&(u[c++]=a[0]);for(var i=1;i<o;++i){twoProduct(r[i],t,n);var w=a[1];twoSum(w,n[0],a),a[0]&&(u[c++]=a[0]);var s=n[1],v=a[1],d=s+v,l=d-s,m=v-l;a[1]=d,m&&(u[c++]=m)}return a[1]&&(u[c++]=a[1]),0===c&&(u[c++]=0),u.length=c,u}var twoProduct=require("two-product"),twoSum=require("two-sum");module.exports=scaleLinearExpansion;

},{"two-product":183,"two-sum":184}],170:[function(require,module,exports){
"use strict";function scalarScalar(r,t){var a=r+t,n=a-r,u=a-n,e=t-n,c=r-u,o=c+e;return o?[o,a]:[a]}function robustSubtract(r,t){var a=0|r.length,n=0|t.length;if(1===a&&1===n)return scalarScalar(r[0],-t[0]);var u,e,c=a+n,o=new Array(c),l=0,s=0,f=0,b=Math.abs,h=r[s],i=b(h),v=-t[f],S=b(v);i<S?(e=h,(s+=1)<a&&(h=r[s],i=b(h))):(e=v,(f+=1)<n&&(v=-t[f],S=b(v))),s<a&&i<S||f>=n?(u=h,(s+=1)<a&&(h=r[s],i=b(h))):(u=v,(f+=1)<n&&(v=-t[f],S=b(v)));for(var g,d,m,p,w,x=u+e,y=x-u,A=e-y,M=A,j=x;s<a&&f<n;)i<S?(u=h,(s+=1)<a&&(h=r[s],i=b(h))):(u=v,(f+=1)<n&&(v=-t[f],S=b(v))),e=M,x=u+e,y=x-u,A=e-y,A&&(o[l++]=A),g=j+x,d=g-j,m=g-d,p=x-d,w=j-m,M=w+p,j=g;for(;s<a;)u=h,e=M,x=u+e,y=x-u,A=e-y,A&&(o[l++]=A),g=j+x,d=g-j,m=g-d,p=x-d,w=j-m,M=w+p,j=g,(s+=1)<a&&(h=r[s]);for(;f<n;)u=v,e=M,x=u+e,y=x-u,A=e-y,A&&(o[l++]=A),g=j+x,d=g-j,m=g-d,p=x-d,w=j-m,M=w+p,j=g,(f+=1)<n&&(v=-t[f]);return M&&(o[l++]=M),j&&(o[l++]=j),l||(o[l++]=0),o.length=l,o}module.exports=robustSubtract;

},{}],171:[function(require,module,exports){
"use strict";function scalarScalar(r,a){var n=r+a,e=n-r,t=n-e,l=a-e,o=r-t,u=o+l;return u?[u,n]:[n]}function linearExpansionSum(r,a){var n=0|r.length,e=0|a.length;if(1===n&&1===e)return scalarScalar(r[0],a[0]);var t,l,o=n+e,u=new Array(o),i=0,s=0,c=0,f=Math.abs,h=r[s],v=f(h),S=a[c],g=f(S);v<g?(l=h,(s+=1)<n&&(h=r[s],v=f(h))):(l=S,(c+=1)<e&&(S=a[c],g=f(S))),s<n&&v<g||c>=e?(t=h,(s+=1)<n&&(h=r[s],v=f(h))):(t=S,(c+=1)<e&&(S=a[c],g=f(S)));for(var m,p,x,E,b,d=t+l,w=d-t,y=l-w,A=y,M=d;s<n&&c<e;)v<g?(t=h,(s+=1)<n&&(h=r[s],v=f(h))):(t=S,(c+=1)<e&&(S=a[c],g=f(S))),l=A,d=t+l,w=d-t,y=l-w,y&&(u[i++]=y),m=M+d,p=m-M,x=m-p,E=d-p,b=M-x,A=b+E,M=m;for(;s<n;)t=h,l=A,d=t+l,w=d-t,y=l-w,y&&(u[i++]=y),m=M+d,p=m-M,x=m-p,E=d-p,b=M-x,A=b+E,M=m,(s+=1)<n&&(h=r[s]);for(;c<e;)t=S,l=A,d=t+l,w=d-t,y=l-w,y&&(u[i++]=y),m=M+d,p=m-M,x=m-p,E=d-p,b=M-x,A=b+E,M=m,(c+=1)<e&&(S=a[c]);return A&&(u[i++]=A),M&&(u[i++]=M),i||(u[i++]=0),u.length=i,u}module.exports=linearExpansionSum;
},{}],172:[function(require,module,exports){
function isConvex(e,n){if(void 0===n&&(n=!0),3!=e.length)throw new Error("This function requires an array of three points [x,y]");return(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0])>=0==n}function windingOfRing(e){for(var n=0,r=0;r<e.length-1;r++)e[r][0]<e[n][0]&&(n=r);if(isConvex([e[(n-1).modulo(e.length-1)],e[n],e[(n+1).modulo(e.length-1)]],!0))var t=1;else var t=-1;return t}function equalArrays(e,n){if(!e||!n)return!1;if(e.length!=n.length)return!1;for(var r=0,t=e.length;r<t;r++)if(e[r]instanceof Array&&n[r]instanceof Array){if(!equalArrays(e[r],n[r]))return!1}else if(e[r]!=n[r])return!1;return!0}function getUnique(e){for(var n={},r=[],t=0,o=e.length;t<o;++t)n.hasOwnProperty(e[t])||(r.push(e[t]),n[e[t]]=1);return r}function isUnique(e){for(var n={},r=1,t=0,o=e.length;t<o;++t){if(n.hasOwnProperty(e[t])){r=0;break}n[e[t]]=1}return r}var isects=require("geojson-polygon-self-intersections"),helpers=require("@turf/helpers"),inside=require("@turf/inside"),area=require("@turf/area"),rbush=require("rbush"),debug=require("debug")("simplepolygon"),debugAll=require("debug")("simplepolygon:all");module.exports=function(e){function n(){for(var e=[],n=0;n<c.features.length;n++)debugAll("Output ring "+n+" has parent "+c.features[n].properties.parent),-1==c.features[n].properties.parent&&e.push(n);if(debugAll("The following output ring(s) have no parent: "+e),e.length>1)for(var n=0;n<e.length;n++){for(var r=-1,t=0;t<c.features.length;t++)e[n]!=t&&inside(helpers.point(c.features[e[n]].geometry.coordinates[0][0]),c.features[t],!0)&&area(c.features[t])<1/0&&(r=t,debugAll("Ring "+e[n]+" lies inside output ring "+t));c.features[e[n]].properties.parent=r,debugAll("Ring "+e[n]+" is assigned parent "+r)}}function r(){for(var e=0;e<c.features.length;e++)if(-1==c.features[e].properties.parent){var n=c.features[e].properties.winding;c.features[e].properties.netWinding=n,t(e,n)}}function t(e,n){for(var r=0;r<c.features.length;r++)if(c.features[r].properties.parent==e){var o=n+c.features[r].properties.winding;c.features[r].properties.netWinding=o,t(r,o)}}if("Feature"!=e.type)throw new Error("The input must a geojson object of type Feature");if(void 0===e.geometry||null==e.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=e.geometry.type)throw new Error("The input must be a geojson Polygon");for(var o=e.geometry.coordinates.length,i=[],g=0;g<o;g++){var s=e.geometry.coordinates[g];equalArrays(s[0],s[s.length-1])||s.push(s[0]),i.push.apply(i,s.slice(0,s.length-1))}if(!isUnique(i))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var d=i.length;debug("Processing input");var a=isects(e,function(e,n,r,t,o,i,g,s,d,a,u,l){return[e,n,r,t,o,i,g,s,d,a,u,l]}),u=a.length;if(debug("Computing self-intersections"),0==u){for(var l=[],g=0;g<o;g++)l.push(helpers.polygon([e.geometry.coordinates[g]],{parent:-1,winding:windingOfRing(e.geometry.coordinates[g])}));var c=helpers.featureCollection(l);return n(),r(),debugAll("No self-intersections found. Input rings are output rings. Computed winding numbers, net winding numbers and parents"),debug("Finishing without self-intersections"),c}for(var h=[],f=[],g=0;g<o;g++){h.push([]);for(var p=0;p<e.geometry.coordinates[g].length-1;p++)h[g].push([new PseudoVtx(e.geometry.coordinates[g][(p+1).modulo(e.geometry.coordinates[g].length-1)],1,[g,p],[g,(p+1).modulo(e.geometry.coordinates[g].length-1)],void 0)]),f.push(new Isect(e.geometry.coordinates[g][p],[g,(p-1).modulo(e.geometry.coordinates[g].length-1)],[g,p],void 0,void 0,!1,!0))}for(var g=0;g<u;g++)h[a[g][1]][a[g][2]].push(new PseudoVtx(a[g][0],a[g][5],[a[g][1],a[g][2]],[a[g][6],a[g][7]],void 0)),a[g][11]&&f.push(new Isect(a[g][0],[a[g][1],a[g][2]],[a[g][6],a[g][7]],void 0,void 0,!0,!0));for(var A=f.length,g=0;g<h.length;g++)for(var p=0;p<h[g].length;p++)h[g][p].sort(function(e,n){return e.param<n.param?-1:1});debug("Setting up pseudoVtxListByRingAndEdge and isectList"),allIsectsAsIsectRbushTreeItem=[];for(var g=0;g<A;g++)allIsectsAsIsectRbushTreeItem.push({minX:f[g].coord[0],minY:f[g].coord[1],maxX:f[g].coord[0],maxY:f[g].coord[1],index:g});var v=rbush();v.load(allIsectsAsIsectRbushTreeItem);for(var g=0;g<h.length;g++)for(var p=0;p<h[g].length;p++)for(var m=0;m<h[g][p].length;m++){var b;b=m==h[g][p].length-1?h[g][(p+1).modulo(e.geometry.coordinates[g].length-1)][0].coord:h[g][p][m+1].coord;var y=v.search({minX:b[0],minY:b[1],maxX:b[0],maxY:b[1]})[0];h[g][p][m].nxtIsectAlongEdgeIn=y.index}debug("Computing nextIsect for pseudoVtxListByRingAndEdge");for(var g=0;g<h.length;g++)for(var p=0;p<h[g].length;p++)for(var m=0;m<h[g][p].length;m++){var b=h[g][p][m].coord,y=v.search({minX:b[0],minY:b[1],maxX:b[0],maxY:b[1]})[0],x=y.index;x<d?f[x].nxtIsectAlongRingAndEdge2=h[g][p][m].nxtIsectAlongEdgeIn:equalArrays(f[x].ringAndEdge1,h[g][p][m].ringAndEdgeIn)?f[x].nxtIsectAlongRingAndEdge1=h[g][p][m].nxtIsectAlongEdgeIn:f[x].nxtIsectAlongRingAndEdge2=h[g][p][m].nxtIsectAlongEdgeIn}debug("Porting nextIsect to isectList");for(var E=[],g=0,p=0;p<o;p++){for(var I=g,m=0;m<e.geometry.coordinates[p].length-1;m++)f[g].coord[0]<f[I].coord[0]&&(I=g),g++;for(var w=f[I].nxtIsectAlongRingAndEdge2,m=0;m<f.length;m++)if(f[m].nxtIsectAlongRingAndEdge1==I||f[m].nxtIsectAlongRingAndEdge2==I){var R=m;break}var q=isConvex([f[R].coord,f[I].coord,f[w].coord],!0)?1:-1;E.push({isect:I,parent:-1,winding:q})}E.sort(function(e,n){return f[e.isect].coord>f[n.isect].coord?-1:1}),debugAll("Initial state of the queue: "+JSON.stringify(E)),debug("Setting up queue");for(var l=[];E.length>0;){var k=E.pop(),W=k.isect,C=k.parent,T=k.winding,P=l.length,O=[f[W].coord];debugAll("# Starting output ring number "+l.length+" with winding "+T+" from intersection "+W),W<d&&debugAll("This is a ring-vertex-intersections, which means this output ring does not touch existing output rings");var j=W;if(f[W].ringAndEdge1Walkable)var S=f[W].ringAndEdge1,X=f[W].nxtIsectAlongRingAndEdge1;else var S=f[W].ringAndEdge2,X=f[W].nxtIsectAlongRingAndEdge2;for(;!equalArrays(f[W].coord,f[X].coord);){debugAll("Walking from intersection "+j+" to "+X+" over ring "+S[0]+" and edge "+S[1]),O.push(f[X].coord),debugAll("Adding intersection "+X+" to current output ring");for(var Y=void 0,g=0;g<E.length;g++)if(E[g].isect==X){Y=g;break}if(void 0!=Y&&(debugAll("Removing intersection "+X+" from queue"),E.splice(Y,1)),equalArrays(S,f[X].ringAndEdge1)){if(S=f[X].ringAndEdge2,f[X].ringAndEdge2Walkable=!1,f[X].ringAndEdge1Walkable){debugAll("Adding intersection "+X+" to queue");var V={isect:X};isConvex([f[j].coord,f[X].coord,f[f[X].nxtIsectAlongRingAndEdge2].coord],1==T)?(V.parent=C,V.winding=-T):(V.parent=P,V.winding=T),E.push(V)}j=X,X=f[X].nxtIsectAlongRingAndEdge2}else{if(S=f[X].ringAndEdge1,f[X].ringAndEdge1Walkable=!1,f[X].ringAndEdge2Walkable){debugAll("Adding intersection "+X+" to queue");var V={isect:X};isConvex([f[j].coord,f[X].coord,f[f[X].nxtIsectAlongRingAndEdge1].coord],1==T)?(V.parent=C,V.winding=-T):(V.parent=P,V.winding=T),E.push(V)}j=X,X=f[X].nxtIsectAlongRingAndEdge1}debugAll("Current state of the queue: "+JSON.stringify(E))}debugAll("Walking from intersection "+j+" to "+X+" over ring "+S[0]+" and edge "+S[1]+" and closing ring"),O.push(f[X].coord),l.push(helpers.polygon([O],{index:P,parent:C,winding:T,netWinding:void 0}))}var c=helpers.featureCollection(l);return debug("Walking"),n(),debug("Determining parents"),r(),debug("Setting winding number"),debugAll("# Total of "+c.features.length+" rings"),c};var PseudoVtx=function(e,n,r,t,o){this.coord=e,this.param=n,this.ringAndEdgeIn=r,this.ringAndEdgeOut=t,this.nxtIsectAlongEdgeIn=o},Isect=function(e,n,r,t,o,i,g){this.coord=e,this.ringAndEdge1=n,this.ringAndEdge2=r,this.nxtIsectAlongRingAndEdge1=t,this.nxtIsectAlongRingAndEdge2=o,this.ringAndEdge1Walkable=i,this.ringAndEdge2Walkable=g};Number.prototype.modulo=function(e){return(this%e+e)%e};

},{"@turf/area":173,"@turf/helpers":174,"@turf/inside":49,"debug":118,"geojson-polygon-self-intersections":144,"rbush":167}],173:[function(require,module,exports){
arguments[4][54][0].apply(exports,arguments)
},{"@mapbox/geojson-area":1,"@turf/meta":175,"dup":54}],174:[function(require,module,exports){
arguments[4][57][0].apply(exports,arguments)
},{"dup":57}],175:[function(require,module,exports){
arguments[4][60][0].apply(exports,arguments)
},{"dup":60}],176:[function(require,module,exports){
"use strict";"use restrict";function dimension(e){for(var n=0,r=Math.max,t=0,o=e.length;t<o;++t)n=r(n,e[t].length);return n-1}function countVertices(e){for(var n=-1,r=Math.max,t=0,o=e.length;t<o;++t)for(var l=e[t],i=0,a=l.length;i<a;++i)n=r(n,l[i]);return n+1}function cloneCells(e){for(var n=new Array(e.length),r=0,t=e.length;r<t;++r)n[r]=e[r].slice(0);return n}function compareCells(e,n){var r=e.length,t=e.length-n.length,o=Math.min;if(t)return t;switch(r){case 0:return 0;case 1:return e[0]-n[0];case 2:var l=e[0]+e[1]-n[0]-n[1];return l||o(e[0],e[1])-o(n[0],n[1]);case 3:var i=e[0]+e[1],a=n[0]+n[1];if(l=i+e[2]-(a+n[2]))return l;var s=o(e[0],e[1]),u=o(n[0],n[1]),l=o(s,e[2])-o(u,n[2]);return l||o(s+e[2],i)-o(u+n[2],a);default:var f=e.slice(0);f.sort();var c=n.slice(0);c.sort();for(var h=0;h<r;++h)if(t=f[h]-c[h])return t;return 0}}function compareZipped(e,n){return compareCells(e[0],n[0])}function normalize(e,n){if(n){for(var r=e.length,t=new Array(r),o=0;o<r;++o)t[o]=[e[o],n[o]];t.sort(compareZipped);for(var o=0;o<r;++o)e[o]=t[o][0],n[o]=t[o][1];return e}return e.sort(compareCells),e}function unique(e){if(0===e.length)return[];for(var n=1,r=e.length,t=1;t<r;++t){var o=e[t];if(compareCells(o,e[t-1])){if(t===n){n++;continue}e[n++]=o}}return e.length=n,e}function findCell(e,n){for(var r=0,t=e.length-1,o=-1;r<=t;){var l=r+t>>1,i=compareCells(e[l],n);i<=0?(0===i&&(o=l),r=l+1):i>0&&(t=l-1)}return o}function incidence(e,n){for(var r=new Array(e.length),t=0,o=r.length;t<o;++t)r[t]=[];for(var l=[],t=0,i=n.length;t<i;++t)for(var a=n[t],s=a.length,u=1,f=1<<s;u<f;++u){l.length=bits.popCount(u);for(var c=0,h=0;h<s;++h)u&1<<h&&(l[c++]=a[h]);var p=findCell(e,l);if(!(p<0))for(;;)if(r[p++].push(t),p>=e.length||0!==compareCells(e[p],l))break}return r}function dual(e,n){if(!n)return incidence(unique(skeleton(e,0)),e,0);for(var r=new Array(n),t=0;t<n;++t)r[t]=[];for(var t=0,o=e.length;t<o;++t)for(var l=e[t],i=0,a=l.length;i<a;++i)r[l[i]].push(t);return r}function explode(e){for(var n=[],r=0,t=e.length;r<t;++r)for(var o=e[r],l=0|o.length,i=1,a=1<<l;i<a;++i){for(var s=[],u=0;u<l;++u)i>>>u&1&&s.push(o[u]);n.push(s)}return normalize(n)}function skeleton(e,n){if(n<0)return[];for(var r=[],t=(1<<n+1)-1,o=0;o<e.length;++o)for(var l=e[o],i=t;i<1<<l.length;i=bits.nextCombination(i)){for(var a=new Array(n+1),s=0,u=0;u<l.length;++u)i&1<<u&&(a[s++]=l[u]);r.push(a)}return normalize(r)}function boundary(e){for(var n=[],r=0,t=e.length;r<t;++r)for(var o=e[r],l=0,i=o.length;l<i;++l){for(var a=new Array(o.length-1),s=0,u=0;s<i;++s)s!==l&&(a[u++]=o[s]);n.push(a)}return normalize(n)}function connectedComponents_dense(e,n){for(var r=new UnionFind(n),t=0;t<e.length;++t)for(var o=e[t],l=0;l<o.length;++l)for(var i=l+1;i<o.length;++i)r.link(o[l],o[i]);for(var a=[],s=r.ranks,t=0;t<s.length;++t)s[t]=-1;for(var t=0;t<e.length;++t){var u=r.find(e[t][0]);s[u]<0?(s[u]=a.length,a.push([e[t].slice(0)])):a[s[u]].push(e[t].slice(0))}return a}function connectedComponents_sparse(e){for(var n=unique(normalize(skeleton(e,0))),r=new UnionFind(n.length),t=0;t<e.length;++t)for(var o=e[t],l=0;l<o.length;++l)for(var i=findCell(n,[o[l]]),a=l+1;a<o.length;++a)r.link(i,findCell(n,[o[a]]));for(var s=[],u=r.ranks,t=0;t<u.length;++t)u[t]=-1;for(var t=0;t<e.length;++t){var f=r.find(findCell(n,[e[t][0]]));u[f]<0?(u[f]=s.length,s.push([e[t].slice(0)])):s[u[f]].push(e[t].slice(0))}return s}function connectedComponents(e,n){return n?connectedComponents_dense(e,n):connectedComponents_sparse(e)}var bits=require("bit-twiddle"),UnionFind=require("union-find");exports.dimension=dimension,exports.countVertices=countVertices,exports.cloneCells=cloneCells,exports.compareCells=compareCells,exports.normalize=normalize,exports.unique=unique,exports.findCell=findCell,exports.incidence=incidence,exports.dual=dual,exports.explode=explode,exports.skeleton=skeleton,exports.boundary=boundary,exports.connectedComponents=connectedComponents;

},{"bit-twiddle":111,"union-find":185}],177:[function(require,module,exports){
!function(){"use strict";function n(n,e){var r=n.x-e.x,f=n.y-e.y;return r*r+f*f}function e(n,e,r){var f=e.x,t=e.y,i=r.x-f,u=r.y-t;if(0!==i||0!==u){var o=((n.x-f)*i+(n.y-t)*u)/(i*i+u*u);o>1?(f=r.x,t=r.y):o>0&&(f+=i*o,t+=u*o)}return i=n.x-f,u=n.y-t,i*i+u*u}function r(e,r){for(var f,t=e[0],i=[t],u=1,o=e.length;u<o;u++)f=e[u],n(f,t)>r&&(i.push(f),t=f);return t!==f&&i.push(f),i}function f(n,r){var f,t,i,u,o=n.length,y="undefined"!=typeof Uint8Array?Uint8Array:Array,p=new y(o),d=0,s=o-1,a=[],c=[];for(p[d]=p[s]=1;s;){for(t=0,f=d+1;f<s;f++)(i=e(n[f],n[d],n[s]))>t&&(u=f,t=i);t>r&&(p[u]=1,a.push(d,u,u,s)),s=a.pop(),d=a.pop()}for(f=0;f<o;f++)p[f]&&c.push(n[f]);return c}function t(n,e,t){var i=void 0!==e?e*e:1;return n=t?n:r(n,i),n=f(n,i)}"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof module?module.exports=t:"undefined"!=typeof self?self.simplify=t:window.simplify=t}();

},{}],178:[function(require,module,exports){
"use strict";module.exports={eudist:function(t,r,n){for(var a=t.length,s=0,e=0;e<a;e++){var u=(t[e]||0)-(r[e]||0);s+=u*u}return n?Math.sqrt(s):s},mandist:function(t,r,n){for(var a=t.length,s=0,e=0;e<a;e++)s+=Math.abs((t[e]||0)-(r[e]||0));return n?Math.sqrt(s):s},dist:function(t,r,n){var a=Math.abs(t-r);return n?a:a*a}};

},{}],179:[function(require,module,exports){
"use strict";var Distance=require("./distance.js"),eudist=Distance.eudist,dist=Distance.dist;module.exports={kmrand:function(r,t){for(var n={},a=[],e=t<<2,o=r.length,s=r[0].length>0;a.length<t&&e-- >0;){var i=r[Math.floor(Math.random()*o)],h=s?i.join("_"):""+i;n[h]||(n[h]=!0,a.push(i))}if(a.length<t)throw new Error("Error initializating clusters");return a},kmpp:function(r,t){var n=r[0].length?eudist:dist,a=[],e=r.length,o=r[0].length>0,s={},i=r[Math.floor(Math.random()*e)],h=o?i.join("_"):""+i;for(a.push(i),s[h]=!0;a.length<t;){for(var u=[],c=a.length,f=0,l=[],v=0;v<e;v++){for(var d=1/0,p=0;p<c;p++){var g=n(r[v],a[p]);g<=d&&(d=g)}u[v]=d}for(var m=0;m<e;m++)f+=u[m];for(var M=0;M<e;M++)l[M]={i:M,v:r[M],pr:u[M]/f,cs:0};l.sort(function(r,t){return r.pr-t.pr}),l[0].cs=l[0].pr;for(var j=1;j<e;j++)l[j].cs=l[j-1].cs+l[j].pr;for(var D=Math.random(),k=0;k<e-1&&l[k++].cs<D;);a.push(l[k-1].v)}return a}};

},{"./distance.js":178}],180:[function(require,module,exports){
"use strict";function init(r,a,i){i=i||[];for(var t=0;t<r;t++)i[t]=a;return i}function skmeans(r,a,i,t){var e=[],n=[],s=[],o=[],f=!1,v=t||MAX,d=r.length,u=r[0].length,k=u>0,m=[];if(i)e="kmrand"==i?kmrand(r,a):"kmpp"==i?kmpp(r,a):i;else for(var l={};e.length<a;){var p=Math.floor(Math.random()*d);l[p]||(l[p]=!0,e.push(r[p]))}do{init(a,0,m);for(var c=0;c<d;c++){for(var h=1/0,M=0,D=0;D<a;D++){var o=k?eudist(r[c],e[D]):Math.abs(r[c]-e[D]);o<=h&&(h=o,M=D)}s[c]=M,m[M]++}for(var b=[],n=[],g=0;g<a;g++)b[g]=k?init(u,0,b[g]):0,n[g]=e[g];if(k){for(var A=0;A<a;A++)e[A]=[];for(var C=0;C<d;C++)for(var I=s[C],X=b[I],j=r[C],q=0;q<u;q++)X[q]+=j[q];f=!0;for(var x=0;x<a;x++){for(var w=e[x],y=b[x],z=n[x],B=m[x],E=0;E<u;E++)w[E]=y[E]/B||0;if(f)for(var F=0;F<u;F++)if(z[F]!=w[F]){f=!1;break}}}else{for(var G=0;G<d;G++){b[s[G]]+=r[G]}for(var H=0;H<a;H++)e[H]=b[H]/m[H]||0;f=!0;for(var J=0;J<a;J++)if(n[J]!=e[J]){f=!1;break}}f=f||--v<=0}while(!f);return{it:MAX-v,k:a,idxs:s,centroids:e}}var Distance=require("./distance.js"),ClusterInit=require("./kinit.js"),eudist=Distance.eudist,mandist=Distance.mandist,dist=Distance.dist,kmrand=ClusterInit.kmrand,kmpp=ClusterInit.kmpp,MAX=1e4;module.exports=skmeans;

},{"./distance.js":178,"./kinit.js":179}],181:[function(require,module,exports){
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.topojson=e.topojson||{})}(this,function(e){"use strict";function r(e,r){var n=r.id,o=r.bbox,a=null==r.properties?{}:r.properties,c=t(e,r);return null==n&&null==o?{type:"Feature",properties:a,geometry:c}:null==o?{type:"Feature",id:n,properties:a,geometry:c}:{type:"Feature",id:n,bbox:o,properties:a,geometry:c}}function t(e,r){function t(e,r){r.length&&r.pop();for(var t=l[e<0?~e:e],n=0,o=t.length;n<o;++n)r.push(f(t[n],n));e<0&&s(r,o)}function n(e){return f(e)}function o(e){for(var r=[],n=0,o=e.length;n<o;++n)t(e[n],r);return r.length<2&&r.push(r[0]),r}function a(e){for(var r=o(e);r.length<4;)r.push(r[0]);return r}function c(e){return e.map(a)}function i(e){var r,t=e.type;switch(t){case"GeometryCollection":return{type:t,geometries:e.geometries.map(i)};case"Point":r=n(e.coordinates);break;case"MultiPoint":r=e.coordinates.map(n);break;case"LineString":r=o(e.arcs);break;case"MultiLineString":r=e.arcs.map(o);break;case"Polygon":r=c(e.arcs);break;case"MultiPolygon":r=e.arcs.map(c);break;default:return null}return{type:t,coordinates:r}}var f=u(e.transform),l=e.arcs;return i(r)}function n(e,r,t){var n,a,c;if(arguments.length>1)n=o(e,r,t);else for(a=0,n=new Array(c=e.arcs.length);a<c;++a)n[a]=a;return{type:"MultiLineString",arcs:h(e,n)}}function o(e,r,t){function n(e){var r=e<0?~e:e;(s[r]||(s[r]=[])).push({i:e,g:u})}function o(e){e.forEach(n)}function a(e){e.forEach(o)}function c(e){e.forEach(a)}function i(e){switch(u=e,e.type){case"GeometryCollection":e.geometries.forEach(i);break;case"LineString":o(e.arcs);break;case"MultiLineString":case"Polygon":a(e.arcs);break;case"MultiPolygon":c(e.arcs)}}var u,f=[],s=[];return i(r),s.forEach(null==t?function(e){f.push(e[0].i)}:function(e){t(e[0].g,e[e.length-1].g)&&f.push(e[0].i)}),f}function a(e){for(var r,t=-1,n=e.length,o=e[n-1],a=0;++t<n;)r=o,o=e[t],a+=r[0]*o[1]-r[1]*o[0];return Math.abs(a)}function c(e,r){function n(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(n);break;case"Polygon":o(e.arcs);break;case"MultiPolygon":e.arcs.forEach(o)}}function o(e){e.forEach(function(r){r.forEach(function(r){(i[r=r<0?~r:r]||(i[r]=[])).push(e)})}),u.push(e)}function c(r){return a(t(e,{type:"Polygon",arcs:[r]}).coordinates[0])}var i={},u=[],f=[];return r.forEach(n),u.forEach(function(e){if(!e._){var r=[],t=[e];for(e._=1,f.push(r);e=t.pop();)r.push(e),e.forEach(function(e){e.forEach(function(e){i[e<0?~e:e].forEach(function(e){e._||(e._=1,t.push(e))})})})}}),u.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:f.map(function(r){var t,n=[];if(r.forEach(function(e){e.forEach(function(e){e.forEach(function(e){i[e<0?~e:e].length<2&&n.push(e)})})}),n=h(e,n),(t=n.length)>1)for(var o,a,u=1,f=c(n[0]);u<t;++u)(o=c(n[u]))>f&&(a=n[0],n[0]=n[u],n[u]=a,f=o);return n})}}var i=function(e){return e},u=function(e){if(null==e)return i;var r,t,n=e.scale[0],o=e.scale[1],a=e.translate[0],c=e.translate[1];return function(e,i){i||(r=t=0);var u=2,f=e.length,s=new Array(f);for(s[0]=(r+=e[0])*n+a,s[1]=(t+=e[1])*o+c;u<f;)s[u]=e[u],++u;return s}},f=function(e){function r(e){e=o(e),e[0]<a&&(a=e[0]),e[0]>i&&(i=e[0]),e[1]<c&&(c=e[1]),e[1]>f&&(f=e[1])}function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Point":r(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(r)}}var n,o=u(e.transform),a=1/0,c=a,i=-a,f=-a;e.arcs.forEach(function(e){for(var r,t=-1,n=e.length;++t<n;)r=o(e[t],t),r[0]<a&&(a=r[0]),r[0]>i&&(i=r[0]),r[1]<c&&(c=r[1]),r[1]>f&&(f=r[1])});for(n in e.objects)t(e.objects[n]);return[a,c,i,f]},s=function(e,r){for(var t,n=e.length,o=n-r;o<--n;)t=e[o],e[o++]=e[n],e[n]=t},l=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return r(e,t)})}:r(e,t)},h=function(e,r){function t(r){var t,n=e.arcs[r<0?~r:r],o=n[0];return e.transform?(t=[0,0],n.forEach(function(e){t[0]+=e[0],t[1]+=e[1]})):t=n[n.length-1],r<0?[t,o]:[o,t]}function n(e,r){for(var t in e){var n=e[t];delete r[n.start],delete n.start,delete n.end,n.forEach(function(e){o[e<0?~e:e]=1}),i.push(n)}}var o={},a={},c={},i=[],u=-1;return r.forEach(function(t,n){var o,a=e.arcs[t<0?~t:t];a.length<3&&!a[1][0]&&!a[1][1]&&(o=r[++u],r[u]=t,r[n]=o)}),r.forEach(function(e){var r,n,o=t(e),i=o[0],u=o[1];if(r=c[i])if(delete c[r.end],r.push(e),r.end=u,n=a[u]){delete a[n.start];var f=n===r?r:r.concat(n);a[f.start=r.start]=c[f.end=n.end]=f}else a[r.start]=c[r.end]=r;else if(r=a[u])if(delete a[r.start],r.unshift(e),r.start=i,n=c[i]){delete c[n.end];var s=n===r?r:n.concat(r);a[s.start=n.start]=c[s.end=r.end]=s}else a[r.start]=c[r.end]=r;else r=[e],a[r.start=i]=c[r.end=u]=r}),n(c,a),n(a,c),r.forEach(function(e){o[e<0?~e:e]||i.push([e])}),i},p=function(e){return t(e,n.apply(this,arguments))},g=function(e){return t(e,c.apply(this,arguments))},y=function(e,r){for(var t=0,n=e.length;t<n;){var o=t+n>>>1;e[o]<r?t=o+1:n=o}return t},d=function(e){function r(e,r){e.forEach(function(e){e<0&&(e=~e);var t=o[e];t?t.push(r):o[e]=[r]})}function t(e,t){e.forEach(function(e){r(e,t)})}function n(e,r){"GeometryCollection"===e.type?e.geometries.forEach(function(e){n(e,r)}):e.type in c&&c[e.type](e.arcs,r)}var o={},a=e.map(function(){return[]}),c={LineString:r,MultiLineString:t,Polygon:t,MultiPolygon:function(e,r){e.forEach(function(e){t(e,r)})}};e.forEach(n);for(var i in o)for(var u=o[i],f=u.length,s=0;s<f;++s)for(var l=s+1;l<f;++l){var h,p=u[s],g=u[l];(h=a[p])[i=y(h,g)]!==g&&h.splice(i,0,g),(h=a[g])[i=y(h,p)]!==p&&h.splice(i,0,p)}return a},m=function(e){if(null==e)return i;var r,t,n=e.scale[0],o=e.scale[1],a=e.translate[0],c=e.translate[1];return function(e,i){i||(r=t=0);var u=2,f=e.length,s=new Array(f),l=Math.round((e[0]-a)/n),h=Math.round((e[1]-c)/o);for(s[0]=l-r,r=l,s[1]=h-t,t=h;u<f;)s[u]=e[u],++u;return s}},b=function(e,r){function t(e){return p(e)}function n(e){var r;switch(e.type){case"GeometryCollection":r={type:"GeometryCollection",geometries:e.geometries.map(n)};break;case"Point":r={type:"Point",coordinates:t(e.coordinates)};break;case"MultiPoint":r={type:"MultiPoint",coordinates:e.coordinates.map(t)};break;default:return e}return null!=e.id&&(r.id=e.id),null!=e.bbox&&(r.bbox=e.bbox),null!=e.properties&&(r.properties=e.properties),r}function o(e){var r,t=0,n=1,o=e.length,a=new Array(o);for(a[0]=p(e[0],0);++t<o;)((r=p(e[t],t))[0]||r[1])&&(a[n++]=r);return 1===n&&(a[n++]=[0,0]),a.length=n,a}if(e.transform)throw new Error("already quantized");if(r&&r.scale)l=e.bbox;else{if(!((a=Math.floor(r))>=2))throw new Error("n must be 2");l=e.bbox||f(e);var a,c=l[0],i=l[1],u=l[2],s=l[3];r={scale:[u-c?(u-c)/(a-1):1,s-i?(s-i)/(a-1):1],translate:[c,i]}}var l,h,p=m(r),g=e.objects,y={};for(h in g)y[h]=n(g[h]);return{type:"Topology",bbox:l,transform:r,objects:y,arcs:e.arcs.map(o)}};e.bbox=f,e.feature=l,e.mesh=p,e.meshArcs=n,e.merge=g,e.mergeArcs=c,e.neighbors=d,e.quantize=b,e.transform=u,e.untransform=m,Object.defineProperty(e,"__esModule",{value:!0})});

},{}],182:[function(require,module,exports){
!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(n.topojson=n.topojson||{})}(this,function(n){"use strict";function r(n,r,e,o){t(n,r,e),t(n,r,r+o),t(n,r+o,e)}function t(n,r,t){for(var e,o=r+(t---r>>1);r<o;++r,--t)e=n[r],n[r]=n[t],n[t]=e}function e(n){return null==n?{type:null}:("FeatureCollection"===n.type?o:"Feature"===n.type?i:u)(n)}function o(n){var r={type:"GeometryCollection",geometries:n.features.map(i)};return null!=n.bbox&&(r.bbox=n.bbox),r}function i(n){var r,t=u(n.geometry);null!=n.id&&(t.id=n.id),null!=n.bbox&&(t.bbox=n.bbox);for(r in n.properties){t.properties=n.properties;break}return t}function u(n){if(null==n)return{type:null};var r="GeometryCollection"===n.type?{type:"GeometryCollection",geometries:n.geometries.map(u)}:"Point"===n.type||"MultiPoint"===n.type?{type:n.type,coordinates:n.coordinates}:{type:n.type,arcs:n.coordinates};return null!=n.bbox&&(r.bbox=n.bbox),r}function a(n){var r,t=n[0],e=n[1];return e<t&&(r=t,t=e,e=r),t+31*e}function f(n,r){var t,e=n[0],o=n[1],i=r[0],u=r[1];return o<e&&(t=e,e=o,o=t),u<i&&(t=i,i=u,u=t),e===i&&o===u}var c=function(n){function r(n){null!=n&&c.hasOwnProperty(n.type)&&c[n.type](n)}function t(n){var r=n[0],t=n[1];r<i&&(i=r),r>a&&(a=r),t<u&&(u=t),t>f&&(f=t)}function e(n){n.forEach(t)}function o(n){n.forEach(e)}var i=1/0,u=1/0,a=-1/0,f=-1/0,c={GeometryCollection:function(n){n.geometries.forEach(r)},Point:function(n){t(n.coordinates)},MultiPoint:function(n){n.coordinates.forEach(t)},LineString:function(n){e(n.arcs)},MultiLineString:function(n){n.arcs.forEach(e)},Polygon:function(n){n.arcs.forEach(e)},MultiPolygon:function(n){n.arcs.forEach(o)}};for(var l in n)r(n[l]);return a>=i&&f>=u?[i,u,a,f]:void 0},l=function(n,r,t,e,o){function i(e){for(var i=r(e)&c,u=f[i],a=0;u!=o;){if(t(u,e))return!0;if(++a>=n)throw new Error("full hashset");u=f[i=i+1&c]}return f[i]=e,!0}function u(e){for(var i=r(e)&c,u=f[i],a=0;u!=o;){if(t(u,e))return!0;if(++a>=n)break;u=f[i=i+1&c]}return!1}function a(){for(var n=[],r=0,t=f.length;r<t;++r){var e=f[r];e!=o&&n.push(e)}return n}3===arguments.length&&(e=Array,o=null);for(var f=new e(n=1<<Math.max(4,Math.ceil(Math.log(n)/Math.LN2))),c=n-1,l=0;l<n;++l)f[l]=o;return{add:i,has:u,values:a}},s=function(n,r,t,e,o,i){function u(e,i){for(var u=r(e)&h,a=l[u],f=0;a!=o;){if(t(a,e))return s[u]=i;if(++f>=n)throw new Error("full hashmap");a=l[u=u+1&h]}return l[u]=e,s[u]=i,i}function a(e,i){for(var u=r(e)&h,a=l[u],f=0;a!=o;){if(t(a,e))return s[u];if(++f>=n)throw new Error("full hashmap");a=l[u=u+1&h]}return l[u]=e,s[u]=i,i}function f(e,i){for(var u=r(e)&h,a=l[u],f=0;a!=o;){if(t(a,e))return s[u];if(++f>=n)break;a=l[u=u+1&h]}return i}function c(){for(var n=[],r=0,t=l.length;r<t;++r){var e=l[r];e!=o&&n.push(e)}return n}3===arguments.length&&(e=i=Array,o=null);for(var l=new e(n=1<<Math.max(4,Math.ceil(Math.log(n)/Math.LN2))),s=new i(n),h=n-1,g=0;g<n;++g)l[g]=o;return{set:u,maybeSet:a,get:f,keys:c}},h=function(n,r){return n[0]===r[0]&&n[1]===r[1]},g=new ArrayBuffer(16),p=new Float64Array(g),v=new Uint32Array(g),y=function(n){p[0]=n[0],p[1]=n[1];var r=v[0]^v[1];return 2147483647&(r=r<<5^r>>7^v[2]^v[3])},d=function(n){function r(n,r,t,e){if(d[t]!==n){d[t]=n;var o=m[t];if(o>=0){var i=b[t];o===r&&i===e||o===e&&i===r||(++M,w[t]=1)}else m[t]=r,b[t]=e}}function t(n){return y(c[n])}function e(n,r){return h(c[n],c[r])}var o,i,u,a,f,c=n.coordinates,g=n.lines,p=n.rings,v=function(){for(var n=s(1.4*c.length,t,e,Int32Array,-1,Int32Array),r=new Int32Array(c.length),o=0,i=c.length;o<i;++o)r[o]=n.maybeSet(o,o);return r}(),d=new Int32Array(c.length),m=new Int32Array(c.length),b=new Int32Array(c.length),w=new Int8Array(c.length),M=0;for(o=0,i=c.length;o<i;++o)d[o]=m[o]=b[o]=-1;for(o=0,i=g.length;o<i;++o){var x=g[o],P=x[0],A=x[1];for(a=v[P],f=v[++P],++M,w[a]=1;++P<=A;)r(o,u=a,a=f,f=v[P]);++M,w[f]=1}for(o=0,i=c.length;o<i;++o)d[o]=-1;for(o=0,i=p.length;o<i;++o){var E=p[o],L=E[0]+1,S=E[1];for(u=v[S-1],a=v[L-1],f=v[L],r(o,u,a,f);++L<=S;)r(o,u=a,a=f,f=v[L])}d=m=b=null;var C,G=l(1.4*M,y,h);for(o=0,i=c.length;o<i;++o)w[C=v[o]]&&G.add(c[C]);return G},m=function(n){var t,e,o,i=d(n),u=n.coordinates,a=n.lines,f=n.rings;for(e=0,o=a.length;e<o;++e)for(var c=a[e],l=c[0],s=c[1];++l<s;)i.has(u[l])&&(t={0:l,1:c[1]},c[1]=l,c=c.next=t);for(e=0,o=f.length;e<o;++e)for(var h=f[e],g=h[0],p=g,v=h[1],y=i.has(u[g]);++p<v;)i.has(u[p])&&(y?(t={0:p,1:h[1]},h[1]=p,h=h.next=t):(r(u,g,v,v-p),u[v]=u[g],y=!0,p=g));return n},b=function(n){function r(n){var r,o,i,u,a,f,c,l;if(i=m.get(r=g[n[0]]))for(c=0,l=i.length;c<l;++c)if(u=i[c],t(u,n))return n[0]=u[0],void(n[1]=u[1]);if(a=m.get(o=g[n[1]]))for(c=0,l=a.length;c<l;++c)if(f=a[c],e(f,n))return n[1]=f[0],void(n[0]=f[1]);i?i.push(n):m.set(r,[n]),a?a.push(n):m.set(o,[n]),b.push(n)}function t(n,r){var t=n[0],e=r[0],o=n[1];if(t-o!=e-r[1])return!1;for(;t<=o;++t,++e)if(!h(g[t],g[e]))return!1;return!0}function e(n,r){var t=n[0],e=r[0],o=n[1],i=r[1];if(t-o!=e-i)return!1;for(;t<=o;++t,--i)if(!h(g[t],g[i]))return!1;return!0}function o(n,r){var t=n[0],e=r[0],o=n[1],i=r[1],a=o-t;if(a!==i-e)return!1;for(var f=u(n),c=u(r),l=0;l<a;++l)if(!h(g[t+(l+f)%a],g[e+(l+c)%a]))return!1;return!0}function i(n,r){var t=n[0],e=r[0],o=n[1],i=r[1],a=o-t;if(a!==i-e)return!1;for(var f=u(n),c=a-u(r),l=0;l<a;++l)if(!h(g[t+(l+f)%a],g[i-(l+c)%a]))return!1;return!0}function u(n){for(var r=n[0],t=n[1],e=r,o=e,i=g[e];++e<t;){var u=g[e];(u[0]<i[0]||u[0]===i[0]&&u[1]<i[1])&&(o=e,i=u)}return o-r}var a,f,c,l,g=n.coordinates,p=n.lines,v=n.rings,d=p.length+v.length;for(delete n.lines,delete n.rings,c=0,l=p.length;c<l;++c)for(a=p[c];a=a.next;)++d;for(c=0,l=v.length;c<l;++c)for(f=v[c];f=f.next;)++d;var m=s(2*d*1.4,y,h),b=n.arcs=[];for(c=0,l=p.length;c<l;++c){a=p[c];do{r(a)}while(a=a.next)}for(c=0,l=v.length;c<l;++c)if(f=v[c],f.next)do{r(f)}while(f=f.next);else!function(n){var r,t,e,a,f;if(t=m.get(r=g[n[0]]))for(a=0,f=t.length;a<f;++a){if(e=t[a],o(e,n))return n[0]=e[0],void(n[1]=e[1]);if(i(e,n))return n[0]=e[1],void(n[1]=e[0])}if(t=m.get(r=g[n[0]+u(n)]))for(a=0,f=t.length;a<f;++a){if(e=t[a],o(e,n))return n[0]=e[0],void(n[1]=e[1]);if(i(e,n))return n[0]=e[1],void(n[1]=e[0])}t?t.push(n):m.set(r,[n]),b.push(n)}(f);return n},w=function(n){for(var r=-1,t=n.length;++r<t;){for(var e,o,i=n[r],u=0,a=1,f=i.length,c=i[0],l=c[0],s=c[1];++u<f;)c=i[u],e=c[0],o=c[1],e===l&&o===s||(i[a++]=[e-l,o-s],l=e,s=o);1===a&&(i[a++]=[0,0]),i.length=a}return n},M=function(n){function r(n){n&&c.hasOwnProperty(n.type)&&c[n.type](n)}function t(n){for(var r=0,t=n.length;r<t;++r)f[++i]=n[r];var e={0:i-t+1,1:i};return u.push(e),e}function e(n){for(var r=0,t=n.length;r<t;++r)f[++i]=n[r];var e={0:i-t+1,1:i};return a.push(e),e}function o(n){return n.map(e)}var i=-1,u=[],a=[],f=[],c={GeometryCollection:function(n){n.geometries.forEach(r)},LineString:function(n){n.arcs=t(n.arcs)},MultiLineString:function(n){n.arcs=n.arcs.map(t)},Polygon:function(n){n.arcs=n.arcs.map(e)},MultiPolygon:function(n){n.arcs=n.arcs.map(o)}};for(var l in n)r(n[l]);return{type:"Topology",coordinates:f,lines:u,rings:a,objects:n}},x=function(n){var r,t={};for(r in n)t[r]=e(n[r]);return t},P=function(n,r,t){function e(n){return[Math.round((n[0]-c)*g),Math.round((n[1]-l)*p)]}function o(n,r){for(var t,e,o,i,u,a=-1,f=0,s=n.length,h=new Array(s);++a<s;)t=n[a],i=Math.round((t[0]-c)*g),u=Math.round((t[1]-l)*p),i===e&&u===o||(h[f++]=[e=i,o=u]);for(h.length=f;f<r;)f=h.push([h[0][0],h[0][1]]);return h}function i(n){return o(n,2)}function u(n){return o(n,4)}function a(n){return n.map(u)}function f(n){null!=n&&v.hasOwnProperty(n.type)&&v[n.type](n)}var c=r[0],l=r[1],s=r[2],h=r[3],g=s-c?(t-1)/(s-c):1,p=h-l?(t-1)/(h-l):1,v={GeometryCollection:function(n){n.geometries.forEach(f)},Point:function(n){n.coordinates=e(n.coordinates)},MultiPoint:function(n){n.coordinates=n.coordinates.map(e)},LineString:function(n){n.arcs=i(n.arcs)},MultiLineString:function(n){n.arcs=n.arcs.map(i)},Polygon:function(n){n.arcs=a(n.arcs)},MultiPolygon:function(n){n.arcs=n.arcs.map(a)}};for(var y in n)f(n[y]);return{scale:[1/g,1/p],translate:[c,l]}},A=function(n,r){function t(n){n&&p.hasOwnProperty(n.type)&&p[n.type](n)}function e(n){var r=[];do{var t=g.get(n);r.push(n[0]<n[1]?t:~t)}while(n=n.next);return r}function o(n){return n.map(e)}var i=c(n=x(n)),u=r>0&&i&&P(n,i,r),l=b(m(M(n))),h=l.coordinates,g=s(1.4*l.arcs.length,a,f);n=l.objects,l.bbox=i,l.arcs=l.arcs.map(function(n,r){return g.set(n,r),h.slice(n[0],n[1]+1)}),delete l.coordinates,h=null;var p={GeometryCollection:function(n){n.geometries.forEach(t)},LineString:function(n){n.arcs=e(n.arcs)},MultiLineString:function(n){n.arcs=n.arcs.map(e)},Polygon:function(n){n.arcs=n.arcs.map(e)},MultiPolygon:function(n){n.arcs=n.arcs.map(o)}};for(var v in n)t(n[v]);return u&&(l.transform=u,l.arcs=w(l.arcs)),l};n.topology=A,Object.defineProperty(n,"__esModule",{value:!0})});

},{}],183:[function(require,module,exports){
"use strict";function twoProduct(t,o,r){var u=t*o,T=SPLITTER*t,P=T-t,c=T-P,e=t-c,a=SPLITTER*o,d=a-o,n=a-d,s=o-n,w=u-c*n,E=w-e*n,I=E-c*s,L=e*s-I;return r?(r[0]=L,r[1]=u,r):[L,u]}module.exports=twoProduct;var SPLITTER=+(Math.pow(2,27)+1);

},{}],184:[function(require,module,exports){
"use strict";function fastTwoSum(t,u,o){var r=t+u,s=r-t,e=r-s,a=u-s,f=t-e;return o?(o[0]=f+a,o[1]=r,o):[f+a,r]}module.exports=fastTwoSum;
},{}],185:[function(require,module,exports){
"use strict";"use restrict";function UnionFind(t){this.roots=new Array(t),this.ranks=new Array(t);for(var r=0;r<t;++r)this.roots[r]=r,this.ranks[r]=0}module.exports=UnionFind;var proto=UnionFind.prototype;Object.defineProperty(proto,"length",{get:function(){return this.roots.length}}),proto.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},proto.find=function(t){for(var r=t,o=this.roots;o[t]!==t;)t=o[t];for(;o[r]!==t;){var n=o[r];o[r]=t,r=n}return t},proto.link=function(t,r){var o=this.find(t),n=this.find(r);if(o!==n){var i=this.ranks,s=this.roots,e=i[o],h=i[n];e<h?s[o]=n:h<e?s[n]=o:(s[n]=o,++i[o])}};

},{}],186:[function(require,module,exports){
module.exports.RADIUS=6378137,module.exports.FLATTENING=1/298.257223563,module.exports.POLAR_RADIUS=6356752.3142;
},{}],187:[function(require,module,exports){
module.exports={along:require("@turf/along"),area:require("@turf/area"),bbox:require("@turf/bbox"),bboxClip:require("@turf/bbox-clip"),bboxPolygon:require("@turf/bbox-polygon"),bearing:require("@turf/bearing"),bezier:require("@turf/bezier"),booleanClockwise:require("@turf/boolean-clockwise"),booleanContains:require("@turf/boolean-contains"),booleanCrosses:require("@turf/boolean-crosses"),booleanDisjoint:require("@turf/boolean-disjoint"),booleanEqual:require("@turf/boolean-equal"),booleanOverlap:require("@turf/boolean-overlap"),booleanPointOnLine:require("@turf/boolean-point-on-line"),booleanWithin:require("@turf/boolean-within"),buffer:require("@turf/buffer"),center:require("@turf/center"),centerOfMass:require("@turf/center-of-mass"),centroid:require("@turf/centroid"),circle:require("@turf/circle"),cleanCoords:require("@turf/clean-coords"),clone:require("@turf/clone"),clusters:require("@turf/clusters"),clustersDbscan:require("@turf/clusters-dbscan"),clustersKmeans:require("@turf/clusters-kmeans"),collect:require("@turf/collect"),combine:require("@turf/combine"),concave:require("@turf/concave"),convex:require("@turf/convex"),destination:require("@turf/destination"),difference:require("@turf/difference"),dissolve:require("@turf/dissolve"),distance:require("@turf/distance"),envelope:require("@turf/envelope"),explode:require("@turf/explode"),flatten:require("@turf/flatten"),flip:require("@turf/flip"),greatCircle:require("@turf/great-circle"),helpers:require("@turf/helpers"),hexGrid:require("@turf/hex-grid"),idw:require("@turf/idw"),inside:require("@turf/inside"),interpolate:require("@turf/interpolate"),intersect:require("@turf/intersect"),invariant:require("@turf/invariant"),isobands:require("@turf/isobands"),isolines:require("@turf/isolines"),kinks:require("@turf/kinks"),lineArc:require("@turf/line-arc"),lineChunk:require("@turf/line-chunk"),lineDistance:require("@turf/line-distance"),lineIntersect:require("@turf/line-intersect"),lineOffset:require("@turf/line-offset"),lineOverlap:require("@turf/line-overlap"),lineSegment:require("@turf/line-segment"),lineSlice:require("@turf/line-slice"),lineSliceAlong:require("@turf/line-slice-along"),lineSplit:require("@turf/line-split"),linestringToPolygon:require("@turf/linestring-to-polygon"),mask:require("@turf/mask"),meta:require("@turf/meta"),midpoint:require("@turf/midpoint"),nearest:require("@turf/nearest"),planepoint:require("@turf/planepoint"),pointGrid:require("@turf/point-grid"),pointOnLine:require("@turf/point-on-line"),pointOnSurface:require("@turf/point-on-surface"),pointToLineDistance:require("@turf/point-to-line-distance"),polygonTangents:require("@turf/polygon-tangents"),polygonToLinestring:require("@turf/polygon-to-linestring"),polygonize:require("@turf/polygonize"),projection:require("@turf/projection"),random:require("@turf/random"),rewind:require("@turf/rewind"),rhumbBearing:require("@turf/rhumb-bearing"),rhumbDestination:require("@turf/rhumb-destination"),rhumbDistance:require("@turf/rhumb-distance"),sample:require("@turf/sample"),sector:require("@turf/sector"),simplify:require("@turf/simplify"),square:require("@turf/square"),squareGrid:require("@turf/square-grid"),tag:require("@turf/tag"),tesselate:require("@turf/tesselate"),tin:require("@turf/tin"),transformRotate:require("@turf/transform-rotate"),transformScale:require("@turf/transform-scale"),transformTranslate:require("@turf/transform-translate"),triangleGrid:require("@turf/triangle-grid"),truncate:require("@turf/truncate"),union:require("@turf/union"),unkinkPolygon:require("@turf/unkink-polygon"),within:require("@turf/within")};
},{"@turf/along":2,"@turf/area":3,"@turf/bbox":6,"@turf/bbox-clip":4,"@turf/bbox-polygon":5,"@turf/bearing":7,"@turf/bezier":8,"@turf/boolean-clockwise":10,"@turf/boolean-contains":11,"@turf/boolean-crosses":12,"@turf/boolean-disjoint":13,"@turf/boolean-equal":14,"@turf/boolean-overlap":15,"@turf/boolean-point-on-line":16,"@turf/boolean-within":17,"@turf/buffer":18,"@turf/center":24,"@turf/center-of-mass":23,"@turf/centroid":25,"@turf/circle":26,"@turf/clean-coords":27,"@turf/clone":28,"@turf/clusters":31,"@turf/clusters-dbscan":29,"@turf/clusters-kmeans":30,"@turf/collect":32,"@turf/combine":33,"@turf/concave":34,"@turf/convex":35,"@turf/destination":36,"@turf/difference":37,"@turf/dissolve":38,"@turf/distance":39,"@turf/envelope":40,"@turf/explode":41,"@turf/flatten":42,"@turf/flip":43,"@turf/great-circle":45,"@turf/helpers":46,"@turf/hex-grid":47,"@turf/idw":48,"@turf/inside":49,"@turf/interpolate":50,"@turf/intersect":51,"@turf/invariant":52,"@turf/isobands":53,"@turf/isolines":61,"@turf/kinks":63,"@turf/line-arc":64,"@turf/line-chunk":65,"@turf/line-distance":66,"@turf/line-intersect":67,"@turf/line-offset":68,"@turf/line-overlap":70,"@turf/line-segment":71,"@turf/line-slice":73,"@turf/line-slice-along":72,"@turf/line-split":74,"@turf/linestring-to-polygon":75,"@turf/mask":76,"@turf/meta":77,"@turf/midpoint":78,"@turf/nearest":79,"@turf/planepoint":80,"@turf/point-grid":81,"@turf/point-on-line":82,"@turf/point-on-surface":83,"@turf/point-to-line-distance":84,"@turf/polygon-tangents":85,"@turf/polygon-to-linestring":86,"@turf/polygonize":87,"@turf/projection":88,"@turf/random":89,"@turf/rewind":90,"@turf/rhumb-bearing":91,"@turf/rhumb-destination":92,"@turf/rhumb-distance":93,"@turf/sample":94,"@turf/sector":95,"@turf/simplify":96,"@turf/square":98,"@turf/square-grid":97,"@turf/tag":99,"@turf/tesselate":100,"@turf/tin":101,"@turf/transform-rotate":102,"@turf/transform-scale":103,"@turf/transform-translate":104,"@turf/triangle-grid":105,"@turf/truncate":106,"@turf/union":107,"@turf/unkink-polygon":108,"@turf/within":109}]},{},[187])(187)
});